%
\begin{isabellebody}%
\setisabellecontext{Ailamazyan}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Ailamazyan\isanewline
\ \ \isakeyword{imports}\ Eval{\isacharunderscore}{\kern0pt}FO\ Cluster\ Mapping{\isacharunderscore}{\kern0pt}Code\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isacommand{fun}\isamarkupfalse%
\ SP\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Eqa\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymnoteq}\ n{\isacharprime}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ n{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}\ {\isasymunion}\ SP\ {\isasympsi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}\ {\isasymunion}\ SP\ {\isasympsi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}fv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isasymphi}\ {\isasymsubseteq}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ rule{\isacharcolon}{\kern0pt}\ SP{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}SP{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}fv\ finite{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ finite{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Eqa\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymnoteq}\ n{\isacharprime}{\kern0pt}\ then\ {\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ n{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}\ {\isacharat}{\kern0pt}\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasympsi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}\ {\isacharat}{\kern0pt}\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasympsi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}m{\isachardot}{\kern0pt}\ n\ {\isasymnoteq}\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}m{\isachardot}{\kern0pt}\ n\ {\isasymnoteq}\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}list\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ remdups{\isacharunderscore}{\kern0pt}adj\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ rule{\isacharcolon}{\kern0pt}\ SP{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}sort{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ d\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Eqa\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymnoteq}\ n{\isacharprime}{\kern0pt}\ then\ {\isadigit{2}}\ else\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ max\ {\isacharparenleft}{\kern0pt}d\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}max\ {\isacharparenleft}{\kern0pt}d\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}SP\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ max\ {\isacharparenleft}{\kern0pt}d\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}max\ {\isacharparenleft}{\kern0pt}d\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}SP\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}pos{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ rule{\isacharcolon}{\kern0pt}\ d{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}SP{\isacharunderscore}{\kern0pt}d{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}trans\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ rule{\isacharcolon}{\kern0pt}\ SP{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Diff{\isadigit{1}}{\isacharunderscore}{\kern0pt}le\ finite{\isacharunderscore}{\kern0pt}SP{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterm\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymcdot}e{\isachardoublequoteclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eterm\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}Const\ c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ c{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eterm\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ n{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymodot}e{\isachardoublequoteclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eterms\ {\isasymsigma}\ ts\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}eterm\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterm{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ t\ {\isasymLongrightarrow}\ {\isasymsigma}\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ eval{\isacharunderscore}{\kern0pt}eterm\ {\isasymsigma}\ t\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterm\ {\isasymsigma}{\isacharprime}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymodot}e\ ts\ {\isasymLongrightarrow}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymLongrightarrow}\ {\isasymsigma}\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymLongrightarrow}\ {\isasymsigma}\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ eval{\isacharunderscore}{\kern0pt}eterms\ {\isasymsigma}\ ts\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterm{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}eterms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ Inl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ X\ {\isasymlongrightarrow}\ a\ {\isacharequal}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}a{\isacharprime}{\kern0pt}\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ X\ {\isasymlongrightarrow}\ a\ {\isacharequal}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ b{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}a\ {\isacharequal}{\kern0pt}\ a{\isacharprime}{\kern0pt}\ {\isasymlongleftrightarrow}\ b\ {\isacharequal}{\kern0pt}\ b{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymlongleftrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ xs\ ys\ {\isasymlongleftrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymand}\ pairwise\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymlongleftrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymand}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymand}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ xs\ ys{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}refl{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{declare}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}simp\ del{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}a{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ Y\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ x\ y\ {\isasymlongleftrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ y\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharsemicolon}{\kern0pt}\ cases\ y{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ nat\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ I\ {\isasymlongleftrightarrow}\ pairwise\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ I{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}I\ {\isasymsubseteq}\ J\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ J\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ I{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ set\ {\isasymRightarrow}\ nat\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isasymsigma}\ {\isasymtau}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i\ {\isasymin}\ FV{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ S{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isasymtau}\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ Y\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S\ {\isasymsubseteq}\ S{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S{\isacharprime}{\kern0pt}\ X\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ ys\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ Y\ xs\ ys\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ ys\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ lens{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x\ z{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ zs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ z\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ i{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ y\ \isakeyword{where}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ ys\ {\isacharbang}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lens\ i{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip\ y{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}i\ {\isasymin}\ set\ ns{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth\ nth{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ ys\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ set\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ xs\ ys\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ ys\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}comm\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ force{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ xs\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ ys\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ xs\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ lens{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}pairwise\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}zip\ xs\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ pairwiseI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ xz\ xz{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}xz\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}xz{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ z\ i\ x{\isacharprime}{\kern0pt}\ z{\isacharprime}{\kern0pt}\ i{\isacharprime}{\kern0pt}\ \isakeyword{where}\ xz{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}xz\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs\ {\isacharbang}{\kern0pt}\ i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isacharbang}{\kern0pt}\ i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}xz{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ y\ \isakeyword{where}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ ys\ {\isacharbang}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}y{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ys\ {\isacharbang}{\kern0pt}\ i{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lens\ xz{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ y{\isacharunderscore}{\kern0pt}def\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\ metis{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ xz\ xz{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ xz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}set\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ ys\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ Y\ ys\ xs\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ ys\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Y\ {\isasymsubseteq}\ X\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ Y\ ys\ xs\ {\isasymLongrightarrow}\isanewline
\ \ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ ys\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ a\ b\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}drule\ bspec{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ assumption\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ a{\isacharsemicolon}{\kern0pt}\ cases\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Collect{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}eq\ Collect{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}iff\ imageI\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Collect{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}eq\ Collect{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}iff\ imageI\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Collect{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}eq\ Collect{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}iff\ imageI\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Inl{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}False\ image{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ ys\ zs\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}refl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\ y\ {\isasymin}\ X\ {\isasymLongrightarrow}\ Inl\ y\ {\isasymin}\ set\ ys\ {\isasymLongrightarrow}\ Inl\ y\ {\isasymin}\ set\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ys\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ Inl\ ys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ xs\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}equalityI{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ ms\ {\isasymsubseteq}\ set\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}map\ pairwise{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ refl{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ ballI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharcomma}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth\ nth{\isacharunderscore}{\kern0pt}map\ subset{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ x\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ms\ {\isasymsubseteq}\ set\ ns\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth\ nth{\isacharunderscore}{\kern0pt}map\ subset{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ ns{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymlongleftrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ X\ {\isasymsigma}\ {\isasymtau}\ {\isasymlongleftrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}{\isacharparenright}{\kern0pt}\ X\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}mono\ SP{\isacharunderscore}{\kern0pt}fv\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}Inl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ X\ {\isasymLongrightarrow}\ finite\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}vimageI{\isacharbrackleft}{\kern0pt}of\ X\ Inl{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ex{\isacharunderscore}{\kern0pt}out{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}k{\isachardot}{\kern0pt}\ k\ {\isasymnotin}\ X\ {\isasymand}\ k\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ X{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ extend{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}FV\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymsubseteq}\ FV{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ S{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}FV\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ X\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}max\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymin}\ S\ then\ {\isadigit{1}}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ Z{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}k\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}n\ {\isasymin}\ S{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ True\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ n{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S\ True\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ True\ insert{\isacharunderscore}{\kern0pt}Diff\ insert{\isacharunderscore}{\kern0pt}iff\ subsetD{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}Inl\ {\isacharequal}{\kern0pt}\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isasymexists}m\ {\isasymin}\ S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ m{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ m\ \isakeyword{where}\ m{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymin}\ S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ m\ {\isasymin}\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ m{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ m{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ n{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S\ {\isasymsigma}{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}Inl\ True\ m{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ out{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ {\isasymsigma}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}vimageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ k\ \isakeyword{where}\ k{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inr\ k\ {\isasymnotin}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ex{\isacharunderscore}{\kern0pt}out{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharbrackright}{\kern0pt}\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}Inr\ k{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ n{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S\ {\isasymsigma}{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}Inl\ out\ k{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}eqI\ insertE\ insert{\isacharunderscore}{\kern0pt}Diff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ False\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}Inr\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ False\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}Pred{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ {\isacharparenleft}{\kern0pt}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymsubseteq}\ FV{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}t\ {\isasymin}\ set\ ts{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymcdot}e\ t\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ vs\ \isakeyword{where}\ vs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ map\ Inl\ vs{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ n\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ n\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}\ {\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isasymin}\ FV{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ Var\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ Var\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}i{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ind{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Const\ c{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Const{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ t\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Const{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ ts\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ t{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}X\ Const\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}setI\ image{\isacharunderscore}{\kern0pt}insert\ insert{\isacharunderscore}{\kern0pt}iff\ list{\isachardot}{\kern0pt}set{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ mk{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ind\ pairwise{\isacharunderscore}{\kern0pt}insert{\isacharbrackleft}{\kern0pt}of\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}Var{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}n{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ Var\ n{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ ts\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ ts\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ t{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}Var\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ SUP{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}iff\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ ad{\isacharunderscore}{\kern0pt}n\ fo{\isacharunderscore}{\kern0pt}term{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}intros\ imageI\ subset{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ SUP{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}iff\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ ad{\isacharunderscore}{\kern0pt}n\ fo{\isacharunderscore}{\kern0pt}term{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}intros\ imageI\ subset{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ind\ pairwise{\isacharunderscore}{\kern0pt}insert{\isacharbrackleft}{\kern0pt}of\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}Pred{\isacharunderscore}{\kern0pt}inf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymsubseteq}\ FV{\isachardoublequoteclose}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}i{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ sp{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ t\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}setI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{type{\isacharunderscore}{\kern0pt}synonym}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymtimes}\ nat\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ table{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ esat\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ table{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ {\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Bool\ b{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ b{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ {\isasymsigma}\ {\isasymcdot}e\ t\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ {\isasymnot}esat\ {\isasymphi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ X\ {\isasymand}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ X\ {\isasymor}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ X{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ X{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharplus}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharplus}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sz{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}names\ Pred\ Bool\ Eqa\ Neg\ Conj\ Disj\ Exists\ Forall{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}r\ ts{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}b{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}Bool\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}t\ t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}{\isasymphi}{\isachardot}{\kern0pt}\ P\ {\isasymphi}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}{\isasymphi}\ {\isasympsi}{\isachardot}{\kern0pt}\ P\ {\isasymphi}\ {\isasymLongrightarrow}\ P\ {\isasympsi}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}{\isasymphi}\ {\isasympsi}{\isachardot}{\kern0pt}\ P\ {\isasymphi}\ {\isasymLongrightarrow}\ P\ {\isasympsi}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}n\ {\isasymphi}{\isachardot}{\kern0pt}\ P\ {\isasymphi}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}n\ {\isasymphi}{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ {\isasymphi}\ rule{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}{\isasympsi}{\isachardot}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isacharless}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymLongrightarrow}\ P\ {\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isasymphi}{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymLongrightarrow}\ {\isasymsigma}\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharprime}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ arbitrary{\isacharcolon}{\kern0pt}\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ comp{\isacharunderscore}{\kern0pt}apply\ eval{\isacharunderscore}{\kern0pt}eterm{\isacharunderscore}{\kern0pt}cong\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}cong\ image{\isacharunderscore}{\kern0pt}insert\ insertCI\ map{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \ \ \ \ \ \ mk{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharsemicolon}{\kern0pt}\ cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Neg{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Neg{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}{\isadigit{1}}\ {\isasymphi}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}{\isadigit{1}}\ {\isasymphi}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}{\isacharprime}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}{\isacharprime}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}terms\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}terms\ ts\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ table{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}terms\ ts\ {\isasymunion}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Bool\ b{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ t\ {\isasymunion}\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymunion}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymunion}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I\ {\isasymLongrightarrow}\ finite\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}Inl\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ I\ rule{\isacharcolon}{\kern0pt}\ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}adom\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}adom\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ AD{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ main{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\isanewline
\ \ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isasymphi}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X\ {\isasymLongrightarrow}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymsubseteq}\ X\ {\isasymLongrightarrow}\isanewline
\ \ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymtau}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ arbitrary{\isacharcolon}{\kern0pt}\ {\isasymsigma}\ {\isasymtau}\ rule{\isacharcolon}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymsubseteq}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sub{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Pred{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ esat{\isachardot}{\kern0pt}simps\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}Pred{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ sub{\isacharunderscore}{\kern0pt}AD\ Pred{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}sub\ assm{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assm\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}Pred{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ sub{\isacharunderscore}{\kern0pt}AD\ Pred{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub\ assm{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assm\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Eqa\ x{\isadigit{1}}\ x{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isadigit{1}}{\isacharsemicolon}{\kern0pt}\ cases\ x{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c\ c{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ Const\ c{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Const\ c{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Eqa\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ Const\ c{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Var\ m{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Eqa{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ m{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ c\ {\isasymlongleftrightarrow}\ {\isasymtau}\ m{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ m\ c{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ Var\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Const\ c{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Eqa{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ m\ {\isacharequal}{\kern0pt}\ Inl\ c{\isacharprime}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ m\ {\isacharequal}{\kern0pt}\ Inl\ c{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ m\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ Var\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Var\ m{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Eqa{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ m\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ m{\isacharprime}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ m\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ m{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Neg{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ Neg\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}{\isadigit{1}}\ {\isasymphi}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}{\isadigit{1}}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}{\isadigit{2}}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isasymphi}{\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isasymphi}{\isadigit{2}}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isadigit{1}}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isadigit{2}}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ aux{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ aux{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}{\isadigit{1}}\ {\isasymphi}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}{\isadigit{1}}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}{\isadigit{2}}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isasymphi}{\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isasymphi}{\isadigit{2}}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isadigit{1}}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isadigit{2}}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ aux{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ aux{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isasymin}\ SP\ {\isasymphi}\ {\isasymLongrightarrow}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}m{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Diff{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}absorb\ card{\isacharunderscore}{\kern0pt}image\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}iff\ finite{\isacharunderscore}{\kern0pt}Diff\ finite{\isacharunderscore}{\kern0pt}SP\isanewline
\ \ \ \ \ \ \ \ \ \ image{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}subset\ inj{\isacharunderscore}{\kern0pt}Inr\ mk{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}insert\ surj{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ SP\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ card{\isacharunderscore}{\kern0pt}image\ finite{\isacharunderscore}{\kern0pt}SP\ image{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}subset\ inj{\isacharunderscore}{\kern0pt}Inr\ surj{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}max\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}m{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ m\ {\isasymin}\ SP\ {\isasymphi}\ then\ {\isadigit{1}}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}pos\ card{\isacharunderscore}{\kern0pt}SP{\isacharunderscore}{\kern0pt}d{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ extend{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharbrackleft}{\kern0pt}OF\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isachardot}{\kern0pt}simps\ SP{\isachardot}{\kern0pt}simps{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ SP{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}SP\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isachardot}{\kern0pt}simps{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Exists{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ \isakeyword{where}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymtau}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymtau}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}m{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}m{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymtau}\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isachardot}{\kern0pt}simps\ SP{\isachardot}{\kern0pt}simps{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ extend{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ SP{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}SP\ subset{\isacharunderscore}{\kern0pt}UNIV\ subset{\isacharunderscore}{\kern0pt}UNIV{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}comm\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists\ assm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pred{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Forall{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Forall{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ pred\ Forall{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ unfold{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ main{\isacharunderscore}{\kern0pt}cor{\isacharunderscore}{\kern0pt}inf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}d\ {\isasymphi}\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ main{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymsigma}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ main{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}UNIV\ subset{\isacharunderscore}{\kern0pt}UNIV{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymsigma}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ SP{\isacharunderscore}{\kern0pt}fv{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ OF\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcomma}{\kern0pt}\ OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sat\ {\isasymphi}\ I\ {\isasymsigma}\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ arbitrary{\isacharcolon}{\kern0pt}\ I\ {\isasymsigma}\ rule{\isacharcolon}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sat{\isachardot}{\kern0pt}simps\ esat{\isachardot}{\kern0pt}simps\ comp{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}eterms{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharsemicolon}{\kern0pt}\ cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}sat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Inl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}unfold\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ Inl{\isacharunderscore}{\kern0pt}unfold{\isacharbrackright}{\kern0pt}\ Exists\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c\ \isakeyword{where}\ c{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isasymnotin}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymunion}\ {\isasymsigma}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ arb{\isacharunderscore}{\kern0pt}element\ finite{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom{\isacharbrackleft}{\kern0pt}OF\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ finite{\isacharunderscore}{\kern0pt}Un\ finite{\isacharunderscore}{\kern0pt}imageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}local{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ c{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}local{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ iffD{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ Inr{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ k\ l\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharsemicolon}{\kern0pt}\ cases\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Forall{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ I\ {\isasymsigma}{\isacharbrackright}{\kern0pt}\ Forall{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sat{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ J\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sat\ {\isasymphi}\ I\ {\isasymsigma}\ {\isasymlongleftrightarrow}\ sat\ {\isasymphi}\ I\ {\isasymtau}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ nfv\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}card\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ rremdups\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}rremdups\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}rremdups\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}\ rremdups\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharunderscore}{\kern0pt}filter{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}filter\ P\ {\isacharparenleft}{\kern0pt}rremdups\ {\isacharparenleft}{\kern0pt}filter\ Q\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ rremdups\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ P\ x\ {\isasymand}\ Q\ x{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ Q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}filter\ P\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rremdups\ {\isacharparenleft}{\kern0pt}filter\ P\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ True{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ filter\ P\ {\isacharparenleft}{\kern0pt}take\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ j\ {\isacharparenleft}{\kern0pt}filter\ P\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ filter{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ filter{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ filter{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ take{\isadigit{0}}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rremdups{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ rremdups\ {\isacharparenleft}{\kern0pt}take\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ j\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ j\ \isakeyword{where}\ j{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rremdups\ {\isacharparenleft}{\kern0pt}take\ n\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ j\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ j{\isacharprime}{\kern0pt}\ \isakeyword{where}\ j{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ j\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ take\ j{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}take\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ j{\isacharunderscore}{\kern0pt}def\ j{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}Suc\ j{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rremdups{\isacharunderscore}{\kern0pt}app{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rremdups\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rremdups\ xs\ {\isacharat}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ x\ {\isasymin}\ set\ xs\ then\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ filter{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ filter{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ filter{\isacharunderscore}{\kern0pt}append\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rremdups{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}rremdups{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}length\ xs{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ xs\ rule{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}m\ ys{\isachardot}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}ys\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ list{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ length\ xs\ {\isasymLongrightarrow}\ distinct\ {\isacharparenleft}{\kern0pt}rremdups\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ z\ zs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Cons\ rremdups{\isacharunderscore}{\kern0pt}set\ le{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}rremdups{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ distinct{\isacharunderscore}{\kern0pt}rremdups{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ eq{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ rremdups{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ nats\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nats\ ns\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ns\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}length\ ns{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs\ {\isasymlongleftrightarrow}\ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ AD\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}let\ ns\ {\isacharequal}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ xs\ in\ nats\ {\isacharparenleft}{\kern0pt}rremdups\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ xs\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ xs\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}set\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ List{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}set\ card{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}le\ image{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}subset\ inj{\isacharunderscore}{\kern0pt}Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ card{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ xs\ {\isacharequal}{\kern0pt}\ set\ xs\ {\isasyminter}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}min\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}rremdups\ set{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}sum\ rremdups{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \ \ \ \ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ arg{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ set{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ xs\ {\isacharequal}{\kern0pt}\ set\ xs\ {\isasyminter}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UNIV{\isacharunderscore}{\kern0pt}I\ UNIV{\isacharunderscore}{\kern0pt}sum\ UnE\ image{\isacharunderscore}{\kern0pt}iff\ subset{\isacharunderscore}{\kern0pt}iff\ vimageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ min{\isachardot}{\kern0pt}absorb{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ f\ {\isacharparenleft}{\kern0pt}take\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ j\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ f\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ option{\isachardot}{\kern0pt}case{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ take{\isadigit{0}}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ option{\isachardot}{\kern0pt}case{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ {\isacharparenleft}{\kern0pt}take\ i\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ vimage{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}subset\ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}take{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isachardoublequoteclose}\ i\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ j\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ rremdups{\isacharunderscore}{\kern0pt}take{\isacharbrackleft}{\kern0pt}of\ j\ {\isachardoublequoteopen}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ add{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\ min{\isachardot}{\kern0pt}cobounded{\isadigit{1}}\ min{\isacharunderscore}{\kern0pt}def\ take{\isacharunderscore}{\kern0pt}all\ take{\isacharunderscore}{\kern0pt}upt{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}app{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ f\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ f\ xs\ {\isacharat}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ f\ x\ of\ Some\ y\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}Inr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inr\ n\ {\isasymnotin}\ set\ xs\ {\isasymLongrightarrow}\ Inr\ n{\isacharprime}{\kern0pt}\ {\isasymnotin}\ set\ xs\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Inr\ n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Inr\ n{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ n\ {\isacharequal}{\kern0pt}\ n{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}app\isanewline
\ \ \ \ \ \ rremdups{\isacharunderscore}{\kern0pt}app\ set{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}sum{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuples\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}c\ set\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}all{\isacharunderscore}{\kern0pt}tuples\ xs\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}all{\isacharunderscore}{\kern0pt}tuples\ xs\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}as{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}\ as{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}all{\isacharunderscore}{\kern0pt}tuples\ xs\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}zs\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ n{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ zs{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ xs\ {\isasymLongrightarrow}\ finite\ {\isacharparenleft}{\kern0pt}all{\isacharunderscore}{\kern0pt}tuples\ xs\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ n\ rule{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuples{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ AD\ {\isasymLongrightarrow}\ finite\ {\isacharparenleft}{\kern0pt}nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}def\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}finite{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuplesI{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ n\ {\isasymLongrightarrow}\ set\ vs\ {\isasymsubseteq}\ xs\ {\isasymLongrightarrow}\ vs\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ n\ arbitrary{\isacharcolon}{\kern0pt}\ vs\ rule{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuples{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ xs\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ w\ ws\ \isakeyword{where}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ws\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ws\ {\isasymsubseteq}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}w\ {\isasymin}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}conv\ contra{\isacharunderscore}{\kern0pt}subsetD\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}intros{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ order{\isacharunderscore}{\kern0pt}trans\ set{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuplesI{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ n\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs\ {\isasymLongrightarrow}\ vs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD\ vs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuplesI{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuplesD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ n\ {\isasymLongrightarrow}\ length\ vs\ {\isacharequal}{\kern0pt}\ n\ {\isasymand}\ set\ vs\ {\isasymsubseteq}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ n\ arbitrary{\isacharcolon}{\kern0pt}\ vs\ rule{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuples{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}setD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ n\ {\isasymLongrightarrow}\ set\ vs\ {\isasymsubseteq}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuplesD{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuplesD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n\ {\isasymLongrightarrow}\isanewline
\ \ length\ vs\ {\isacharequal}{\kern0pt}\ n\ {\isasymand}\ set\ vs\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isasymand}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuplesD{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}all{\isacharunderscore}{\kern0pt}tuples\ xs\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ys{\isachardot}{\kern0pt}\ length\ ys\ {\isacharequal}{\kern0pt}\ n\ {\isasymand}\ set\ ys\ {\isasymsubseteq}\ xs{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ n\ rule{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuples{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ xs\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subset{\isacharunderscore}{\kern0pt}antisym{\isacharsemicolon}{\kern0pt}\ rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ ys\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}ys\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}ys\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}ys{\isachardot}{\kern0pt}\ length\ ys\ {\isacharequal}{\kern0pt}\ Suc\ n\ {\isasymand}\ set\ ys\ {\isasymsubseteq}\ xs{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ ys\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}ys\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}ys{\isachardot}{\kern0pt}\ length\ ys\ {\isacharequal}{\kern0pt}\ Suc\ n\ {\isasymand}\ set\ ys\ {\isasymsubseteq}\ xs{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ Suc\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ys\ {\isasymsubseteq}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ zs\ \isakeyword{where}\ zs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ z\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ zs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ zs\ {\isasymsubseteq}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ ys{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}zs\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}ys\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ys{\isachardot}{\kern0pt}\ length\ ys\ {\isacharequal}{\kern0pt}\ n\ {\isasymand}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ ys{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD{\isacharbrackright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}def\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ UnE\ nall{\isacharunderscore}{\kern0pt}tuplesD\ nall{\isacharunderscore}{\kern0pt}tuplesI\ subsetD{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ pos\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ nat\ option{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos\ a\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}pos\ a\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ a\ {\isacharequal}{\kern0pt}\ x\ then\ Some\ {\isadigit{0}}\ else\ {\isacharparenleft}{\kern0pt}case\ pos\ a\ xs\ of\ Some\ n\ {\isasymRightarrow}\ Some\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ None{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}pos\ a\ xs\ {\isacharequal}{\kern0pt}\ Some\ i\ {\isasymLongrightarrow}\ a\ {\isasymin}\ set\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ a\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i\ rule{\isacharcolon}{\kern0pt}\ pos{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}pos\ a\ xs\ {\isacharequal}{\kern0pt}\ Some\ i\ {\isasymLongrightarrow}\ i\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ a\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i\ rule{\isacharcolon}{\kern0pt}\ pos{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}pos\ a\ xs\ {\isacharequal}{\kern0pt}\ Some\ i\ {\isasymLongrightarrow}\ i\ {\isacharless}{\kern0pt}\ length\ xs\ {\isasymand}\ xs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ a\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i\ rule{\isacharcolon}{\kern0pt}\ pos{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}pos\ a\ xs\ {\isacharequal}{\kern0pt}\ None\ {\isasymLongrightarrow}\ a\ {\isasymnotin}\ set\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ a\ xs\ rule{\isacharcolon}{\kern0pt}\ pos{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ {\isacharunderscore}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth\ n\ xs{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs\ {\isasymLongrightarrow}\ length\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ xs\ rule{\isacharcolon}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs\ {\isasymLongrightarrow}\ rem{\isacharunderscore}{\kern0pt}nth\ i\ xs\ {\isacharequal}{\kern0pt}\ take\ i\ xs\ {\isacharat}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ xs\ rule{\isacharcolon}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ xs\ {\isasymLongrightarrow}\ pos\ n\ xs\ {\isacharequal}{\kern0pt}\ Some\ i\ {\isasymLongrightarrow}\isanewline
\ \ rem{\isacharunderscore}{\kern0pt}nth\ i\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ pos{\isacharunderscore}{\kern0pt}set\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ filter{\isacharunderscore}{\kern0pt}True{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}nth\ {\isadigit{0}}\ a\ xs\ {\isacharequal}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}nth\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ a\ zs\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ zs\ of\ x\ {\isacharhash}{\kern0pt}\ xs\ {\isasymRightarrow}\ x\ {\isacharhash}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth\ n\ a\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs\ {\isasymLongrightarrow}\ length\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ z\ zs\ rule{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs\ {\isasymLongrightarrow}\ add{\isacharunderscore}{\kern0pt}nth\ i\ v\ zs\ {\isacharequal}{\kern0pt}\ take\ i\ zs\ {\isacharat}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ drop\ i\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ v\ zs\ rule{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ xs\ {\isasymLongrightarrow}\ pos\ n\ xs\ {\isacharequal}{\kern0pt}\ Some\ i\ {\isasymLongrightarrow}\isanewline
\ \ add{\isacharunderscore}{\kern0pt}nth\ i\ a\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ i\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ pos{\isacharunderscore}{\kern0pt}set\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}self{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs\ {\isasymLongrightarrow}\ add{\isacharunderscore}{\kern0pt}nth\ i\ {\isacharparenleft}{\kern0pt}xs\ {\isacharbang}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ xs\ rule{\isacharcolon}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs\ {\isasymLongrightarrow}\ rem{\isacharunderscore}{\kern0pt}nth\ i\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ z\ zs\ rule{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ merge\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}merge\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ mys\ {\isacharequal}{\kern0pt}\ mys{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}merge\ nxs\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nxs{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}merge\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymle}\ m\ then\ {\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ merge\ nxs\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ mys{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ else\ {\isacharparenleft}{\kern0pt}m{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ merge\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}\ mys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}Nil{\isadigit{2}}{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}merge\ nxs\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nxs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ nxs{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}merge\ nxs\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs\ mys\ rule{\isacharcolon}{\kern0pt}\ merge{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}set\ nxs{\isachardot}{\kern0pt}\ n\ {\isasymle}\ fst\ x\ {\isasymLongrightarrow}\ {\isasymforall}x{\isasymin}set\ mys{\isachardot}{\kern0pt}\ m\ {\isasymle}\ fst\ x\ {\isasymLongrightarrow}\ n\ {\isasymle}\ m\ {\isasymLongrightarrow}\isanewline
\ \ insort\ n\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ m\ {\isacharhash}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ m\ {\isacharhash}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ insort{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Cons\ insort{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}gt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}set\ nxs{\isachardot}{\kern0pt}\ n\ {\isasymle}\ fst\ x\ {\isasymLongrightarrow}\ {\isasymforall}x{\isasymin}set\ mys{\isachardot}{\kern0pt}\ m\ {\isasymle}\ fst\ x\ {\isasymLongrightarrow}\ {\isasymnot}\ n\ {\isasymle}\ m\ {\isasymLongrightarrow}\isanewline
\ \ insort\ n\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ m\ {\isacharhash}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ m\ {\isacharhash}{\kern0pt}\ insort\ n\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ insort{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}trans\ insort{\isacharunderscore}{\kern0pt}key{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ insort{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}merge{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ mys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ map\ fst\ {\isacharparenleft}{\kern0pt}merge\ nxs\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs\ mys\ rule{\isacharcolon}{\kern0pt}\ merge{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}id\ insort{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Cons\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}gt{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ mys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ fst\ {\isacharbackquote}{\kern0pt}\ set\ nxs\ {\isasyminter}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ mys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ map\ snd\ nxs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ map\ snd\ mys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}map\ fst\ mys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ nxs\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs\ mys\ rule{\isacharcolon}{\kern0pt}\ merge{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}id\ insort{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Cons\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}gt{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}distinct\ ms\ {\isasymLongrightarrow}\ set\ ns\ {\isasyminter}\ set\ ms\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ms\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns\ {\isacharat}{\kern0pt}\ ms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}zip\ ns\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}zip\ ms\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isasymsigma}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto\ {\isacharparenleft}{\kern0pt}metis\ length{\isacharunderscore}{\kern0pt}map\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat\ {\isasymrightharpoonup}\ nat{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ x\ {\isasymin}\ AD\ then\ Inl\ x\ {\isacharhash}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs\ else\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}case\ m\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}\ of\ None\ {\isasymRightarrow}\ Inr\ i\ {\isacharhash}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Some\ j\ {\isasymRightarrow}\ Inr\ j\ {\isacharhash}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharparenleft}{\kern0pt}Inr\ n\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ m\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ of\ None\ {\isasymRightarrow}\isanewline
\ \ \ \ Inr\ i\ {\isacharhash}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs\isanewline
\ \ {\isacharbar}{\kern0pt}\ Some\ j\ {\isasymRightarrow}\ Inr\ j\ {\isacharhash}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ m\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\isanewline
\ \ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ns\ {\isasymLongrightarrow}\isanewline
\ \ ns\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ length\ ns{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ ns\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ i\ m\ AD\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ AD{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ pred{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ i\ {\isacharhash}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ False\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}leD\ antisym\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ None\ pred{\isacharcomma}{\kern0pt}\ OF\ refl{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq\ Suc{\isacharunderscore}{\kern0pt}pred\ le{\isacharunderscore}{\kern0pt}add{\isadigit{1}}\ le{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}eq\ less{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}same{\isacharunderscore}{\kern0pt}cancel{\isadigit{1}}\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ upt{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}append\ upt{\isacharunderscore}{\kern0pt}rec{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ns{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ False\ Some\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ leD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ Some\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ i\ m\ AD\ n\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ pred{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ i\ {\isacharhash}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}leD\ antisym\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None\ pred{\isacharcomma}{\kern0pt}\ OF\ refl{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq\ Suc{\isacharunderscore}{\kern0pt}pred\ le{\isacharunderscore}{\kern0pt}add{\isadigit{1}}\ le{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}eq\ less{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}same{\isacharunderscore}{\kern0pt}cancel{\isadigit{1}}\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ upt{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}append\ upt{\isacharunderscore}{\kern0pt}rec{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ns{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ Some\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ leD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Some\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat\ {\isasymrightharpoonup}\ nat{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ case\ x\ of\ Inl\ x\ {\isasymRightarrow}\ None\ {\isacharbar}{\kern0pt}\ Inr\ x\ {\isasymRightarrow}\ if\ x\ {\isacharless}{\kern0pt}\ n\ then\ Some\ x\ else\ None{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}idem{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\isanewline
\ \ rremdups\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ns\ {\isasymLongrightarrow}\isanewline
\ \ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isacharless}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ k{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ AD\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ys\ arbitrary{\isacharcolon}{\kern0pt}\ i\ k\ ns{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ y\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ y{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups\ in{\isacharunderscore}{\kern0pt}mono\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ upt{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ kk\ \isakeyword{where}\ k{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ Suc\ kk{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ j{\isacharunderscore}{\kern0pt}i{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ ns{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rremdups\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}None{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}upd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenleft}{\kern0pt}Inr\ i\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isacharless}{\kern0pt}\ Suc\ i{\isacharparenright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Suc\ i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ k{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ j{\isacharunderscore}{\kern0pt}i\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}plus{\isadigit{1}}\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq\ add{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}left{\isacharprime}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}eq{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}order{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}strict\ filter{\isacharunderscore}{\kern0pt}cong\ n{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}n\ upt{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}Inr\ i\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}Suc\ i{\isachardoublequoteclose}\ kk{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}upd\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ j{\isacharunderscore}{\kern0pt}i\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ ns{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rremdups\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}y{\isachardot}{\kern0pt}\ y\ {\isacharless}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}y{\isachardot}{\kern0pt}\ y\ {\isacharless}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ filter{\isacharunderscore}{\kern0pt}cong\ leD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ AD\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ insert{\isacharunderscore}{\kern0pt}Inr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}X{\isachardot}{\kern0pt}\ insert\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ m\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ set\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ set\ xs\ {\isasyminter}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ i\ m\ AD\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ AD{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ True\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ True\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ pred{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}Inl\ x{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Suc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ i\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ i\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ None\ pred{\isacharbrackright}{\kern0pt}\ False\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Suc\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Some\ intro{\isacharcolon}{\kern0pt}\ arg{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ card{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ Some\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ False\ Some\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ i\ m\ AD\ k\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inr\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ k\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Inr\ k\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}Inr\ k{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ k\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Suc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ i\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ k\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ i\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inr\ k\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None\ preds{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Suc\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inr\ k\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inr\ k\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Some\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ arg{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ card{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Some\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def\ insert{\isacharunderscore}{\kern0pt}Inr\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}rev{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymLongrightarrow}\ set\ xs\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ m\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ ran\ m\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymexists}m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymforall}n{\isachardot}{\kern0pt}\ m\ n\ {\isasymnoteq}\ None\ {\isasymlongrightarrow}\ m{\isacharprime}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ m\ n{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}case\ x\ of\ Inl\ x{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ if\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ AD\ then\ x\ {\isacharequal}{\kern0pt}\ y\ else\ {\isasymexists}j{\isachardot}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ Inr\ j\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Inr\ n\ {\isasymRightarrow}\ {\isasymexists}j{\isachardot}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ Inr\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ i\ m\ AD\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ AD{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ None\ preds{\isacharbrackright}{\kern0pt}\ False\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ Some\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ False\ Some\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ i\ m\ AD\ n\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None\ preds{\isacharbrackright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Some\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymLongrightarrow}\ inj{\isacharunderscore}{\kern0pt}on\ m\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}x\ y{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}case\ x\ of\ Inl\ x{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ if\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ AD\ then\ x\ {\isacharequal}{\kern0pt}\ y\ else\ m\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymnotin}\ AD\ {\isacharbar}{\kern0pt}\ Inr\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ True{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharbar}{\kern0pt}\ Inr\ n\ {\isasymRightarrow}\ m\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymnotin}\ AD\ {\isacharbar}{\kern0pt}\ Inr\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ True{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ xs\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{premises}\ prems\ \isakeyword{for}\ a\ b\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ prems{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{premises}\ prems\ \isakeyword{for}\ a\ b\ c\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ prems{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ prems{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ domI\ inj{\isacharunderscore}{\kern0pt}onD\ prems{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{premises}\ prems\ \isakeyword{for}\ a\ b\ c\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ prems{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ prems{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}take\ n\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharparenleft}{\kern0pt}take\ n\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ n\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isadigit{0}}\ Map{\isachardot}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Nil{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ x\ of\ Inl\ x\ {\isasymRightarrow}\ if\ x\ {\isasymin}\ AD\ then\ {\isacharbrackleft}{\kern0pt}Inl\ x{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}Cons{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ x{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ x\ of\ Inl\ x\ {\isasymRightarrow}\ if\ x\ {\isasymin}\ AD\ then\ {\isacharbrackleft}{\kern0pt}Inl\ x{\isacharcomma}{\kern0pt}\ Inl\ x{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}of\ Map{\isachardot}{\kern0pt}empty\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ Map{\isachardot}{\kern0pt}empty\ {\isadigit{0}}\ AD\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}{\isasymtau}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ m{\isacharprime}{\kern0pt}\ \isakeyword{where}\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isasymin}set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ case\ x\ of\ Inl\ x{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ if\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ AD\ then\ x\ {\isacharequal}{\kern0pt}\ y\ else\ {\isasymexists}j{\isachardot}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ Inr\ j\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Inr\ n\ {\isasymRightarrow}\ {\isasymexists}j{\isachardot}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ Inr\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ Map{\isachardot}{\kern0pt}empty\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}map\ {\isasymsigma}\ ns{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ case\ {\isasymsigma}\ n\ of\ Inl\ x\ {\isasymRightarrow}\ if\ x\ {\isasymin}\ AD\ then\ Inl\ x\ else\ Inr\ {\isacharparenleft}{\kern0pt}the\ {\isacharparenleft}{\kern0pt}m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Inr\ j\ {\isasymRightarrow}\ Inr\ {\isacharparenleft}{\kern0pt}the\ {\isacharparenleft}{\kern0pt}m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ ns{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nth{\isacharunderscore}{\kern0pt}equalityI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isasymsigma}\ ns{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ ns\ {\isacharbang}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isasymsigma}\ ns{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}map\ option{\isachardot}{\kern0pt}sel{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}minus{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ Diff{\isacharunderscore}{\kern0pt}subset\ List{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}set\ card{\isacharunderscore}{\kern0pt}length\ card{\isacharunderscore}{\kern0pt}mono\ order{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ set\ xs\ {\isasyminter}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}min\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ Map{\isachardot}{\kern0pt}empty\ {\isadigit{0}}\ AD\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ card{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}minus{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}rev{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymLongrightarrow}\ set\ xs\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}rev{\isacharbrackleft}{\kern0pt}of\ {\isadigit{0}}\ Map{\isachardot}{\kern0pt}empty\ AD\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ xs\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ Map{\isachardot}{\kern0pt}empty\ {\isadigit{0}}\ xs\ AD{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ of\ {\isachardoublequoteopen}map{\isacharunderscore}{\kern0pt}option\ Inr\ {\isasymcirc}\ m{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ xs\ {\isadigit{0}}\ Map{\isachardot}{\kern0pt}empty\ AD\ AD{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isacharprime}{\kern0pt}\ xs\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ ys\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}take\ n\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}take\ n\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}take\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}as{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}\ as{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ n{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}as{\isachardot}{\kern0pt}\ Inr\ i\ {\isacharhash}{\kern0pt}\ as{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}Inl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ n\ {\isasymLongrightarrow}\ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ vs\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ AD\ i\ n\ arbitrary{\isacharcolon}{\kern0pt}\ vs\ rule{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ n\ {\isasymLongrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ AD\ i\ n\ arbitrary{\isacharcolon}{\kern0pt}\ xs\ rule{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenleft}{\kern0pt}Inr\ i\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}mapD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None\ {\isasymLongrightarrow}\ j\ {\isasymle}\ i{\isachardoublequoteclose}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ x\ {\isasymLongrightarrow}\ i\ {\isacharless}{\kern0pt}\ j\ {\isasymand}\ i\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ j\ {\isasymLongrightarrow}\ xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ n\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ arbitrary{\isacharcolon}{\kern0pt}\ i\ j\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}trans{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}Some{\isacharunderscore}{\kern0pt}eq\ sup{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ Suc{\isacharunderscore}{\kern0pt}leI\ \isacommand{apply}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ j\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons\ a{\isacharunderscore}{\kern0pt}AD\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}j{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymle}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}b\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ True\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ preds{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ True{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}j{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharless}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}j\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}j\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ id{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ preds{\isacharbrackright}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}j\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}of\ {\isadigit{0}}\ {\isadigit{0}}\ xs\ AD\ {\isachardoublequoteopen}length\ xs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}of\ {\isadigit{0}}\ AD\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs\ {\isasymlongleftrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n\ {\isacharequal}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isadigit{0}}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length\ trans{\isacharbrackleft}{\kern0pt}OF\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymLongrightarrow}\ distinct\ xs\ {\isasymLongrightarrow}\ {\isasymexists}f{\isachardot}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ ys\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs\ y\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isacharhash}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}f{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ ys{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ f\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharunderscore}{\kern0pt}rev{\isacharbrackleft}{\kern0pt}consumes\ {\isadigit{1}}{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}x\ y\ xs\ ys{\isachardot}{\kern0pt}\ P\ xs\ ys\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ys\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P\ xs\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}length\ xs{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ xs\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ xs\ rule{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}cases{\isacharsemicolon}{\kern0pt}\ cases\ ys\ rule{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ vs\ vs{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ x\ y\ xs\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ norms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}app\ rremdups{\isacharunderscore}{\kern0pt}app\isanewline
\ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ xs\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ norms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}isl\ x\ {\isasymor}\ isl\ y{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isl\ x\ {\isasymlongrightarrow}\ projl\ x\ {\isasymin}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}isl\ y\ {\isasymlongrightarrow}\ projl\ y\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ True\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ isl{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ \isakeyword{where}\ inr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ Inr\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ Inr\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharsemicolon}{\kern0pt}\ cases\ y{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ xs\ {\isasymor}\ y\ {\isasymin}\ set\ ys{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}Inr\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ inr\ xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharbrackleft}{\kern0pt}OF\isanewline
\ \ \ \ \ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\isanewline
\ \ \ \ \ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ vs{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ vs{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ vs{\isacharcomma}{\kern0pt}\ unfolded\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ vs{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}AD\ {\isasymsubseteq}\ AD{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}c\ val\ set\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}vals\ R\ ns\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymtau}{\isachardot}{\kern0pt}\ map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ R{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ val\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}extends{\isacharunderscore}{\kern0pt}subst\ {\isasymsigma}\ {\isasymtau}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isasymsigma}\ x\ {\isasymnoteq}\ None\ {\isasymlongrightarrow}\ {\isasymsigma}\ x\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ as\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}as{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ else\ {\isacharparenleft}{\kern0pt}{\isasymlambda}fs{\isachardot}{\kern0pt}\ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub\ as{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ as{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharequal}{\kern0pt}\ length\ as\ {\isasymLongrightarrow}\isanewline
\ \ ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ as\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}fs{\isachardot}{\kern0pt}\ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub\ as{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ as{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}of\ AD\ as{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}of{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymLongrightarrow}\ distinct\ xs\ {\isasymLongrightarrow}\isanewline
\ \ ys\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}map{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ ys\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ Map{\isachardot}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}shift{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ xs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymLongrightarrow}\isanewline
\ \ i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}take\ n\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ n\ {\isasymle}\ length\ xs\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isacharparenleft}{\kern0pt}drop\ n\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ drop\ n\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat\ {\isasymrightharpoonup}\ nat{\isachardoublequoteclose}\ AD\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ n\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ i\ AD\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}take\ k\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ preds\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}le{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ i\ AD\ j\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isasymle}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}j\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i\ {\isacharparenleft}{\kern0pt}Inr\ j{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenleft}{\kern0pt}Inr\ j\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ True\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}take\ k\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc\ True\ inj{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ Un{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}left\ image{\isacharunderscore}{\kern0pt}insert\ inj{\isacharunderscore}{\kern0pt}Inr\ inj{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eq\ lessThan{\isacharunderscore}{\kern0pt}Suc\ vimage{\isacharunderscore}{\kern0pt}Un{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}le{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i\ {\isacharparenleft}{\kern0pt}Inr\ j{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}i\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}take\ k\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}i\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc\ inj{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eq\ insert{\isacharunderscore}{\kern0pt}absorb{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}le{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ mys\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}n\ {\isacharhash}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ m\ {\isacharless}{\kern0pt}\ n\ then\ proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}n\ {\isacharhash}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}\ mys\ else\isanewline
\ \ \ \ if\ m\ {\isacharequal}{\kern0pt}\ n\ then\ y\ {\isacharhash}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ mys\isanewline
\ \ \ \ else\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ mys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}idle{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ nxs\ {\isacharequal}{\kern0pt}\ map\ snd\ nxs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}merge{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ mys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ set\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}merge\ nxs\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ snd\ nxs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}idle\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs\ mys\ rule{\isacharcolon}{\kern0pt}\ merge{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ms{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ ms{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ms\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isacharparenright}{\kern0pt}\ ms{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns\ {\isasyminter}\ set\ ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ms{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ms\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns\ {\isacharat}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ zip{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zip\ ms\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ merge\ {\isacharparenleft}{\kern0pt}zip\ ns\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}ns{\isacharprime}{\kern0pt}\ disj{\isacharcomma}{\kern0pt}\ folded\ ms{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}merge\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ length{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}merge\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip\ sd{\isacharunderscore}{\kern0pt}ns{\isacharprime}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ zip\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}merge\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ disj\ length{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}zip\ sd{\isacharunderscore}{\kern0pt}ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasyminter}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymunion}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ set\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharbackquote}{\kern0pt}\ ass{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}all\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ass{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ ass\ {\isasymLongrightarrow}\ xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isasymand}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ as\ fs\ \isakeyword{where}\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ as{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub\ as{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ len{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ass\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\ {\isachardoublequoteopen}as\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ {\isasymlambda}n{\isachardot}{\kern0pt}\ if\ n\ {\isasymin}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ then\ the\ {\isacharparenleft}{\kern0pt}map{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ else\ {\isasymtau}\ n{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}n\ {\isasymin}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isachardot}{\kern0pt}\ {\isasymtau}\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}S{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}R\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ as\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}fs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fs\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}of{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}map{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}of\ length{\isacharunderscore}{\kern0pt}fs\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fs{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}fs\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ fs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}of{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fs{\isacharunderscore}{\kern0pt}map\ fv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}sort\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}S\ vs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ vs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ as{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ vs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}all\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ sup{\isacharunderscore}{\kern0pt}ge{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasyminter}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymunion}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ set\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharbackquote}{\kern0pt}\ ass{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}all\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ fs\ \isakeyword{where}\ {\isachardoublequoteopen}fs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ as\ \isakeyword{where}\ {\isachardoublequoteopen}as\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ nos\ \isakeyword{where}\ {\isachardoublequoteopen}nos\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}as\ {\isacharat}{\kern0pt}\ fs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ nos{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ fs{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}fs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ nos{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ as{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ nos{\isacharunderscore}{\kern0pt}def\ as{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ nos{\isacharunderscore}{\kern0pt}def\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}nos{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymle}\ length\ nos{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nos{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ as{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ as{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}take{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ nos{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}norm{\isacharunderscore}{\kern0pt}as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ as{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ nos{\isacharunderscore}{\kern0pt}def\ as{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}take{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ as\ as{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}norm{\isacharunderscore}{\kern0pt}as\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ nos{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nos\ {\isacharequal}{\kern0pt}\ as{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ fs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}fs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ fs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharplus}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isasymle}\ length\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ distinct{\isacharunderscore}{\kern0pt}append\ distinct{\isacharunderscore}{\kern0pt}card\ eq{\isacharunderscore}{\kern0pt}iff\ length{\isacharunderscore}{\kern0pt}append\ set{\isacharunderscore}{\kern0pt}append{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ nos{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ nos\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}all{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}as\ {\isacharat}{\kern0pt}\ fs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nos{\isacharunderscore}{\kern0pt}def\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ nos{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}nos{\isacharunderscore}{\kern0pt}idem{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ AD\ nos\ {\isacharequal}{\kern0pt}\ nos{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}of\ AD\ nos{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nos{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs{\isacharprime}{\kern0pt}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ as{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}complete{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}shift{\isacharbrackleft}{\kern0pt}OF\ norm{\isacharunderscore}{\kern0pt}nos{\isacharunderscore}{\kern0pt}idem{\isacharcomma}{\kern0pt}\ simplified{\isacharcomma}{\kern0pt}\ OF\ refl\ len{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}nos{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ folded\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nall{\isacharunderscore}{\kern0pt}tuplesI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}ass{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}norm{\isacharunderscore}{\kern0pt}as\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ as{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub\ as{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ merge{\isacharunderscore}{\kern0pt}map\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}sort{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}sort{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub\ as{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}norm\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ equalityD{\isadigit{1}}{\isacharcomma}{\kern0pt}\ OF\ set{\isacharunderscore}{\kern0pt}sort{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}as\ {\isacharat}{\kern0pt}\ fs{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ folded\ nos{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ unfolded\ nos{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}append{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}ass\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns\ ns{\isacharprime}{\kern0pt}\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ then\ X\ else\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns\ ns{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasyminter}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymunion}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ set\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ xs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ ass{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ xs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}xs\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ ass{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ assms\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasyminter}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymunion}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ set\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharbackquote}{\kern0pt}\ ass{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}all\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ proj\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}OF\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}norm\ {\isasymsigma}{\isacharunderscore}{\kern0pt}R{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ assumption\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasyminter}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymunion}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ set\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharbackquote}{\kern0pt}\ ass{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymrightharpoonup}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}nat\ {\isasymrightharpoonup}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ option{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Const\ c{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ Inl\ c{\isacharprime}{\kern0pt}\ then\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isasymsigma}\ else\ None{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}case\ {\isasymsigma}\ n\ of\ Some\ x\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ x\ then\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isasymsigma}\ else\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ None\ {\isasymRightarrow}\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}extends{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ extends{\isacharunderscore}{\kern0pt}subst\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ extends{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ vs\ ts\ {\isasymsigma}\ arbitrary{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}force\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}extends\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ vs\ ts\ {\isasymsigma}\ arbitrary{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ extends{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ vs\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}n{\isachardot}{\kern0pt}\ {\isasymsigma}\ n\ {\isasymnoteq}\ None\ {\isasymLongrightarrow}\ {\isasymsigma}\ n\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isasymexists}{\isasymsigma}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ vs\ ts\ {\isasymsigma}\ rule{\isacharcolon}{\kern0pt}\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ extends{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}table\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ table\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}table\ ts\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ fvs\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts\ in\isanewline
\ \ \ \ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}vs{\isachardot}{\kern0pt}\ case\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ Map{\isachardot}{\kern0pt}empty\ of\ Some\ {\isasymsigma}\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ fvs{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}table{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ X\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ table{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}table\ ts\ X\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ {\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ eval{\isacharunderscore}{\kern0pt}table\ ts\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ as\ {\isasymsigma}\ \isakeyword{where}\ as{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ as\ ts\ Map{\isachardot}{\kern0pt}empty\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}table{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isasymodot}e\ ts\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ as{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ as{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ {\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ {\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ ts\ Map{\isachardot}{\kern0pt}empty\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ refl{\isacharcomma}{\kern0pt}\ of\ Map{\isachardot}{\kern0pt}empty\ {\isasymsigma}\ ts{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ eval{\isacharunderscore}{\kern0pt}table\ ts\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}table{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymrightharpoonup}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharparenleft}{\kern0pt}Inr\ n\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ m\ n\ of\ None\ {\isasymRightarrow}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ AD{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ Inr\ i\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs\isanewline
\ \ {\isacharbar}{\kern0pt}\ Some\ v\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs\ {\isasymLongrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ ys\ rule{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymLongrightarrow}\ X\ {\isasyminter}\ AD\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ X\ {\isasyminter}\ Y\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ Y\ {\isasyminter}\ AD\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ inj{\isacharunderscore}{\kern0pt}on\ m\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ dom\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}j{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ ran\ m\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ i\ {\isasymle}\ j\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ ys\ {\isasymand}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymexists}m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}n\ v{\isachardot}{\kern0pt}\ m\ n\ {\isacharequal}{\kern0pt}\ Some\ v\ {\isasymlongrightarrow}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ v{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymforall}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ case\ x\ of\ Inl\ x{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ if\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ X\ then\ x\ {\isacharequal}{\kern0pt}\ y\ else\ m{\isacharprime}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymnotin}\ X\ {\isacharbar}{\kern0pt}\ Inr\ x\ {\isasymRightarrow}\ True{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharbar}{\kern0pt}\ Inr\ n\ {\isasymRightarrow}\ m{\isacharprime}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymnotin}\ X\ {\isacharbar}{\kern0pt}\ Inr\ x\ {\isasymRightarrow}\ True{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ Y\ j\ ys\ rule{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ i\ m\ AD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ m{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ i\ m\ AD\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ i\ m\ AD\ n\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ v\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}j{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ domIff\ leI\ lessThan{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ None\ ys{\isacharunderscore}{\kern0pt}def\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}X\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}X\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}i\ {\isasymle}\ Suc\ j{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}j\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ ran{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ sets{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ IH\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ inj\ preds{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ sets{\isacharunderscore}{\kern0pt}unfold{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conjunct{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Inl\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys\ conjunct{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ None\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl\ dom{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ option{\isachardot}{\kern0pt}distinct{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}splits\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharequal}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ None\ ys{\isacharunderscore}{\kern0pt}def\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Suc\ i\ {\isasymle}\ Suc\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}j\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ ran{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ IH\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ inj\ preds{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conjunct{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys\ conjunct{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ dom{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ option{\isachardot}{\kern0pt}distinct{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}splits\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharless}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ IH\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Some\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conjunct{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}case\ v\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymnotin}\ X\ {\isacharbar}{\kern0pt}\ Inr\ x\ {\isasymRightarrow}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys\ conjunct{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ xs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymLongrightarrow}\isanewline
\ \ X\ {\isasyminter}\ AD\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ X\ {\isasyminter}\ Y\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ Y\ {\isasyminter}\ AD\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ inj{\isacharunderscore}{\kern0pt}on\ m\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ dom\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}j{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ ran\ m\ {\isacharequal}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ i\ {\isasymle}\ j\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}n\ b{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ case\ m\ n\ of\ Some\ v\ {\isasymRightarrow}\ v\ {\isacharequal}{\kern0pt}\ b\ {\isacharbar}{\kern0pt}\ None\ {\isasymRightarrow}\ b\ {\isasymnotin}\ ran\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ ys\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\isanewline
\ \ ys\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ j\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat\ {\isasymRightarrow}\ nat\ option{\isachardoublequoteclose}\ X\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ m\ i\ ys\ AD\ Y\isanewline
\ \ \ \ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ j\ X\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ z\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ Inl\ z\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}X{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ ys{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}X{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ x{\isacharunderscore}{\kern0pt}X\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}zs\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ j\ X\ n\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ z\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ z\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}j\ {\isasymle}\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}j{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ j{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}j\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ id{\isacharunderscore}{\kern0pt}map{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ None{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ n\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}def\ n{\isacharunderscore}{\kern0pt}j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}out{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymnotin}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ z{\isacharunderscore}{\kern0pt}out\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}X\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ None\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymle}\ Suc\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ None\ less{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}j\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ Un{\isacharunderscore}{\kern0pt}iff\ image{\isacharunderscore}{\kern0pt}eqI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ domIff\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff\ lessThan{\isacharunderscore}{\kern0pt}iff\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ sup{\isacharunderscore}{\kern0pt}ge{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Y\ {\isasymunion}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ preds\ inj\ preds{\isacharprime}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}zs\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ preds{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}unfold\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ None\ Inl\ ys{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Un{\isacharunderscore}{\kern0pt}iff\ image{\isacharunderscore}{\kern0pt}eqI\ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff\ lessThan{\isacharunderscore}{\kern0pt}iff\ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ sup{\isacharunderscore}{\kern0pt}ge{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharequal}{\kern0pt}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ z{\isacharunderscore}{\kern0pt}out\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ i{\isacharunderscore}{\kern0pt}b\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ m{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}m{\isacharprime}{\kern0pt}\ {\isasymequiv}\ m{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}dom\ m{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Suc\ i\ {\isasymle}\ Suc\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ n{\isacharunderscore}{\kern0pt}j\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ domI\ lessThan{\isacharunderscore}{\kern0pt}iff\ less{\isacharunderscore}{\kern0pt}SucI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ran{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ m{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ran\ preds{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}zs\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ i{\isacharunderscore}{\kern0pt}b\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ran{\isacharbrackleft}{\kern0pt}unfolded\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ i{\isacharunderscore}{\kern0pt}b{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Un{\isacharunderscore}{\kern0pt}upper{\isadigit{1}}\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff\ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UnI{\isadigit{1}}\ image{\isacharunderscore}{\kern0pt}eqI\ insert{\isacharunderscore}{\kern0pt}iff\ lessThan{\isacharunderscore}{\kern0pt}Suc\ lessThan{\isacharunderscore}{\kern0pt}iff\ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ sum{\isachardot}{\kern0pt}inject{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sup{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ None\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ i{\isacharunderscore}{\kern0pt}b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ Some{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ n\ {\isacharequal}{\kern0pt}\ Some\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ys{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharparenright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ domD\ insert{\isacharunderscore}{\kern0pt}iff\ leI\ lessThan{\isacharunderscore}{\kern0pt}iff\ list{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ys{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ Y\ {\isasymunion}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}zs\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl\ Some\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}lt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}lt\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}zs\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ AD\ xs\ {\isacharequal}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ {\isadigit{0}}\ Map{\isachardot}{\kern0pt}empty\ AD\ xs{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ys\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ Y\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}X\ {\isasyminter}\ Y\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ ys\ {\isasymand}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ Int{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}right\ Int{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}left{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isacharunderscore}{\kern0pt}\ X{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}unfolded\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}X\ {\isasymunion}\ Y{\isachardoublequoteclose}\ ys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}X\ {\isasyminter}\ Y\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ys\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ Y\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ unfolded\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Int{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}right\ Int{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}left\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ order{\isachardot}{\kern0pt}refl\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ Map{\isachardot}{\kern0pt}empty{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}unfolded\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}X\ {\isasymunion}\ Y{\isachardoublequoteclose}\ ys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ xs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}xs{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}X\ \isakeyword{and}\ {\isacharquery}{\kern0pt}Y{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}xs\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}X\ \isakeyword{and}\ {\isacharquery}{\kern0pt}Y{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}xs{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}refl\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}AD{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD{\isacharprime}{\kern0pt}\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Diff{\isacharunderscore}{\kern0pt}partition\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\ vs{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ vs{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ vs{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ iffD{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ OF\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\isanewline
\ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD{\isacharprime}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ vs{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ xs\ \isakeyword{where}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD{\isacharprime}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isacharprime}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharparenleft}{\kern0pt}AD{\isacharprime}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ Diff{\isacharunderscore}{\kern0pt}partition\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\ vs{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ preds{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ iffD{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\isanewline
\ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ folded\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ AD\ then\ X\ else\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ AD\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Ball\ X\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD\ X\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ AD\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}pred\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ table\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}pred\ ts\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ AD\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}table\ ts\ {\isacharparenleft}{\kern0pt}map\ Inl\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}bool\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bool\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}bool\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ b\ then\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ else\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eq\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eq\ t\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ Var\ n\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ t{\isacharprime}{\kern0pt}\ of\ Var\ n{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ if\ n\ {\isacharequal}{\kern0pt}\ n{\isacharprime}{\kern0pt}\ then\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ else\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Const\ c{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}c{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inl\ c{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharbar}{\kern0pt}\ Const\ c\ {\isasymRightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}case\ t{\isacharprime}{\kern0pt}\ of\ Var\ n{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}c{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inl\ c{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Const\ c{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ if\ c\ {\isacharequal}{\kern0pt}\ c{\isacharprime}{\kern0pt}\ then\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}c{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ else\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}c{\isacharcomma}{\kern0pt}\ c{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}neg\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}neg\ ns\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ ns{\isacharcomma}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}length\ ns{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}\ xs\ ys\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}let\ cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ in\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nys\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nxs\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}\ xs\ {\isacharbackquote}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}table\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}table\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\ AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharsemicolon}{\kern0pt}\ AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}idx\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}idx\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\ AD{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasyminter}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharsemicolon}{\kern0pt}\ AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ idx{\isasymphi}\ {\isacharequal}{\kern0pt}\ cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasymphi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ idx{\isasympsi}\ {\isacharequal}{\kern0pt}\ cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ join\ {\isacharequal}{\kern0pt}\ mapping{\isacharunderscore}{\kern0pt}join\ {\isacharparenleft}{\kern0pt}{\isasymlambda}X{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ let\ idx{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ idx{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ in\isanewline
\ \ \ \ \ \ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}join\ {\isacharparenleft}{\kern0pt}{\isasymlambda}X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ idx{\isasymphi}{\isacharprime}{\kern0pt}\ idx{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ idx{\isasymphi}\ idx{\isasympsi}\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ join{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}ajoin\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}ajoin\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ ns\ {\isacharequal}{\kern0pt}\ remdups{\isacharunderscore}{\kern0pt}adj\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ X{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}xs\ {\isasymin}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymnot}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}zip\ ns\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isasympsi}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}disj\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}disj\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharsemicolon}{\kern0pt}\ AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}exists\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}exists\ i\ ns\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ pos\ i\ ns\ of\ Some\ j\ {\isasymRightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ ns\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth\ j\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharbar}{\kern0pt}\ None\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ ns{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}forall\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}forall\ i\ ns\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ pos\ i\ ns\ of\ Some\ j\ {\isasymRightarrow}\isanewline
\ \ \ \ let\ n\ {\isacharequal}{\kern0pt}\ card\ AD\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ ns\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ Mapping{\isachardot}{\kern0pt}keys\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ Z{\isachardot}{\kern0pt}\ n\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ t{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isasymle}\ card\ Z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ts{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ None\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ ns{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ combine{\isacharunderscore}{\kern0pt}map{\isadigit{2}}{\isacharcolon}{\kern0pt}\ \isakeyword{assumes}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}distinct\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ xs\ {\isasyminter}\ set\ xs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs\ {\isasymand}\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ g\ \isakeyword{where}\ fg{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ g\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ exists{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fg{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ if\ x\ {\isasymin}\ set\ xs\ then\ f\ x\ else\ g\ x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ combine{\isacharunderscore}{\kern0pt}map{\isadigit{3}}{\isacharcolon}{\kern0pt}\ \isakeyword{assumes}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}distinct\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ xs\ {\isasyminter}\ set\ xs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ xs\ {\isasyminter}\ set\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ xs{\isacharprime}{\kern0pt}\ {\isasyminter}\ set\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs\ {\isasymand}\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isacharprime}{\kern0pt}\ {\isasymand}\ ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ g\ h\ \isakeyword{where}\ fgh{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ g\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ h\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ exists{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fgh{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ if\ x\ {\isasymin}\ set\ xs\ then\ f\ x\ else\ if\ x\ {\isasymin}\ set\ xs{\isacharprime}{\kern0pt}\ then\ g\ x\ else\ h\ x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ nsx\ {\isacharequal}{\kern0pt}\ length\ xs\ {\isasymLongrightarrow}\ distinct\ nsx\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ ba{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ b\ {\isacharequal}{\kern0pt}\ ba{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nsx\ xs\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharunderscore}{\kern0pt}isl{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ set\ xs\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}case\ x\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymin}\ X\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ False{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ F{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ x\ {\isasymin}\ set\ xs\ {\isasymLongrightarrow}\ x\ {\isasymin}\ X{\isachardoublequoteclose}\ \isakeyword{for}\ x\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Inl\ x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ F{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ xs\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ F{\isadigit{2}}\ intro{\isacharcolon}{\kern0pt}\ F{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}mapI{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ xs\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}f\ x{\isacharcomma}{\kern0pt}\ g\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ f\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ g\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}isl{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ f\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ g\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ {\isacharparenleft}{\kern0pt}map\ f\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}isl\ {\isacharparenleft}{\kern0pt}f\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f\ x\ {\isacharequal}{\kern0pt}\ g\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}f\ x{\isacharcomma}{\kern0pt}\ g\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}mapI{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharminus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ AD\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}mono\ image{\isacharunderscore}{\kern0pt}eqI\ sum{\isachardot}{\kern0pt}collapse{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ vimageI{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Y\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}length\ nsx\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ nsy\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsx{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ nsx\ {\isasyminter}\ set\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs{\isacharprime}{\kern0pt}\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ nsx\ nsy\ xs{\isacharprime}{\kern0pt}\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ cxs\ \isakeyword{where}\ {\isachardoublequoteopen}cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ nsy\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ nxs\ \isakeyword{where}\ {\isachardoublequoteopen}nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ nsy\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ cys\ \isakeyword{where}\ {\isachardoublequoteopen}cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ nsx\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ nys\ \isakeyword{where}\ {\isachardoublequoteopen}nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ nsx\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ both\ \isakeyword{where}\ {\isachardoublequoteopen}both\ {\isacharequal}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}set\ nsx\ {\isasymunion}\ set\ nsy{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ close{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ ys{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ Y\ ys\ ys{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ sup{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ close{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ close\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ merge{\isacharunderscore}{\kern0pt}length\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ close{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ zs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}zs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}fs{\isachardot}{\kern0pt}\ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nys\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}zs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}fs{\isachardot}{\kern0pt}\ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nxs\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ zxs\ zys\ \isakeyword{where}\ nall{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zxs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nys\ zxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}zys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nxs\ zys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ zxs\ {\isacharequal}{\kern0pt}\ length\ nys{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ zys\ {\isacharequal}{\kern0pt}\ length\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nall{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nxs{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nys{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsx{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nsy\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nxs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ nsy\ {\isasyminter}\ set\ nxs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nsx\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ nsx\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ close{\isacharprime}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ xf\ \isakeyword{where}\ xf{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ cxs\ {\isacharequal}{\kern0pt}\ map\ xf\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xf\ nsy{\isachardoublequoteclose}\ {\isachardoublequoteopen}zys\ {\isacharequal}{\kern0pt}\ map\ xf\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ combine{\isacharunderscore}{\kern0pt}map{\isadigit{3}}{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ snd\ cxs{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ fst\ cxs{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ys{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}ys{\isacharprime}{\kern0pt}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}nsy\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}zys\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}nxs{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ aux\ close{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}zs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ ysf\ \isakeyword{where}\ ysf{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ ysf\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ exists{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ xg\ \isakeyword{where}\ xg{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ cys\ {\isacharequal}{\kern0pt}\ map\ xg\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xg\ nsx{\isachardoublequoteclose}\ {\isachardoublequoteopen}zxs\ {\isacharequal}{\kern0pt}\ map\ xg\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ combine{\isacharunderscore}{\kern0pt}map{\isadigit{3}}{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ snd\ cys{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ fst\ cys{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ys{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}xs{\isacharprime}{\kern0pt}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}nsx\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}zxs\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux\ close{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}zs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ xsf\ \isakeyword{where}\ xsf{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ xsf\ nsx{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ exists{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}cxs{\isacharunderscore}{\kern0pt}nxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs\ {\isacharat}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ nsx\ {\isacharminus}{\kern0pt}\ set\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ close{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nsx\ xs{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}cys{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ nsy\ {\isacharminus}{\kern0pt}\ set\ nsx{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ close{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nsy\ ys{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ close{\isacharprime}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}cxs{\isacharunderscore}{\kern0pt}nxs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ both{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ cxs{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ close{\isacharprime}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}cys{\isacharunderscore}{\kern0pt}nys\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ both{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xf\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}{\isasymsigma}{\isacharequal}{\kern0pt}xf\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}nsy\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ms{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ fst\ cxs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ aux\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}xf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ xf\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isasymsigma}{\isacharequal}{\kern0pt}xf\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}{\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ms{\isacharequal}{\kern0pt}nxs{\isacharbrackright}{\kern0pt}\ aux\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xg\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}{\isasymsigma}{\isacharequal}{\kern0pt}xg\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}nsx\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ms{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ fst\ cys{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ aux\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}xg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ xg\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isasymsigma}{\isacharequal}{\kern0pt}xg\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}{\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ms{\isacharequal}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\ aux\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xg\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xf\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xsf\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ ysf\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ xsf{\isacharunderscore}{\kern0pt}def\ ysf{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ xg\ both{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ xf\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}xg\ zs{\isacharunderscore}{\kern0pt}xf\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ dest{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ both{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}rotated{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ disjE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ c{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Int{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Un\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharcomma}{\kern0pt}\ rotated{\isacharcomma}{\kern0pt}\ OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ Int{\isacharunderscore}{\kern0pt}lower{\isadigit{1}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ close{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ xsf{\isacharunderscore}{\kern0pt}def\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ Int{\isacharunderscore}{\kern0pt}lower{\isadigit{2}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ close{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ysf{\isacharunderscore}{\kern0pt}def\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Int\ proj{\isacharunderscore}{\kern0pt}xs\ proj{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ c{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isasymin}set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y{\isasymin}set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}case\ x\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymin}\ X\ {\isasymunion}\ Y\ {\isacharbar}{\kern0pt}\ Inr\ b\ {\isasymRightarrow}\ False{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ x\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ close{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ c\ that\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}isl{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}X\ \isakeyword{and}\ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}xsf\ \isakeyword{and}\ {\isacharquery}{\kern0pt}g{\isacharequal}{\kern0pt}xg\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}nsx{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ xsf{\isacharunderscore}{\kern0pt}def\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}eqI\ subsetD\ vimageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ subsetD\ sum{\isachardot}{\kern0pt}disc{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ E{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharunderscore}{\kern0pt}isl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}case\ y\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymin}\ X\ {\isasymunion}\ Y\ {\isacharbar}{\kern0pt}\ Inr\ b\ {\isasymRightarrow}\ False{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ y\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ close{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ c\ that\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}isl{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}Y\ \isakeyword{and}\ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}ysf\ \isakeyword{and}\ {\isacharquery}{\kern0pt}g{\isacharequal}{\kern0pt}xf\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}nsy{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ysf{\isacharunderscore}{\kern0pt}def\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}eqI\ subsetD\ vimageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ subsetD\ sum{\isachardot}{\kern0pt}disc{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ E{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharunderscore}{\kern0pt}isl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ xsf\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ xg\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ close{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ xsf{\isacharunderscore}{\kern0pt}def\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ E{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}isl{\isacharbrackleft}{\kern0pt}OF\ close{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ xsf{\isacharunderscore}{\kern0pt}def\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ xsf{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ E{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}isl{\isacharbrackleft}{\kern0pt}OF\ close{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ysf{\isacharunderscore}{\kern0pt}def\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ysf{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Un\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ E{\isadigit{1}}\ E{\isadigit{2}}\ E{\isadigit{3}}\ E{\isadigit{4}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ cxs{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ nxs{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ nys{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}sort{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}sort{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Y\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}length\ nsx\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ nsy\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsx{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ nsy{\isacharparenright}{\kern0pt}\ nsx{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs{\isacharprime}{\kern0pt}\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ nsx\ nsy\ xs{\isacharprime}{\kern0pt}\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ nsx\ {\isasyminter}\ set\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ aux{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharminus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Z\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Z\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}length\ nsx\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ nsy\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsx{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ nsx\ {\isasyminter}\ set\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ Z\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ Z\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ Z\ nsx\ nsy\ xs\ ys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Z\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Z\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}length\ nsx\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ nsy\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsx{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ nsy{\isacharparenright}{\kern0pt}\ nsx{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ Z\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ Z\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ Z\ nsx\ nsy\ xs\ ys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ nsx\ {\isasyminter}\ set\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ aux{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharminus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}filter{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ n\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ n\ {\isacharparenleft}{\kern0pt}length\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ n\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ Inr\ b\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}\ isl\ x{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}b\ {\isacharless}{\kern0pt}\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ n{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}Suc\ n{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}rev{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ n\ {\isacharparenleft}{\kern0pt}length\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ n\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ n\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}AD\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ Inr\ b\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}\ isl\ x{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasymphi}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasympsi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasympsi}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ distinct{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ cxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ nxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ cys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ nys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fs{\isasympsi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs{\isasymphi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs{\isasympsi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isasymin}\isanewline
\ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}eqI\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isadigit{1}}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ Inl\ x\ {\isasymin}\ set\ xs\ {\isasymunion}\ set\ fs{\isasymphi}\ {\isasymLongrightarrow}\ x\ {\isasymin}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}{\kern0pt}\ Inl\ y\ {\isasymin}\ set\ ys\ {\isasymunion}\ set\ fs{\isasympsi}\ {\isasymLongrightarrow}\ y\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD{\isacharbrackright}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}Inl{\isacharbrackleft}{\kern0pt}OF\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}Inl{\isacharbrackleft}{\kern0pt}OF\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ {\isasymsigma}xs\ n\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isasymand}\ x\ {\isasymin}\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isachardot}{\kern0pt}\ {\isasymsigma}ys\ n\ {\isacharequal}{\kern0pt}\ Inl\ y\ {\isasymand}\ y\ {\isasymin}\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ isl{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ imageI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}\ {\isasymor}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymsigma}xs\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}ys\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr\ Inl{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}eqI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}eqI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{1}}\ image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Inr{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}conv\ image{\isacharunderscore}{\kern0pt}iff\ sum{\isachardot}{\kern0pt}disc{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ fs{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}unfolded\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ nys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ filter{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ force{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nall{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}OF\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}folded\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharbrackright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ cys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharbrackleft}{\kern0pt}of\ cys{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}cys\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}take{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ eq{\isacharunderscore}{\kern0pt}key{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}value\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems\ set{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}nys{\isacharbrackleft}{\kern0pt}unfolded\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nall\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Inr{\isacharunderscore}{\kern0pt}sort{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasymphi}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasympsi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasympsi}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ distinct{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ cxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ nxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ cys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ nys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}map\ snd\ cys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ys{\isasympsi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}map\ snd\ cxs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}xs{\isasymphi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs{\isasympsi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ Inl{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ snd\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ xs{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ snd\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fs{\isasymphi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}eqI\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isadigit{1}}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}xs\ {\isacharbackquote}{\kern0pt}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ {\isasymsigma}xs\ {\isacharbackquote}{\kern0pt}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ set\ xs\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymsigma}ys\ {\isacharbackquote}{\kern0pt}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ {\isasymsigma}ys\ {\isacharbackquote}{\kern0pt}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ set\ ys\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ xs{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ Inl\ x\ {\isasymin}\ set\ xs\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isasympsi}\ {\isasymLongrightarrow}\ x\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}{\kern0pt}\ Inl\ y\ {\isasymin}\ set\ ys\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ xs{\isasymphi}\ {\isasymLongrightarrow}\ y\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD{\isacharbrackright}{\kern0pt}\ Inl{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}AD\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zipE\ set{\isacharunderscore}{\kern0pt}map\ subset{\isacharunderscore}{\kern0pt}eq\ vimageI\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ {\isasymsigma}xs\ n\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isasymand}\ x\ {\isasymin}\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isachardot}{\kern0pt}\ {\isasymsigma}ys\ n\ {\isacharequal}{\kern0pt}\ Inl\ y\ {\isasymand}\ y\ {\isasymin}\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ isl{\isacharunderscore}{\kern0pt}def\ rev{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}\ {\isasymor}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymsigma}xs\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}ys\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr\ Inl{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}eqI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}eqI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{1}}\ image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Inr{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}conv\ image{\isacharunderscore}{\kern0pt}iff\ sum{\isachardot}{\kern0pt}disc{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ fs{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}unfolded\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ nys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ force{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ cys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharbrackleft}{\kern0pt}of\ cys{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}cys\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}take{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ eq{\isacharunderscore}{\kern0pt}key{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}value\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems\ set{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}nys{\isacharbrackleft}{\kern0pt}unfolded\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ fs{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}AD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fs{\isasymphi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}rev{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ Inr{\isacharunderscore}{\kern0pt}sort{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasymphi}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasympsi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasympsi}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ distinct{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isasyminter}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ X{\isasympsi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}iff\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ aux\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xs\ ys\ \isakeyword{where}\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ys\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ fs{\isasymphi}\ \isakeyword{where}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}fs{\isasymphi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ length{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ fs{\isasympsi}\ \isakeyword{where}\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ fs{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}fs{\isasympsi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ length{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isasympsi}\ {\isacharequal}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}xs\ \isakeyword{where}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs\ {\isacharat}{\kern0pt}\ fs{\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}\ distinct\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}ys\ \isakeyword{where}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fs{\isasympsi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isacharat}{\kern0pt}\ fs{\isasympsi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}fs{\isasympsi}\ distinct\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasympsi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ fs{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ cxs\ \isakeyword{where}\ {\isachardoublequoteopen}cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ nxs\ \isakeyword{where}\ {\isachardoublequoteopen}nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ cys\ \isakeyword{where}\ {\isachardoublequoteopen}cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ nys\ \isakeyword{where}\ {\isachardoublequoteopen}nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharbrackleft}{\kern0pt}OF\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ unfolded\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasympsi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}xs\ \isakeyword{where}\ aux{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharbrackleft}{\kern0pt}OF\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ distinct\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}ys\ \isakeyword{where}\ aux{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ fs{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nxs\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ nxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ {\isasymsigma}ys\ nxs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharbrackleft}{\kern0pt}OF\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ distinct{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nys\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ length{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}nxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nxs\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ length{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}nys\ vs{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}nxs\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ cxs{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xs\ ys\ cxs\ nxs\ cys\ nys\ \isakeyword{where}\isanewline
\ \ \ \ \ \ cxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ nxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ cys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ nys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nys\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nxs\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ length\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}zip\ ns{\isasymphi}\ xs{\isachardoublequoteclose}\ cys{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ ys{\isasympsi}\ \isakeyword{where}\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nys\ ys{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ys{\isasympsi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}cys{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ eq{\isacharunderscore}{\kern0pt}key{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}value\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}xs\ \isakeyword{where}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}map\ snd\ cys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ys{\isasympsi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}nys{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}xs\ {\isacharat}{\kern0pt}\ map\ snd\ cys\ {\isacharat}{\kern0pt}\ ys{\isasympsi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}cxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ length\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}zip\ ns{\isasympsi}\ ys{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ xs{\isasymphi}\ \isakeyword{where}\ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nxs\ xs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}xs{\isasymphi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}length\ nxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}cxs{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs\ {\isacharat}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ eq{\isacharunderscore}{\kern0pt}key{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}value\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}ys\ \isakeyword{where}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}map\ snd\ cxs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}xs{\isasymphi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}nxs{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}ys\ {\isacharat}{\kern0pt}\ map\ snd\ cxs\ {\isacharat}{\kern0pt}\ xs{\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharunderscore}{\kern0pt}disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nxs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nxs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ nth{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharbrackleft}{\kern0pt}of\ cxs{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharbrackleft}{\kern0pt}of\ cys{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}eqI\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isadigit{1}}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns\ set{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharunderscore}{\kern0pt}disj\ set{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}eqI\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isadigit{1}}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns\ set{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharunderscore}{\kern0pt}disj\ set{\isacharunderscore}{\kern0pt}ns{\isasympsi}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharbrackleft}{\kern0pt}OF\ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cxs\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cys\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharunderscore}{\kern0pt}disj{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharunderscore}{\kern0pt}disj{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nxs\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ snd\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ xs{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ snd\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}Inl{\isacharbrackleft}{\kern0pt}OF\ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}Inl{\isacharbrackleft}{\kern0pt}OF\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}rightD{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ aux{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ distinct\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ refl\ refl\isanewline
\ \ \ \ \ \ \ \ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cys{\isacharbrackright}{\kern0pt}\ Inl{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}AD\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ aux{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ distinct{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ refl\ refl\isanewline
\ \ \ \ \ \ \ \ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cxs{\isacharbrackright}{\kern0pt}\ Inl{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}AD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ AD\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ AD\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}exists{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}fv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymLongrightarrow}\ X\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}\ {\isasymsigma}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}X\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}\ {\isasymsigma}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}forall{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}fv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymLongrightarrow}\ X\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ esat\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}exists{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}of\ n\ {\isachardoublequoteopen}Neg\ {\isasymphi}{\isachardoublequoteclose}\ X\ I\ {\isasymsigma}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}vals{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}sat\ {\isasymphi}\ I\ {\isacharequal}{\kern0pt}\isanewline
\ \ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}Pred{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}remdups{\isacharunderscore}{\kern0pt}adj\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}sort\ remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}distinct\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ X\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ t\ {\isasymunion}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}i\ j{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ t\ {\isasymunion}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ j\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ t\ {\isasymunion}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ j{\isacharcomma}{\kern0pt}\ {\isasymtau}\ j{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Const\ c{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ Const\isanewline
\ \ \ \ \ \ \ \ \ \ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}map\ rev{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ Var\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ y\ {\isasymnoteq}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}\ y\ {\isasymand}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ y\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ ts{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nth{\isacharunderscore}{\kern0pt}mem\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\ blast\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}\ y\ {\isasymand}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ y\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Const\ c{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ c{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ y{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Const{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}meson\ SUP{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}iff\ fo{\isacharunderscore}{\kern0pt}term{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}intros\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharbrackleft}{\kern0pt}of\ n{\isacharbrackright}{\kern0pt}\ y{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Const\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ rev{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharbrackleft}{\kern0pt}of\ n\ n{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ y{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ Var\ ad\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ pairwise{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isasymphi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasymphi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ sd{\isacharunderscore}{\kern0pt}ns{\isasympsi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fv{\isacharunderscore}{\kern0pt}Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharparenright}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharparenright}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD{\isasymphi}\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ {\isasymsigma}\ {\isasymin}\ S{\isasymphi}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ S{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharcomma}{\kern0pt}\ OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono\ AD{\isacharunderscore}{\kern0pt}sub\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}alt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharparenright}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharbrackright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}Un\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isasympsi}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharparenright}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ ad{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}alt\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}Un\ sd{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isasymphi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ sd{\isacharunderscore}{\kern0pt}ns{\isasympsi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fv{\isacharunderscore}{\kern0pt}Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ Z{\isacharunderscore}{\kern0pt}props{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ Z\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymand}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Z\ {\isasyminter}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}xs\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isasymphi}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Z\ {\isacharminus}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}xs\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ X{\isasymphi}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ {\isasymsigma}\ {\isasymin}\ S{\isasymphi}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ S{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharcomma}{\kern0pt}\ OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono\ AD{\isacharunderscore}{\kern0pt}sub\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isasympsi}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}Un\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ proj\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ sd{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ disj\ Un\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ X{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasyminter}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}xs\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isasymphi}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Z{\isacharunderscore}{\kern0pt}props\ proj\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isacharminus}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}xs\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ X{\isasymphi}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Z{\isacharunderscore}{\kern0pt}props\ proj\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ aux{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R\ {\isasymsubseteq}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ nfv{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ intro{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuplesI{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharparenright}{\kern0pt}\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ Z\ {\isasymLongrightarrow}\ length\ vs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Z\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ Z\ {\isasymlongleftrightarrow}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ Z{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ i\ vs\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isasymin}\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ i\ {\isasymnotin}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ Y\ \isakeyword{where}\ {\isachardoublequoteopen}Y\ {\isasymequiv}\ AD\ {\isasymunion}\ {\isasymsigma}\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inf{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}infinite\ {\isacharparenleft}{\kern0pt}UNIV\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Y{\isacharunderscore}{\kern0pt}def\ infinite{\isacharunderscore}{\kern0pt}UNIV{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}{\kern0pt}\ y\ {\isasymnotin}\ Y\ {\isasymLongrightarrow}\ map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ if\ z\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ i\ then\ y\ else\ z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isasymin}\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ bexI{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ Y{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ if\ z\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ i\ then\ x{\isacharprime}{\kern0pt}\ else\ z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}UNIV\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ if\ z\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ i\ then\ x{\isacharprime}{\kern0pt}\ else\ z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inf{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}Y\ fin\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}diff\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}finite{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasymsubseteq}\ all{\isacharunderscore}{\kern0pt}tuples\ AD\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuplesI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}finite{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharparenright}{\kern0pt}\ set{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isasymsigma}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}{\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}j\ x{\isachardot}{\kern0pt}\ j\ {\isasymin}\ set\ ns\ {\isasymlongrightarrow}\ {\isasymsigma}\ j\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isasymlongrightarrow}\ {\isasymtau}\ j\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}AD\ {\isasymunion}\ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}Inl{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj\ {\isacharparenleft}{\kern0pt}f\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}range\ f\ {\isasymsubseteq}\ UNIV\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD\ {\isasymunion}\ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ arb{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymtau}\ {\isacharequal}{\kern0pt}\ case{\isacharunderscore}{\kern0pt}sum\ id\ f\ {\isasymcirc}\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}out{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}i\ x{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ ns\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}ns\ {\isacharbang}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ {\isacharparenleft}{\kern0pt}f\ x{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ DiffE\ UNIV{\isacharunderscore}{\kern0pt}I\ UnCI\ imageI\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ a\ b\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}out\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isasymtau}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ J\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}{\isasymtau}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ UNIV\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i\ x{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymand}\ {\isasymsigma}\ i\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isasymlongrightarrow}\ {\isasymtau}\ i\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isasymsigma}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}sat{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ J\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ UNIV\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ Inl\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharbrackright}{\kern0pt}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ vs\ {\isasymsubseteq}\ range\ Inl{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}map\ range{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}i\ x{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymLongrightarrow}\ {\isasymsigma}\ i\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isasymLongrightarrow}\ {\isasymtau}\ i\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharbrackleft}{\kern0pt}OF\ assms\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}sat{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}sat{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}iff\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ {\isasymsigma}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharcomma}{\kern0pt}\ of\ {\isasymsigma}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ {\isasymtau}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}map\ range{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}fmla{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}sat\ {\isasymphi}\ I\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}b\ {\isasymtimes}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ set{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ finite\ AD\ {\isasymand}\ finite\ X\ {\isasymand}\ n\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}\ {\isasymand}\isanewline
\ \ \ \ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I\ {\isasymand}\ AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymand}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat\ {\isasymphi}\ I\ {\isasymand}\isanewline
\ \ \ \ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}vs\ {\isasymin}\ X{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs\ {\isasymand}\ length\ vs\ {\isacharequal}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}fin\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}fin\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}fin{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}fin\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ projl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xs\ \isakeyword{where}\ xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ vs{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ zs\ \isakeyword{where}\ zs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ Inl\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ {\isacharparenleft}{\kern0pt}meson\ ex{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}conv\ isl{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ zs\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}equalityI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ map\ projl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}iff\ comp{\isacharunderscore}{\kern0pt}def\ vs{\isacharunderscore}{\kern0pt}zs\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}map\ Inl\ zs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ map\ projl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xs\ \isakeyword{where}\ xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ projl\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}Inl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ Inl\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ xs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}idI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}Inl\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ xs{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}refl{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ table{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharcomma}{\kern0pt}\ nfv\ {\isasymphi}{\isacharcomma}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}projl{\isacharunderscore}{\kern0pt}Inl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ projl\ {\isacharparenleft}{\kern0pt}map\ Inl\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}map\ nth{\isacharunderscore}{\kern0pt}equalityI\ nth{\isacharunderscore}{\kern0pt}map\ sum{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ norm{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}sat{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ vs{\isacharprime}{\kern0pt}\ \isakeyword{where}\ vs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs{\isacharprime}{\kern0pt}\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ vs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ vs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\ vs{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ vs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}map\ vs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ Inl\ vs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}sat\ {\isasymphi}\ I\ {\isasymtau}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}projl{\isacharunderscore}{\kern0pt}Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ esat{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharprime}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcomma}{\kern0pt}\ folded\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcomma}{\kern0pt}\ folded\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ esat\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ vs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}fmla{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ finite{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}sub{\isacharcomma}{\kern0pt}\ OF\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}finite{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ nfv{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}fin{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ t\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}fin\ t\ {\isacharequal}{\kern0pt}\ finite\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}rep\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ length\ vs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ Inl\ x\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ x\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ Z\ \isakeyword{where}\ {\isachardoublequoteopen}Z\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}Z{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ Z\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fin{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ of\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ Z{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ vs\ i\ m\ \isakeyword{where}\ vs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ Inr\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ sum{\isachardot}{\kern0pt}collapse{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ vs{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ {\isacharparenleft}{\kern0pt}map\ Inl\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isasymsigma}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Z{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isasymin}\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymtau}\ i\ {\isasymnotin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ comp{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ Inl{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}False\ diff{\isacharunderscore}{\kern0pt}zero\ image{\isacharunderscore}{\kern0pt}iff\ length{\isacharunderscore}{\kern0pt}upt\ nth{\isacharunderscore}{\kern0pt}map\ nth{\isacharunderscore}{\kern0pt}upt\isanewline
\ \ \ \ \ \ \ \ \ \ plus{\isacharunderscore}{\kern0pt}nat{\isachardot}{\kern0pt}add{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}AD\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}AD\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}eqI\ isl{\isacharunderscore}{\kern0pt}def\ nth{\isacharunderscore}{\kern0pt}map\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ Z{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}pred{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ I\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}b\ {\isasymtimes}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite\ list\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}pred\ ts\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymphi}\ {\isacharequal}{\kern0pt}\ Pred\ r\ ts{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}len{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}Pred{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vimage{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ set\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}table\ ts\ {\isacharparenleft}{\kern0pt}map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ nall{\isacharunderscore}{\kern0pt}tuples\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}table\ nfv{\isacharunderscore}{\kern0pt}len{\isacharbrackleft}{\kern0pt}unfolded\ {\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ vimage{\isacharunderscore}{\kern0pt}unfold\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuplesI\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}AD\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}setD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ UN{\isacharunderscore}{\kern0pt}I\ Un{\isacharunderscore}{\kern0pt}iff\ eval{\isacharunderscore}{\kern0pt}eterm{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ imageE\ image{\isacharunderscore}{\kern0pt}eqI\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}pred\ ts\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}table\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}Pred\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}set\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\ nfv{\isacharunderscore}{\kern0pt}len{\isacharbrackleft}{\kern0pt}unfolded\ {\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval\ {\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ zs\ {\isasymLongrightarrow}\isanewline
\ \ {\isasymexists}{\isasymtau}{\isachardot}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts\ arbitrary{\isacharcolon}{\kern0pt}\ zs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ w\ ws\ \isakeyword{where}\ zs{\isacharunderscore}{\kern0pt}split{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ zs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}split\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Const\ c{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ zs{\isacharunderscore}{\kern0pt}split{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Const\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}split\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ i{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ ts{\isachardoublequoteclose}\ {\isachardoublequoteopen}ts\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ Var\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}setD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ zs{\isacharunderscore}{\kern0pt}split\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ i{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pairwiseD{\isacharbrackleft}{\kern0pt}of\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ {\isacharparenleft}{\kern0pt}ts\ {\isacharbang}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ {\isacharparenleft}{\kern0pt}ts\ {\isacharbang}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ Var\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Var\ zs{\isacharunderscore}{\kern0pt}split\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ ts\ {\isasymtau}\ {\isachardoublequoteopen}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}split\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ Var\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ {\isacharparenleft}{\kern0pt}map\ Var\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ {\isacharparenleft}{\kern0pt}map\ Var\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ assms{\isacharbrackleft}{\kern0pt}unfolded\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\ dest{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}setD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ opaque{\isacharunderscore}{\kern0pt}lifting{\isacharparenright}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterm{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}setD\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth\ nth{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}bool{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Bool\ b{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bool\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}bool{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\isanewline
\ \ \ \ \ \ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ \isakeyword{fixes}\ I\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}b\ {\isasymtimes}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite\ list\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}eq\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymphi}\ {\isacharequal}{\kern0pt}\ Eqa\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eq\ t\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eq\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}def\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}term{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharsemicolon}{\kern0pt}\ cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ pes\ \isakeyword{where}\ {\isachardoublequoteopen}pes\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}c\ c{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ Const\ c\ {\isasymand}\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Const\ c{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ pes\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ c\ {\isacharequal}{\kern0pt}\ c{\isacharprime}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ pes{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}c\ n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ Const\ c\ {\isasymand}\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Var\ n{\isacharparenright}{\kern0pt}\ {\isasymor}\ {\isacharparenleft}{\kern0pt}t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Const\ c\ {\isasymand}\ t\ {\isacharequal}{\kern0pt}\ Var\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ pes\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inl\ c{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ pes{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ Var\ n\ {\isasymLongrightarrow}\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Var\ n\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ pes\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ pes{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}n\ n{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ Var\ n\ {\isasymLongrightarrow}\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Var\ n{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ n\ {\isasymnoteq}\ n{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ pes\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ pes{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ i\ i{\isacharprime}{\kern0pt}\ {\isasymsigma}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isasymsigma}\ i{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ i\ i{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ pes{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharsemicolon}{\kern0pt}\ cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharsemicolon}{\kern0pt}\ cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}Cons\isanewline
\ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eq\ t\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ AD{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ n{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval\ {\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}Var{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}map\ Var\ ns{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}Var{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ map\ Var\ ns\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}table{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}table\ {\isacharparenleft}{\kern0pt}map\ Var\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sup{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fvs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ Var\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}Var\ remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ length\ vs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ {\isasymexists}{\isasymsigma}{\isachardot}{\kern0pt}\ vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ {\isasymsigma}\ {\isasymodot}e\ map\ Var\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}Var\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}table\ {\isacharparenleft}{\kern0pt}map\ Var\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}table\ fvs\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}X\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\ image{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharparenright}{\kern0pt}\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}vs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}in\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ {\isacharparenleft}{\kern0pt}map\ Inl\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharunderscore}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}length\ vs{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ unfolded\ map{\isacharunderscore}{\kern0pt}nth{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}in\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharbrackleft}{\kern0pt}OF\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\ vs{\isacharunderscore}{\kern0pt}in\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xs\ xs{\isacharprime}{\kern0pt}\ \isakeyword{where}\ vs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ xs{\isacharparenright}{\kern0pt}\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharbrackleft}{\kern0pt}OF\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}norm{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}wf{\isacharbrackright}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}sat{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep\ AD{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}neg{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}neg\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}neg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}neg\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ nfv\ {\isasymphi}{\isacharcomma}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nfv\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharbrackleft}{\kern0pt}unfolded\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ vs\ {\isasymnotin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharsemicolon}{\kern0pt}\ rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}vs\ {\isasymnotin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}{\isacharprime}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV\ {\isacharequal}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharprime}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharbrackleft}{\kern0pt}OF\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharbrackleft}{\kern0pt}OF\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymnotin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}vs\ {\isasymnotin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ l{\isacharunderscore}{\kern0pt}vs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuplesD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ l{\isacharunderscore}{\kern0pt}vs\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ exists{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}R{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R\ {\isasymsubseteq}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ nfv{\isacharunderscore}{\kern0pt}def\ nall{\isacharunderscore}{\kern0pt}tuplesI\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}neg\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}neg\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}unfold\ nfv{\isacharunderscore}{\kern0pt}unfold\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}neg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}neg{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}cross{\isacharunderscore}{\kern0pt}with\ f\ t\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}f\ xs\ {\isacharbackquote}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mapping{\isacharunderscore}{\kern0pt}join{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}X\ X{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ X\ {\isasymsubseteq}\ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ t\ {\isasymLongrightarrow}\ X{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ t{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ f\ X\ X{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f{\isacharprime}{\kern0pt}\ X\ X{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}mapping{\isacharunderscore}{\kern0pt}join\ f\ t\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ mapping{\isacharunderscore}{\kern0pt}join\ f{\isacharprime}{\kern0pt}\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ transfer\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mapping{\isacharunderscore}{\kern0pt}join{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}with{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}x\ x{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymin}\ t\ {\isasymLongrightarrow}\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ t{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ h\ x\ {\isasymnoteq}\ h{\isacharprime}{\kern0pt}\ x{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ f\ x\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}join\ {\isacharparenleft}{\kern0pt}cross{\isacharunderscore}{\kern0pt}with\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ h{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ h{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with\ f\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cross{\isacharunderscore}{\kern0pt}with\ f\ {\isacharbraceleft}{\kern0pt}y\ {\isasymin}\ t{\isachardot}{\kern0pt}\ h\ y\ {\isacharequal}{\kern0pt}\ h\ x{\isacharbraceright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y\ {\isasymin}\ t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ h{\isacharprime}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ h\ x{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ cross{\isacharunderscore}{\kern0pt}with\ f\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ t\ t{\isacharprime}{\kern0pt}\ x\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ h\ {\isacharbackquote}{\kern0pt}\ t\ {\isasymand}\ a\ {\isasymin}\ h{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ {\isasymand}\ z\ {\isasymin}\ cross{\isacharunderscore}{\kern0pt}with\ f\ {\isacharbraceleft}{\kern0pt}y\ {\isasymin}\ t{\isachardot}{\kern0pt}\ h\ y\ {\isacharequal}{\kern0pt}\ a{\isacharbraceright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y\ {\isasymin}\ t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ h{\isacharprime}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{if}\ z{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ cross{\isacharunderscore}{\kern0pt}with\ f\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ z\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ xs\ ys\ \isakeyword{where}\ wit{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isasymin}\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ f\ xs\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ z\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ h{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ xs\ {\isacharequal}{\kern0pt}\ h{\isacharprime}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ wit{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ wit{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ hys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h{\isacharprime}{\kern0pt}\ ys\ {\isasymin}\ h\ {\isacharbackquote}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ wit{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ h{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}h\ xs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ wit\ hys\ h\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sub\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}transfer\ fixing{\isacharcolon}{\kern0pt}\ f\ h\ h{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ X{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ X{\isacharprime}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ order{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}cluster{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ f{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ transfer\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}idx{\isacharcolon}{\kern0pt}\ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasympsi}\ I\ t{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}table\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD{\isasymphi}\ n{\isasymphi}\ X{\isasymphi}\ \isakeyword{where}\ t{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isasymphi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ n{\isasymphi}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isasymphi}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD{\isasympsi}\ n{\isasympsi}\ X{\isasympsi}\ \isakeyword{where}\ t{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ n{\isasympsi}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isasympsi}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ AD\ \isakeyword{where}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ AD{\isasymDelta}{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ AD{\isasymDelta}{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasymphi}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasympsi}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns\ \isakeyword{where}\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasyminter}\ AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isasyminter}\ AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}delta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasymDelta}{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasympsi}\ {\isasymunion}\ AD{\isasymDelta}{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}props{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isasymphi}\ vs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isasymphi}{\isachardoublequoteclose}\ \isakeyword{for}\ vs\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ that\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isasymphi}{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ X{\isasympsi}{\isacharunderscore}{\kern0pt}props{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isasympsi}\ vs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\ \isakeyword{for}\ vs\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ that\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isasympsi}{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Ball\ X{\isasymphi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Ball\ X{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isasymphi}{\isacharunderscore}{\kern0pt}def\ t{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ cross{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\ ns{\isasymphi}\ ns{\isasympsi}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ empty{\isacharunderscore}{\kern0pt}delta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ AD{\isasymDelta}{\isasymphi}\ {\isasymLongrightarrow}\ AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ AD{\isasymDelta}{\isasympsi}\ {\isasymLongrightarrow}\ AD\ {\isacharequal}{\kern0pt}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def\ Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ect{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}\ x\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}X{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}X{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ X{\isasympsi}{\isachardoublequoteclose}\ \isakeyword{for}\ X{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}\ \isakeyword{and}\ x\ x{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}{\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}props\ X{\isasympsi}{\isacharunderscore}{\kern0pt}props\ that\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}disj{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ AD{\isacharunderscore}{\kern0pt}delta{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}disj{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ AD{\isacharunderscore}{\kern0pt}delta{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}length\ subsetD{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inner{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}cross{\isacharunderscore}{\kern0pt}with\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inner{\isacharunderscore}{\kern0pt}cross{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}join\ {\isacharparenleft}{\kern0pt}{\isasymlambda}X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ cross{\isacharunderscore}{\kern0pt}with\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}X{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ X{\isasympsi}{\isachardoublequoteclose}\ \isakeyword{for}\ X{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mapping{\isacharunderscore}{\kern0pt}join{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}with{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ {\isacharquery}{\kern0pt}h{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ {\isacharquery}{\kern0pt}h{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ {\isacharquery}{\kern0pt}t{\isacharequal}{\kern0pt}{\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}{\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ OF\ ect{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}OF\ sub{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inner{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cross{\isacharunderscore}{\kern0pt}with\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ cross{\isacharunderscore}{\kern0pt}with\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs\ ys{\isachardot}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ {\isacharbraceleft}{\kern0pt}xs{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharbraceleft}{\kern0pt}ys{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{for}\ X{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ outer{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}mapping{\isacharunderscore}{\kern0pt}join\ {\isacharparenleft}{\kern0pt}{\isasymlambda}X{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}join\ {\isacharparenleft}{\kern0pt}{\isasymlambda}X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}\ {\isasyminter}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}\ {\isasyminter}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ mapping{\isacharunderscore}{\kern0pt}join\ {\isacharparenleft}{\kern0pt}cross{\isacharunderscore}{\kern0pt}with\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs\ ys{\isachardot}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ {\isacharbraceleft}{\kern0pt}xs{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharbraceleft}{\kern0pt}ys{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}\ {\isasyminter}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}\ {\isasyminter}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ mapping{\isacharunderscore}{\kern0pt}join{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx{\isacharunderscore}{\kern0pt}cluster\ inner{\isacharunderscore}{\kern0pt}cross\ aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isasymphi}\ {\isasymLongrightarrow}\ Ball\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isasympsi}\ {\isasymLongrightarrow}\ Ball\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ x\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}X\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ect{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}closed{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharbraceleft}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}\ {\isasyminter}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}\ {\isasyminter}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{for}\ x\ x{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}x\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}ns\ ns{\isacharunderscore}{\kern0pt}def\ that{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}props\ X{\isasympsi}{\isacharunderscore}{\kern0pt}props\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}AD{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}AD{\isasymphi}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}AD{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}AD{\isasympsi}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ outer{\isacharunderscore}{\kern0pt}cross\ {\isacharequal}{\kern0pt}\ mapping{\isacharunderscore}{\kern0pt}join{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}with{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}xs\ ys{\isachardot}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ {\isacharbraceleft}{\kern0pt}xs{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharbraceleft}{\kern0pt}ys{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isacharquery}{\kern0pt}h{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}\ {\isasyminter}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isacharquery}{\kern0pt}h{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}\ {\isasyminter}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isacharquery}{\kern0pt}t{\isacharequal}{\kern0pt}X{\isasymphi}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}t{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}X{\isasympsi}{\isacharcomma}{\kern0pt}\ OF\ ect{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}closed{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isasymphi}{\isacharunderscore}{\kern0pt}def\ t{\isasympsi}{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ outer{\isacharunderscore}{\kern0pt}cong\ outer{\isacharunderscore}{\kern0pt}cross{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ \ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ \ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharbrackleft}{\kern0pt}OF\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharbrackleft}{\kern0pt}OF\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ OF\ ad{\isacharunderscore}{\kern0pt}agr\ ad{\isacharunderscore}{\kern0pt}sub{\isacharbrackright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}table{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasympsi}\ I\ t{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}table\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD{\isasymphi}\ n{\isasymphi}\ X{\isasymphi}\ AD{\isasympsi}\ n{\isasympsi}\ X{\isasympsi}\ \isakeyword{where}\ ts{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}t{\isasymphi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ n{\isasymphi}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ n{\isasympsi}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD{\isasymphi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isasymphi}{\isacharcomma}{\kern0pt}\ cases\ t{\isasympsi}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I\ {\isasymsubseteq}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}table\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}table\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ nfv\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}card\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasymphi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasympsi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}folded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}folded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}table\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}conj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}conj{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasympsi}\ I\ t{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}table\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}idx\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I\ {\isasymsubseteq}\ AD{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isasympsi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasympsi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasympsi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ X{\isasympsi}\ {\isasymlongleftrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ xs\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ys\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}ys\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasympsi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ xs\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ xs\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ xs\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ xs\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ys\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}ys\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasympsi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ xs\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ ys\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\ {\isacharequal}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\isanewline
\ \ \ \ \ \ \ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ sup{\isachardot}{\kern0pt}absorb{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isacharparenright}{\kern0pt}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}ajoin{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasympsi}{\isacharprime}{\kern0pt}\ I\ t{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}ajoin\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD{\isasymphi}\ n{\isasymphi}\ X{\isasymphi}\ AD{\isasympsi}{\isacharprime}{\kern0pt}\ n{\isasympsi}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ ts{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}t{\isasymphi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ n{\isasymphi}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ n{\isasympsi}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD{\isasymphi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}{\isacharprime}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isasymphi}{\isacharcomma}{\kern0pt}\ cases\ t{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}{\isacharprime}{\kern0pt}\ I\ {\isasymsubseteq}\ AD{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}ajoin\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}ajoin\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ nfv\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}card\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasymphi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasympsi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}{\isacharprime}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns\ \isakeyword{where}\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ S{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ S{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Z{\isacharunderscore}{\kern0pt}props{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymand}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Z{\isacharunderscore}{\kern0pt}diff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymnotin}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ S{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}props{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ S{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ remdups{\isacharunderscore}{\kern0pt}adj\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}sort{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}{\isacharprime}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}ajoin{\isachardot}{\kern0pt}simps\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \ \ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sort{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}diff{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ S{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ sup{\isacharunderscore}{\kern0pt}ge{\isadigit{1}}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}ajoin\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcomma}{\kern0pt}\ of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}neg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}neg{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}disj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasympsi}\ I\ t{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}disj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD{\isasymphi}\ n{\isasymphi}\ X{\isasymphi}\ AD{\isasympsi}\ n{\isasympsi}\ X{\isasympsi}\ \isakeyword{where}\ ts{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}t{\isasymphi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ n{\isasymphi}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ n{\isasympsi}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD{\isasymphi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isasymphi}{\isacharcomma}{\kern0pt}\ cases\ t{\isasympsi}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I\ {\isasymsubseteq}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}disj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}disj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ nfv\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}card\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasymphi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasympsi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}disj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}disj{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}pos\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}of\ i\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Exists\ i\ {\isasymphi}{\isachardoublequoteclose}\ {\isasymphi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Forall\ i\ {\isasymphi}{\isachardoublequoteclose}\ {\isasymphi}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ Some{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}pos\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}nfv\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}nfv\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ pos{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ i\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ pos{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ i\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ Some\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}nfv\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}nfv\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Exists\ i\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Forall\ i\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}sort\isanewline
\ \ \ \ \ \ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}id\ filter{\isacharunderscore}{\kern0pt}set\ filter{\isacharunderscore}{\kern0pt}sort\ remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}set\ sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}remdups\isanewline
\ \ \ \ \ \ sorted{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj\ sorted{\isacharunderscore}{\kern0pt}sort\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}exists\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharbrackleft}{\kern0pt}unfolded\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ t{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}exists\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}pos\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}eq\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharbrackleft}{\kern0pt}OF\ None{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}exists{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}of\ i\ {\isasymphi}\ UNIV\ I{\isacharbrackright}{\kern0pt}\ pos{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ None{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ None\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}eq\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth\ j\ {\isacharbackquote}{\kern0pt}\ X\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth\ j\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ws\ \isakeyword{where}\ ws{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ folded\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ i{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\ i\ j\ {\isasymtau}{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ Some\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}exists\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ws{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ esat{\isacharunderscore}{\kern0pt}{\isasymtau}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ assm\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ ws\ \isakeyword{where}\ {\isachardoublequoteopen}ws\ {\isasymequiv}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ ws\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ length{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ws{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ ws{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ ws{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\ i\ j{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ Some\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}exists\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ folded\ ws{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ unfolded\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}unfolded\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth\ j\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Some\ ws{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharbrackleft}{\kern0pt}OF\ Some{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ Some\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}ex{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}ex{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}forall{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}sort\isanewline
\ \ \ \ \ \ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}id\ filter{\isacharunderscore}{\kern0pt}set\ filter{\isacharunderscore}{\kern0pt}sort\ remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}set\ sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}remdups\isanewline
\ \ \ \ \ \ sorted{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj\ sorted{\isacharunderscore}{\kern0pt}sort\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pairwise{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}pairwise\ P\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}pairwise\ P\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}take\ i\ xs\ {\isacharat}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ i\ ys\ {\isacharat}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ pairwise{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymLongrightarrow}\ set\ xs\ {\isacharequal}{\kern0pt}\ set\ xs\ {\isasyminter}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}set\ card{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}length\ min{\isachardot}{\kern0pt}absorb{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ xs\ ys\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}take\ i\ xs\ {\isacharat}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ i\ ys\ {\isacharat}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ take{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}takeD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ drop{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}dropD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ pairwise{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ i\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}add{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcomma}{\kern0pt}\ of\ i{\isacharcomma}{\kern0pt}\ folded\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ i{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}add{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ i{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}add{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ eq{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ xs\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}z{\isacharprime}{\kern0pt}\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isachardot}{\kern0pt}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}take\ i\ xs\ {\isacharat}{\kern0pt}\ z\ {\isacharhash}{\kern0pt}\ drop\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ i\ ys\ {\isacharat}{\kern0pt}\ z{\isacharprime}{\kern0pt}\ {\isacharhash}{\kern0pt}\ drop\ i\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ n\ \isakeyword{where}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ n{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcomma}{\kern0pt}\ OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}n\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ z{\isacharprime}{\kern0pt}\ \isakeyword{where}\ z{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z{\isacharprime}{\kern0pt}\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ extend{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ subset{\isacharunderscore}{\kern0pt}refl{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ of\ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isachardoublequoteclose}\ z{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ i\ xs\ {\isacharat}{\kern0pt}\ z\ {\isacharhash}{\kern0pt}\ drop\ i\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ i\ ys\ {\isacharat}{\kern0pt}\ z{\isacharprime}{\kern0pt}\ {\isacharhash}{\kern0pt}\ drop\ i\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ take{\isacharunderscore}{\kern0pt}map\ drop{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ iffD{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcomma}{\kern0pt}\ OF\ z{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ set{\isacharunderscore}{\kern0pt}n{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}take\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}restrict{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}z{\isacharprime}{\kern0pt}\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z{\isacharprime}{\kern0pt}\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ zs\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z{\isacharprime}{\kern0pt}\ \isakeyword{where}\ z{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}z{\isacharprime}{\kern0pt}\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}take\ i\ zs\ {\isacharat}{\kern0pt}\ z\ {\isacharhash}{\kern0pt}\ drop\ i\ zs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ i\ zs\ {\isacharat}{\kern0pt}\ z{\isacharprime}{\kern0pt}\ {\isacharhash}{\kern0pt}\ drop\ i\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}refl\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ AD\ z{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}rem{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}z{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ zs\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ x\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}rem{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}z{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z{\isacharprime}{\kern0pt}\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ x\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ i\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}rem{\isacharbrackleft}{\kern0pt}of\ i\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ i\ xs{\isachardoublequoteclose}\ AD\ {\isachardoublequoteopen}xs\ {\isacharbang}{\kern0pt}\ i{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ unfolded\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}self{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ eq{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}almost{\isacharunderscore}{\kern0pt}same{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ v\ {\isasymin}\ set\ xs\ {\isasymunion}\ set\ ys\ {\isasymor}\ w\ {\isasymin}\ set\ xs\ {\isasymunion}\ set\ ys\ {\isasymLongrightarrow}\ v\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ UnCI\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ zip{\isacharunderscore}{\kern0pt}same{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ v\ zs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ w\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isasymnoteq}\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ set\ zs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}almost{\isacharunderscore}{\kern0pt}same\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ append{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharunderscore}{\kern0pt}id\ set{\isacharunderscore}{\kern0pt}append\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}almost{\isacharunderscore}{\kern0pt}same{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Inr{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}tuple{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Inr\ n\ {\isasymin}\ set\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}wit{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}card\ Z\ {\isasymle}\ card\ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ f\ z{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ Z\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ f\ z{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isacharbackquote}{\kern0pt}\ Z\ {\isasyminter}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}unfold\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Int{\isacharunderscore}{\kern0pt}lower{\isadigit{1}}\ card{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}le\ card{\isacharunderscore}{\kern0pt}seteq\ finite{\isacharunderscore}{\kern0pt}imageI\ inf{\isachardot}{\kern0pt}absorb{\isacharunderscore}{\kern0pt}iff{\isadigit{1}}\ le{\isacharunderscore}{\kern0pt}antisym\isanewline
\ \ \ \ \ \ \ \ surj{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ i\ {\isacharless}{\kern0pt}\ length\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Inr{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}tuple{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}image\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}z{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}z\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}restrict{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}z{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}restrict{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isanewline
\ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Un{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}le{\isacharbrackleft}{\kern0pt}OF\ inj\ image{\isacharunderscore}{\kern0pt}sub{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}image{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}z\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}wit{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ assm{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}z{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ restrict{\isacharunderscore}{\kern0pt}z{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Un\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ X\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ x\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ X\ {\isasymLongrightarrow}\ j\ {\isacharless}{\kern0pt}\ length\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ z\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharbraceleft}{\kern0pt}y\ {\isasymin}\ X{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ xs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}zs{\isacharequal}{\kern0pt}{\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}forall{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}forall\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharbrackleft}{\kern0pt}unfolded\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ t{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}forall\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}pos\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}eq\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharbrackleft}{\kern0pt}OF\ None{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}forall{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}of\ i\ {\isasymphi}\ UNIV\ I{\isacharbrackright}{\kern0pt}\ pos{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ None{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ None\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}eq\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}fv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ pos{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}OF\ Some{\isacharcomma}{\kern0pt}\ unfolded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ j\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ Some{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}len{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ j\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ img{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}fmla{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}keys\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ Z{\isachardot}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ Z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ts{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ Mapping{\isachardot}{\kern0pt}keys\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ Z{\isachardot}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ Z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ts{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ws\ \isakeyword{where}\ ws{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}a{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ a\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}X\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}len\ fin{\isacharunderscore}{\kern0pt}AD\ fin{\isacharunderscore}{\kern0pt}X{\isacharbrackright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharbrackleft}{\kern0pt}OF\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}X\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ transfer\ {\isacharparenleft}{\kern0pt}fastforce\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}ws{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ Some{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ esat{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ballI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ x\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}rem{\isacharbrackleft}{\kern0pt}of\ j\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isachardoublequoteclose}\ AD\ x{\isacharbrackright}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len{\isacharbrackleft}{\kern0pt}OF\ ws{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ws{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ Some{\isacharcomma}{\kern0pt}\ of\ x{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ Some{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}forall\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ws{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ esat{\isacharunderscore}{\kern0pt}{\isasymtau}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ assm\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}esat{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ ws\ \isakeyword{where}\ {\isachardoublequoteopen}ws\ {\isasymequiv}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ ws\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ length{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ws{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}esat{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymsigma}\ i{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ ws{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ws{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ ws{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\ i\ j{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ Some\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}forall\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}forall{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD{\isacharbrackright}{\kern0pt}\ ws{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}forall{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}unfolded\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}a{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ a\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\isanewline
\ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ a\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ add{\isacharunderscore}{\kern0pt}rem{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ a\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ Some{\isacharcomma}{\kern0pt}\ of\ {\isacharunderscore}{\kern0pt}\ {\isasymtau}{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}rem{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ j\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ j\ ws{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len{\isacharbrackleft}{\kern0pt}OF\ ws{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffD{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharcomma}{\kern0pt}\ folded\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ folded\ ws{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ unfolded\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ a\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\isanewline
\ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}rem\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ Mapping{\isachardot}{\kern0pt}keys\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ Z{\isachardot}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ Z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ts{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ X{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}X\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}len\ fin{\isacharunderscore}{\kern0pt}AD\ fin{\isacharunderscore}{\kern0pt}X{\isacharbrackright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharbrackleft}{\kern0pt}OF\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}X\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len{\isacharbrackright}{\kern0pt}\ ws{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ transfer\ {\isacharparenleft}{\kern0pt}fastforce\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharbrackleft}{\kern0pt}OF\ Some{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ Some\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def\ img{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}fmla{\isacharbrackleft}{\kern0pt}unfolded\ t{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}all{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}res\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ eval{\isacharunderscore}{\kern0pt}res{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}res\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ fo{\isacharunderscore}{\kern0pt}fin\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ then\ Fin\ {\isacharparenleft}{\kern0pt}map\ projl\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ else\ Infin{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}res{\isacharunderscore}{\kern0pt}fin{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ t\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}rep\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}res\ t\ {\isacharequal}{\kern0pt}\ Fin\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}rep\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}fin\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ only{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}res{\isachardot}{\kern0pt}simps\ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}fin\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}res{\isacharunderscore}{\kern0pt}infin{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ t\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymnot}finite\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}rep\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}res\ t\ {\isacharequal}{\kern0pt}\ Infin{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}fin\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ only{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}res{\isachardot}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}rep\ t\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{global{\isacharunderscore}{\kern0pt}interpretation}\isamarkupfalse%
\ Ailamazyan{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}fo\ fo{\isacharunderscore}{\kern0pt}wf\ eval{\isacharunderscore}{\kern0pt}pred\ fo{\isacharunderscore}{\kern0pt}rep\ fo{\isacharunderscore}{\kern0pt}res\isanewline
\ \ eval{\isacharunderscore}{\kern0pt}bool\ eval{\isacharunderscore}{\kern0pt}eq\ eval{\isacharunderscore}{\kern0pt}neg\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}idx\ eval{\isacharunderscore}{\kern0pt}ajoin\ eval{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ eval{\isacharunderscore}{\kern0pt}exists\ eval{\isacharunderscore}{\kern0pt}forall\isanewline
\ \ \isakeyword{defines}\ eval{\isacharunderscore}{\kern0pt}fmla\ {\isacharequal}{\kern0pt}\ Ailamazyan{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}fmla\isanewline
\ \ \ \ \ \ \isakeyword{and}\ eval\ {\isacharequal}{\kern0pt}\ Ailamazyan{\isachardot}{\kern0pt}eval\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ standard\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}rep{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}res{\isacharunderscore}{\kern0pt}fin{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}res{\isacharunderscore}{\kern0pt}infin{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}pred{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}bool{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}neg{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}conj{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}ajoin{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}disj{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}exists{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}forall{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ table{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}esat{\isacharunderscore}{\kern0pt}UNIV\ {\isasymphi}\ I\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat{\isacharunderscore}{\kern0pt}UNIV\ {\isasymphi}\ I\ {\isasymsigma}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}if\ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I\ then\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ eval{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ I\ of\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isacharparenright}{\kern0pt}\isanewline
\ \ else\ esat{\isacharunderscore}{\kern0pt}UNIV\ {\isasymphi}\ I\ {\isasymsigma}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ T\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Ailamazyan{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ I\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Ailamazyan{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ I{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf\ {\isacharequal}{\kern0pt}\ Ailamazyan{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp{\isacharcomma}{\kern0pt}\ unfolded\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ T{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}wf{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat{\isacharunderscore}{\kern0pt}UNIV\ {\isasymphi}\ I\ {\isasymsigma}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ T{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}def\ T{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \ \ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sat{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sat\ {\isasymphi}\ I\ {\isasymsigma}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}if\ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I\ then\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ eval{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ I\ of\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isacharparenright}{\kern0pt}\isanewline
\ \ else\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}code\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}folded\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/phd/rewriting/ailamazyan/thys/Ailamazyan.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%18=3%:%
%:%21=4%:%
%:%22=5%:%
%:%23=5%:%
%:%24=6%:%
%:%25=7%:%
%:%26=8%:%
%:%27=9%:%
%:%28=10%:%
%:%29=11%:%
%:%30=12%:%
%:%31=13%:%
%:%32=14%:%
%:%33=14%:%
%:%36=15%:%
%:%40=15%:%
%:%41=15%:%
%:%46=15%:%
%:%49=16%:%
%:%50=17%:%
%:%51=17%:%
%:%54=18%:%
%:%58=18%:%
%:%59=18%:%
%:%60=18%:%
%:%65=18%:%
%:%68=19%:%
%:%69=20%:%
%:%70=20%:%
%:%71=21%:%
%:%72=22%:%
%:%73=23%:%
%:%74=24%:%
%:%75=25%:%
%:%76=26%:%
%:%77=27%:%
%:%78=28%:%
%:%79=29%:%
%:%80=29%:%
%:%81=30%:%
%:%82=31%:%
%:%83=32%:%
%:%84=32%:%
%:%87=33%:%
%:%91=33%:%
%:%92=33%:%
%:%93=34%:%
%:%94=34%:%
%:%99=34%:%
%:%102=35%:%
%:%103=36%:%
%:%104=36%:%
%:%107=37%:%
%:%111=37%:%
%:%112=37%:%
%:%113=38%:%
%:%114=38%:%
%:%119=38%:%
%:%122=39%:%
%:%123=40%:%
%:%124=40%:%
%:%125=41%:%
%:%126=42%:%
%:%127=43%:%
%:%128=44%:%
%:%129=45%:%
%:%130=46%:%
%:%131=47%:%
%:%132=48%:%
%:%133=49%:%
%:%134=49%:%
%:%137=50%:%
%:%141=50%:%
%:%142=50%:%
%:%147=50%:%
%:%150=51%:%
%:%151=52%:%
%:%152=52%:%
%:%155=53%:%
%:%159=53%:%
%:%160=53%:%
%:%161=54%:%
%:%162=54%:%
%:%167=54%:%
%:%170=55%:%
%:%171=56%:%
%:%172=56%:%
%:%173=57%:%
%:%174=58%:%
%:%175=59%:%
%:%176=60%:%
%:%177=60%:%
%:%178=61%:%
%:%179=62%:%
%:%180=63%:%
%:%181=64%:%
%:%182=64%:%
%:%183=65%:%
%:%186=66%:%
%:%190=66%:%
%:%191=66%:%
%:%196=66%:%
%:%199=67%:%
%:%200=68%:%
%:%201=68%:%
%:%208=69%:%
%:%209=69%:%
%:%210=70%:%
%:%211=70%:%
%:%212=71%:%
%:%213=71%:%
%:%214=71%:%
%:%215=72%:%
%:%216=72%:%
%:%217=73%:%
%:%218=73%:%
%:%223=73%:%
%:%226=74%:%
%:%227=75%:%
%:%228=75%:%
%:%229=76%:%
%:%232=77%:%
%:%236=77%:%
%:%237=77%:%
%:%242=77%:%
%:%245=78%:%
%:%246=79%:%
%:%247=79%:%
%:%254=80%:%
%:%255=80%:%
%:%256=81%:%
%:%257=81%:%
%:%258=82%:%
%:%259=82%:%
%:%260=82%:%
%:%261=83%:%
%:%262=83%:%
%:%263=84%:%
%:%264=84%:%
%:%269=84%:%
%:%272=85%:%
%:%273=86%:%
%:%274=86%:%
%:%275=87%:%
%:%276=88%:%
%:%277=89%:%
%:%278=89%:%
%:%279=90%:%
%:%280=91%:%
%:%281=92%:%
%:%282=92%:%
%:%283=93%:%
%:%284=94%:%
%:%285=95%:%
%:%286=95%:%
%:%287=96%:%
%:%288=97%:%
%:%289=98%:%
%:%290=98%:%
%:%291=99%:%
%:%292=100%:%
%:%293=101%:%
%:%294=101%:%
%:%297=102%:%
%:%301=102%:%
%:%302=102%:%
%:%307=102%:%
%:%310=103%:%
%:%311=104%:%
%:%312=104%:%
%:%313=105%:%
%:%314=106%:%
%:%315=106%:%
%:%318=107%:%
%:%322=107%:%
%:%323=107%:%
%:%328=107%:%
%:%331=108%:%
%:%332=109%:%
%:%333=109%:%
%:%336=110%:%
%:%340=110%:%
%:%341=110%:%
%:%342=111%:%
%:%343=111%:%
%:%348=111%:%
%:%351=112%:%
%:%352=113%:%
%:%353=113%:%
%:%356=114%:%
%:%360=114%:%
%:%361=114%:%
%:%366=114%:%
%:%369=115%:%
%:%370=116%:%
%:%371=116%:%
%:%372=117%:%
%:%373=118%:%
%:%374=119%:%
%:%375=119%:%
%:%378=120%:%
%:%382=120%:%
%:%383=120%:%
%:%388=120%:%
%:%391=121%:%
%:%392=122%:%
%:%393=122%:%
%:%394=123%:%
%:%395=124%:%
%:%396=125%:%
%:%397=126%:%
%:%398=126%:%
%:%401=127%:%
%:%405=127%:%
%:%406=127%:%
%:%407=128%:%
%:%408=128%:%
%:%413=128%:%
%:%416=129%:%
%:%417=130%:%
%:%418=130%:%
%:%421=131%:%
%:%425=131%:%
%:%426=131%:%
%:%427=132%:%
%:%428=132%:%
%:%433=132%:%
%:%436=133%:%
%:%437=134%:%
%:%438=134%:%
%:%441=135%:%
%:%445=135%:%
%:%446=135%:%
%:%451=135%:%
%:%454=136%:%
%:%455=137%:%
%:%456=137%:%
%:%459=138%:%
%:%463=138%:%
%:%464=138%:%
%:%469=138%:%
%:%472=139%:%
%:%473=140%:%
%:%474=140%:%
%:%477=141%:%
%:%481=141%:%
%:%482=141%:%
%:%483=142%:%
%:%484=142%:%
%:%489=142%:%
%:%492=143%:%
%:%493=144%:%
%:%494=144%:%
%:%495=145%:%
%:%496=146%:%
%:%503=147%:%
%:%504=147%:%
%:%505=148%:%
%:%506=148%:%
%:%507=149%:%
%:%508=149%:%
%:%509=150%:%
%:%510=150%:%
%:%511=151%:%
%:%512=151%:%
%:%513=152%:%
%:%514=152%:%
%:%515=153%:%
%:%516=153%:%
%:%517=154%:%
%:%518=154%:%
%:%519=155%:%
%:%520=155%:%
%:%521=155%:%
%:%522=156%:%
%:%523=156%:%
%:%524=157%:%
%:%525=157%:%
%:%526=158%:%
%:%527=158%:%
%:%528=159%:%
%:%529=159%:%
%:%530=160%:%
%:%531=160%:%
%:%532=161%:%
%:%533=161%:%
%:%534=161%:%
%:%535=162%:%
%:%536=162%:%
%:%537=163%:%
%:%538=163%:%
%:%539=164%:%
%:%540=164%:%
%:%541=165%:%
%:%542=165%:%
%:%543=165%:%
%:%544=166%:%
%:%545=166%:%
%:%546=167%:%
%:%547=167%:%
%:%548=168%:%
%:%554=168%:%
%:%557=169%:%
%:%558=170%:%
%:%559=170%:%
%:%560=171%:%
%:%563=172%:%
%:%567=172%:%
%:%568=172%:%
%:%573=172%:%
%:%576=173%:%
%:%577=174%:%
%:%578=174%:%
%:%581=175%:%
%:%585=175%:%
%:%586=175%:%
%:%591=175%:%
%:%594=176%:%
%:%595=177%:%
%:%596=177%:%
%:%599=178%:%
%:%603=178%:%
%:%604=178%:%
%:%609=178%:%
%:%612=179%:%
%:%613=180%:%
%:%614=180%:%
%:%617=181%:%
%:%621=181%:%
%:%622=181%:%
%:%623=182%:%
%:%624=182%:%
%:%625=183%:%
%:%626=183%:%
%:%631=183%:%
%:%634=184%:%
%:%635=185%:%
%:%636=185%:%
%:%637=186%:%
%:%638=187%:%
%:%645=188%:%
%:%646=188%:%
%:%647=189%:%
%:%648=189%:%
%:%649=190%:%
%:%650=190%:%
%:%651=191%:%
%:%652=191%:%
%:%653=192%:%
%:%654=192%:%
%:%655=193%:%
%:%656=193%:%
%:%657=194%:%
%:%658=194%:%
%:%659=195%:%
%:%660=195%:%
%:%661=196%:%
%:%662=196%:%
%:%663=196%:%
%:%664=197%:%
%:%665=198%:%
%:%666=198%:%
%:%667=199%:%
%:%668=199%:%
%:%669=200%:%
%:%670=200%:%
%:%671=201%:%
%:%672=201%:%
%:%673=202%:%
%:%674=202%:%
%:%675=203%:%
%:%676=203%:%
%:%677=204%:%
%:%678=204%:%
%:%679=204%:%
%:%680=205%:%
%:%681=205%:%
%:%682=206%:%
%:%683=206%:%
%:%684=207%:%
%:%685=207%:%
%:%686=207%:%
%:%687=208%:%
%:%688=208%:%
%:%689=209%:%
%:%690=209%:%
%:%691=210%:%
%:%697=210%:%
%:%700=211%:%
%:%701=212%:%
%:%702=212%:%
%:%705=213%:%
%:%709=213%:%
%:%710=213%:%
%:%711=214%:%
%:%712=214%:%
%:%713=215%:%
%:%714=215%:%
%:%715=216%:%
%:%716=216%:%
%:%717=217%:%
%:%723=217%:%
%:%726=218%:%
%:%727=219%:%
%:%728=219%:%
%:%731=220%:%
%:%735=220%:%
%:%736=220%:%
%:%737=221%:%
%:%738=221%:%
%:%743=221%:%
%:%746=222%:%
%:%747=223%:%
%:%748=223%:%
%:%751=224%:%
%:%755=224%:%
%:%756=224%:%
%:%757=225%:%
%:%758=225%:%
%:%763=225%:%
%:%766=226%:%
%:%767=227%:%
%:%768=227%:%
%:%769=228%:%
%:%772=229%:%
%:%776=229%:%
%:%777=229%:%
%:%778=230%:%
%:%779=230%:%
%:%780=231%:%
%:%781=231%:%
%:%782=232%:%
%:%783=232%:%
%:%784=233%:%
%:%785=233%:%
%:%786=234%:%
%:%787=234%:%
%:%788=235%:%
%:%789=235%:%
%:%790=236%:%
%:%791=236%:%
%:%792=237%:%
%:%793=237%:%
%:%794=238%:%
%:%795=238%:%
%:%796=239%:%
%:%797=239%:%
%:%798=240%:%
%:%799=240%:%
%:%800=241%:%
%:%806=241%:%
%:%809=242%:%
%:%810=243%:%
%:%811=243%:%
%:%814=244%:%
%:%818=244%:%
%:%819=244%:%
%:%820=245%:%
%:%821=245%:%
%:%826=245%:%
%:%829=246%:%
%:%830=247%:%
%:%831=247%:%
%:%834=248%:%
%:%838=248%:%
%:%839=248%:%
%:%840=249%:%
%:%845=249%:%
%:%848=250%:%
%:%849=251%:%
%:%850=251%:%
%:%853=252%:%
%:%857=252%:%
%:%858=252%:%
%:%859=253%:%
%:%864=253%:%
%:%867=254%:%
%:%868=255%:%
%:%869=255%:%
%:%872=256%:%
%:%876=256%:%
%:%877=256%:%
%:%882=256%:%
%:%885=257%:%
%:%886=258%:%
%:%887=258%:%
%:%890=259%:%
%:%894=259%:%
%:%895=259%:%
%:%896=260%:%
%:%901=260%:%
%:%904=261%:%
%:%905=262%:%
%:%906=262%:%
%:%907=263%:%
%:%908=264%:%
%:%911=265%:%
%:%915=265%:%
%:%916=265%:%
%:%917=266%:%
%:%918=266%:%
%:%919=267%:%
%:%920=267%:%
%:%921=268%:%
%:%922=268%:%
%:%923=269%:%
%:%924=269%:%
%:%925=269%:%
%:%926=270%:%
%:%927=270%:%
%:%928=271%:%
%:%929=271%:%
%:%930=272%:%
%:%931=272%:%
%:%932=272%:%
%:%933=273%:%
%:%934=273%:%
%:%935=274%:%
%:%936=274%:%
%:%937=275%:%
%:%943=275%:%
%:%946=276%:%
%:%947=277%:%
%:%948=277%:%
%:%949=278%:%
%:%952=279%:%
%:%956=279%:%
%:%957=279%:%
%:%958=280%:%
%:%963=280%:%
%:%966=281%:%
%:%967=282%:%
%:%968=282%:%
%:%969=283%:%
%:%972=284%:%
%:%976=284%:%
%:%977=284%:%
%:%978=285%:%
%:%979=285%:%
%:%980=286%:%
%:%981=286%:%
%:%986=286%:%
%:%989=287%:%
%:%990=288%:%
%:%991=288%:%
%:%992=289%:%
%:%993=290%:%
%:%994=291%:%
%:%995=291%:%
%:%996=292%:%
%:%999=293%:%
%:%1003=293%:%
%:%1004=293%:%
%:%1005=294%:%
%:%1006=294%:%
%:%1007=295%:%
%:%1008=295%:%
%:%1013=295%:%
%:%1016=296%:%
%:%1017=297%:%
%:%1018=297%:%
%:%1021=298%:%
%:%1025=298%:%
%:%1026=298%:%
%:%1027=299%:%
%:%1028=299%:%
%:%1033=299%:%
%:%1036=300%:%
%:%1037=301%:%
%:%1038=301%:%
%:%1039=302%:%
%:%1040=303%:%
%:%1043=304%:%
%:%1047=304%:%
%:%1048=304%:%
%:%1049=305%:%
%:%1050=305%:%
%:%1055=305%:%
%:%1058=306%:%
%:%1059=307%:%
%:%1060=307%:%
%:%1061=308%:%
%:%1062=309%:%
%:%1063=310%:%
%:%1070=311%:%
%:%1071=311%:%
%:%1072=312%:%
%:%1073=312%:%
%:%1074=313%:%
%:%1075=313%:%
%:%1076=314%:%
%:%1077=314%:%
%:%1078=315%:%
%:%1079=315%:%
%:%1080=316%:%
%:%1081=316%:%
%:%1082=317%:%
%:%1083=317%:%
%:%1084=318%:%
%:%1085=318%:%
%:%1086=319%:%
%:%1087=319%:%
%:%1088=320%:%
%:%1089=320%:%
%:%1090=321%:%
%:%1091=321%:%
%:%1092=322%:%
%:%1093=322%:%
%:%1094=323%:%
%:%1095=323%:%
%:%1096=324%:%
%:%1097=324%:%
%:%1098=325%:%
%:%1099=325%:%
%:%1100=326%:%
%:%1101=326%:%
%:%1102=327%:%
%:%1103=327%:%
%:%1104=328%:%
%:%1105=328%:%
%:%1106=329%:%
%:%1107=329%:%
%:%1108=330%:%
%:%1109=330%:%
%:%1110=331%:%
%:%1111=331%:%
%:%1112=332%:%
%:%1113=332%:%
%:%1114=333%:%
%:%1115=333%:%
%:%1116=334%:%
%:%1117=334%:%
%:%1118=335%:%
%:%1119=335%:%
%:%1120=336%:%
%:%1121=336%:%
%:%1122=337%:%
%:%1123=337%:%
%:%1124=338%:%
%:%1125=338%:%
%:%1126=339%:%
%:%1127=339%:%
%:%1128=340%:%
%:%1129=340%:%
%:%1130=341%:%
%:%1131=341%:%
%:%1132=342%:%
%:%1133=342%:%
%:%1134=343%:%
%:%1135=343%:%
%:%1136=344%:%
%:%1137=344%:%
%:%1138=345%:%
%:%1139=345%:%
%:%1140=346%:%
%:%1141=346%:%
%:%1142=347%:%
%:%1143=347%:%
%:%1144=348%:%
%:%1145=348%:%
%:%1146=349%:%
%:%1147=349%:%
%:%1148=350%:%
%:%1149=350%:%
%:%1150=351%:%
%:%1151=351%:%
%:%1152=352%:%
%:%1153=352%:%
%:%1154=353%:%
%:%1155=353%:%
%:%1156=354%:%
%:%1157=354%:%
%:%1158=355%:%
%:%1159=355%:%
%:%1160=356%:%
%:%1161=356%:%
%:%1162=357%:%
%:%1163=357%:%
%:%1164=358%:%
%:%1165=358%:%
%:%1166=359%:%
%:%1167=359%:%
%:%1168=360%:%
%:%1169=360%:%
%:%1170=361%:%
%:%1171=361%:%
%:%1172=362%:%
%:%1173=362%:%
%:%1174=363%:%
%:%1175=363%:%
%:%1176=364%:%
%:%1177=364%:%
%:%1178=365%:%
%:%1179=365%:%
%:%1180=366%:%
%:%1181=366%:%
%:%1182=367%:%
%:%1183=367%:%
%:%1184=368%:%
%:%1185=368%:%
%:%1186=369%:%
%:%1187=369%:%
%:%1188=370%:%
%:%1189=370%:%
%:%1190=371%:%
%:%1191=371%:%
%:%1192=372%:%
%:%1193=372%:%
%:%1194=373%:%
%:%1195=373%:%
%:%1196=374%:%
%:%1197=374%:%
%:%1198=375%:%
%:%1199=375%:%
%:%1200=376%:%
%:%1201=376%:%
%:%1202=377%:%
%:%1203=377%:%
%:%1204=378%:%
%:%1210=378%:%
%:%1213=379%:%
%:%1214=380%:%
%:%1215=380%:%
%:%1216=381%:%
%:%1217=382%:%
%:%1218=383%:%
%:%1225=384%:%
%:%1226=384%:%
%:%1227=385%:%
%:%1228=385%:%
%:%1229=386%:%
%:%1230=386%:%
%:%1231=387%:%
%:%1232=387%:%
%:%1233=388%:%
%:%1234=388%:%
%:%1235=389%:%
%:%1236=389%:%
%:%1237=390%:%
%:%1238=390%:%
%:%1239=391%:%
%:%1240=391%:%
%:%1241=392%:%
%:%1242=392%:%
%:%1243=392%:%
%:%1244=393%:%
%:%1245=393%:%
%:%1246=394%:%
%:%1247=394%:%
%:%1248=395%:%
%:%1249=395%:%
%:%1250=396%:%
%:%1251=396%:%
%:%1252=396%:%
%:%1253=397%:%
%:%1254=397%:%
%:%1255=398%:%
%:%1256=398%:%
%:%1257=399%:%
%:%1258=399%:%
%:%1259=399%:%
%:%1260=400%:%
%:%1261=400%:%
%:%1262=401%:%
%:%1263=401%:%
%:%1264=402%:%
%:%1265=402%:%
%:%1266=403%:%
%:%1267=403%:%
%:%1272=403%:%
%:%1275=404%:%
%:%1276=405%:%
%:%1277=405%:%
%:%1278=406%:%
%:%1279=407%:%
%:%1280=408%:%
%:%1283=409%:%
%:%1287=409%:%
%:%1288=409%:%
%:%1289=410%:%
%:%1290=410%:%
%:%1291=411%:%
%:%1292=411%:%
%:%1293=412%:%
%:%1294=412%:%
%:%1295=413%:%
%:%1296=413%:%
%:%1297=414%:%
%:%1298=414%:%
%:%1299=415%:%
%:%1300=415%:%
%:%1301=416%:%
%:%1302=416%:%
%:%1303=417%:%
%:%1304=417%:%
%:%1305=418%:%
%:%1306=418%:%
%:%1307=419%:%
%:%1308=419%:%
%:%1309=420%:%
%:%1310=420%:%
%:%1311=421%:%
%:%1312=421%:%
%:%1313=422%:%
%:%1314=422%:%
%:%1315=423%:%
%:%1316=423%:%
%:%1317=424%:%
%:%1318=424%:%
%:%1319=425%:%
%:%1320=425%:%
%:%1321=426%:%
%:%1322=426%:%
%:%1323=427%:%
%:%1324=427%:%
%:%1325=428%:%
%:%1326=428%:%
%:%1327=429%:%
%:%1328=429%:%
%:%1329=430%:%
%:%1330=431%:%
%:%1331=431%:%
%:%1332=432%:%
%:%1333=432%:%
%:%1334=432%:%
%:%1335=433%:%
%:%1336=433%:%
%:%1337=434%:%
%:%1338=434%:%
%:%1339=435%:%
%:%1340=435%:%
%:%1341=436%:%
%:%1342=436%:%
%:%1343=437%:%
%:%1344=437%:%
%:%1345=438%:%
%:%1346=438%:%
%:%1347=439%:%
%:%1348=439%:%
%:%1349=440%:%
%:%1350=440%:%
%:%1351=441%:%
%:%1352=441%:%
%:%1353=442%:%
%:%1354=442%:%
%:%1355=443%:%
%:%1356=443%:%
%:%1357=444%:%
%:%1358=444%:%
%:%1359=445%:%
%:%1360=445%:%
%:%1361=446%:%
%:%1362=446%:%
%:%1363=447%:%
%:%1364=447%:%
%:%1365=448%:%
%:%1366=448%:%
%:%1367=449%:%
%:%1368=449%:%
%:%1369=450%:%
%:%1370=450%:%
%:%1371=451%:%
%:%1372=451%:%
%:%1373=452%:%
%:%1374=452%:%
%:%1375=453%:%
%:%1376=453%:%
%:%1377=453%:%
%:%1378=454%:%
%:%1379=454%:%
%:%1380=455%:%
%:%1381=455%:%
%:%1382=456%:%
%:%1383=456%:%
%:%1384=457%:%
%:%1385=457%:%
%:%1386=458%:%
%:%1387=458%:%
%:%1392=458%:%
%:%1395=459%:%
%:%1396=460%:%
%:%1397=460%:%
%:%1398=461%:%
%:%1399=462%:%
%:%1400=463%:%
%:%1401=464%:%
%:%1408=465%:%
%:%1409=465%:%
%:%1410=466%:%
%:%1411=466%:%
%:%1412=467%:%
%:%1413=467%:%
%:%1414=468%:%
%:%1415=468%:%
%:%1416=469%:%
%:%1417=469%:%
%:%1418=470%:%
%:%1419=470%:%
%:%1420=471%:%
%:%1421=471%:%
%:%1422=472%:%
%:%1423=472%:%
%:%1424=473%:%
%:%1425=473%:%
%:%1426=473%:%
%:%1427=474%:%
%:%1428=474%:%
%:%1429=475%:%
%:%1430=475%:%
%:%1431=476%:%
%:%1432=476%:%
%:%1433=476%:%
%:%1434=477%:%
%:%1435=478%:%
%:%1436=478%:%
%:%1437=479%:%
%:%1438=479%:%
%:%1439=480%:%
%:%1440=480%:%
%:%1441=481%:%
%:%1442=481%:%
%:%1443=482%:%
%:%1444=482%:%
%:%1445=483%:%
%:%1446=483%:%
%:%1447=484%:%
%:%1448=484%:%
%:%1449=485%:%
%:%1450=485%:%
%:%1451=486%:%
%:%1457=486%:%
%:%1460=487%:%
%:%1461=488%:%
%:%1462=488%:%
%:%1463=489%:%
%:%1464=490%:%
%:%1465=490%:%
%:%1466=491%:%
%:%1467=492%:%
%:%1468=493%:%
%:%1469=494%:%
%:%1470=495%:%
%:%1471=496%:%
%:%1472=497%:%
%:%1473=498%:%
%:%1474=499%:%
%:%1475=500%:%
%:%1476=500%:%
%:%1477=501%:%
%:%1478=502%:%
%:%1479=503%:%
%:%1480=504%:%
%:%1481=505%:%
%:%1482=506%:%
%:%1483=507%:%
%:%1484=508%:%
%:%1485=508%:%
%:%1486=509%:%
%:%1489=512%:%
%:%1496=513%:%
%:%1497=513%:%
%:%1498=514%:%
%:%1499=514%:%
%:%1500=515%:%
%:%1501=515%:%
%:%1502=516%:%
%:%1503=516%:%
%:%1504=517%:%
%:%1505=517%:%
%:%1506=518%:%
%:%1507=518%:%
%:%1508=518%:%
%:%1509=519%:%
%:%1510=519%:%
%:%1511=520%:%
%:%1512=520%:%
%:%1513=521%:%
%:%1519=521%:%
%:%1522=522%:%
%:%1523=523%:%
%:%1524=523%:%
%:%1531=524%:%
%:%1532=524%:%
%:%1533=525%:%
%:%1534=525%:%
%:%1535=526%:%
%:%1536=526%:%
%:%1537=526%:%
%:%1538=527%:%
%:%1539=527%:%
%:%1540=528%:%
%:%1541=529%:%
%:%1542=530%:%
%:%1543=530%:%
%:%1544=531%:%
%:%1545=531%:%
%:%1546=532%:%
%:%1547=532%:%
%:%1548=532%:%
%:%1549=533%:%
%:%1550=533%:%
%:%1551=534%:%
%:%1552=534%:%
%:%1553=535%:%
%:%1554=535%:%
%:%1555=536%:%
%:%1556=536%:%
%:%1557=537%:%
%:%1558=537%:%
%:%1559=537%:%
%:%1560=538%:%
%:%1561=538%:%
%:%1562=539%:%
%:%1563=539%:%
%:%1564=540%:%
%:%1565=540%:%
%:%1566=541%:%
%:%1567=541%:%
%:%1568=541%:%
%:%1569=542%:%
%:%1570=542%:%
%:%1571=543%:%
%:%1572=543%:%
%:%1573=544%:%
%:%1574=544%:%
%:%1575=545%:%
%:%1576=545%:%
%:%1577=545%:%
%:%1578=546%:%
%:%1579=546%:%
%:%1580=547%:%
%:%1581=547%:%
%:%1582=548%:%
%:%1583=548%:%
%:%1584=549%:%
%:%1585=549%:%
%:%1586=550%:%
%:%1587=550%:%
%:%1588=551%:%
%:%1589=551%:%
%:%1590=551%:%
%:%1591=552%:%
%:%1592=552%:%
%:%1593=553%:%
%:%1594=553%:%
%:%1595=553%:%
%:%1596=554%:%
%:%1597=554%:%
%:%1598=554%:%
%:%1599=555%:%
%:%1600=555%:%
%:%1601=555%:%
%:%1602=556%:%
%:%1603=556%:%
%:%1604=557%:%
%:%1605=557%:%
%:%1606=558%:%
%:%1607=558%:%
%:%1608=559%:%
%:%1609=559%:%
%:%1610=559%:%
%:%1611=560%:%
%:%1612=560%:%
%:%1613=561%:%
%:%1614=561%:%
%:%1615=561%:%
%:%1616=562%:%
%:%1617=562%:%
%:%1618=562%:%
%:%1619=563%:%
%:%1620=563%:%
%:%1621=563%:%
%:%1622=564%:%
%:%1623=564%:%
%:%1624=565%:%
%:%1625=565%:%
%:%1626=566%:%
%:%1627=566%:%
%:%1628=567%:%
%:%1629=567%:%
%:%1630=568%:%
%:%1631=568%:%
%:%1632=568%:%
%:%1633=569%:%
%:%1634=569%:%
%:%1635=570%:%
%:%1636=570%:%
%:%1641=570%:%
%:%1644=571%:%
%:%1645=572%:%
%:%1646=572%:%
%:%1647=573%:%
%:%1648=574%:%
%:%1649=575%:%
%:%1650=575%:%
%:%1651=576%:%
%:%1652=577%:%
%:%1653=578%:%
%:%1654=579%:%
%:%1655=580%:%
%:%1656=581%:%
%:%1657=582%:%
%:%1658=583%:%
%:%1659=584%:%
%:%1660=585%:%
%:%1661=585%:%
%:%1664=586%:%
%:%1668=586%:%
%:%1669=586%:%
%:%1670=587%:%
%:%1671=587%:%
%:%1672=588%:%
%:%1677=588%:%
%:%1680=589%:%
%:%1681=590%:%
%:%1682=590%:%
%:%1683=591%:%
%:%1684=592%:%
%:%1685=593%:%
%:%1686=593%:%
%:%1688=595%:%
%:%1695=596%:%
%:%1696=596%:%
%:%1697=597%:%
%:%1698=597%:%
%:%1699=598%:%
%:%1700=598%:%
%:%1701=599%:%
%:%1702=599%:%
%:%1703=600%:%
%:%1704=600%:%
%:%1705=601%:%
%:%1706=601%:%
%:%1707=602%:%
%:%1708=602%:%
%:%1709=603%:%
%:%1710=603%:%
%:%1711=604%:%
%:%1712=604%:%
%:%1713=605%:%
%:%1714=605%:%
%:%1715=606%:%
%:%1716=606%:%
%:%1717=607%:%
%:%1718=607%:%
%:%1719=608%:%
%:%1720=608%:%
%:%1721=609%:%
%:%1722=610%:%
%:%1723=610%:%
%:%1724=611%:%
%:%1725=611%:%
%:%1726=611%:%
%:%1727=612%:%
%:%1728=612%:%
%:%1729=613%:%
%:%1730=613%:%
%:%1731=614%:%
%:%1732=614%:%
%:%1733=615%:%
%:%1734=615%:%
%:%1735=616%:%
%:%1736=616%:%
%:%1737=617%:%
%:%1738=618%:%
%:%1739=618%:%
%:%1740=619%:%
%:%1741=619%:%
%:%1742=619%:%
%:%1743=620%:%
%:%1744=620%:%
%:%1745=621%:%
%:%1746=621%:%
%:%1747=622%:%
%:%1748=622%:%
%:%1749=623%:%
%:%1750=623%:%
%:%1751=624%:%
%:%1752=624%:%
%:%1753=625%:%
%:%1754=625%:%
%:%1755=626%:%
%:%1756=626%:%
%:%1757=627%:%
%:%1758=627%:%
%:%1759=628%:%
%:%1760=628%:%
%:%1761=628%:%
%:%1762=629%:%
%:%1763=629%:%
%:%1764=630%:%
%:%1765=630%:%
%:%1766=631%:%
%:%1767=631%:%
%:%1768=632%:%
%:%1769=632%:%
%:%1770=633%:%
%:%1771=633%:%
%:%1772=633%:%
%:%1773=634%:%
%:%1774=634%:%
%:%1775=635%:%
%:%1776=635%:%
%:%1777=636%:%
%:%1778=636%:%
%:%1779=637%:%
%:%1780=637%:%
%:%1781=637%:%
%:%1782=638%:%
%:%1783=638%:%
%:%1784=639%:%
%:%1785=639%:%
%:%1786=640%:%
%:%1787=640%:%
%:%1788=641%:%
%:%1789=641%:%
%:%1790=642%:%
%:%1791=642%:%
%:%1792=642%:%
%:%1793=643%:%
%:%1794=643%:%
%:%1795=644%:%
%:%1796=644%:%
%:%1797=645%:%
%:%1798=645%:%
%:%1799=646%:%
%:%1800=646%:%
%:%1801=646%:%
%:%1802=647%:%
%:%1803=647%:%
%:%1804=648%:%
%:%1805=648%:%
%:%1806=649%:%
%:%1807=649%:%
%:%1808=650%:%
%:%1809=650%:%
%:%1810=651%:%
%:%1811=651%:%
%:%1812=651%:%
%:%1813=652%:%
%:%1814=652%:%
%:%1815=653%:%
%:%1816=653%:%
%:%1817=653%:%
%:%1818=654%:%
%:%1819=654%:%
%:%1820=655%:%
%:%1821=655%:%
%:%1822=656%:%
%:%1823=656%:%
%:%1824=657%:%
%:%1825=657%:%
%:%1826=658%:%
%:%1827=658%:%
%:%1828=658%:%
%:%1829=659%:%
%:%1830=659%:%
%:%1831=660%:%
%:%1832=660%:%
%:%1833=660%:%
%:%1834=661%:%
%:%1835=661%:%
%:%1836=662%:%
%:%1837=662%:%
%:%1838=663%:%
%:%1839=663%:%
%:%1840=664%:%
%:%1841=664%:%
%:%1842=665%:%
%:%1843=666%:%
%:%1844=667%:%
%:%1845=667%:%
%:%1846=668%:%
%:%1847=668%:%
%:%1848=669%:%
%:%1849=669%:%
%:%1850=670%:%
%:%1851=670%:%
%:%1852=671%:%
%:%1853=671%:%
%:%1854=672%:%
%:%1855=672%:%
%:%1856=673%:%
%:%1857=673%:%
%:%1858=674%:%
%:%1859=674%:%
%:%1860=675%:%
%:%1861=676%:%
%:%1862=677%:%
%:%1863=677%:%
%:%1864=678%:%
%:%1865=678%:%
%:%1866=679%:%
%:%1867=679%:%
%:%1868=680%:%
%:%1869=680%:%
%:%1870=681%:%
%:%1871=681%:%
%:%1872=682%:%
%:%1873=682%:%
%:%1874=683%:%
%:%1875=683%:%
%:%1876=684%:%
%:%1877=684%:%
%:%1878=685%:%
%:%1879=685%:%
%:%1880=686%:%
%:%1881=686%:%
%:%1882=687%:%
%:%1883=687%:%
%:%1884=687%:%
%:%1885=688%:%
%:%1886=688%:%
%:%1887=689%:%
%:%1888=689%:%
%:%1889=690%:%
%:%1890=690%:%
%:%1891=691%:%
%:%1892=692%:%
%:%1893=692%:%
%:%1894=692%:%
%:%1895=693%:%
%:%1896=693%:%
%:%1897=694%:%
%:%1898=694%:%
%:%1899=694%:%
%:%1900=695%:%
%:%1901=695%:%
%:%1902=696%:%
%:%1903=696%:%
%:%1904=697%:%
%:%1905=697%:%
%:%1906=697%:%
%:%1907=698%:%
%:%1908=698%:%
%:%1909=699%:%
%:%1910=700%:%
%:%1911=701%:%
%:%1912=701%:%
%:%1913=702%:%
%:%1914=702%:%
%:%1915=702%:%
%:%1916=703%:%
%:%1917=703%:%
%:%1918=704%:%
%:%1919=704%:%
%:%1920=704%:%
%:%1921=705%:%
%:%1922=705%:%
%:%1923=705%:%
%:%1924=706%:%
%:%1925=706%:%
%:%1926=706%:%
%:%1927=707%:%
%:%1928=707%:%
%:%1929=708%:%
%:%1930=708%:%
%:%1931=709%:%
%:%1932=709%:%
%:%1933=709%:%
%:%1934=710%:%
%:%1935=710%:%
%:%1936=711%:%
%:%1937=711%:%
%:%1938=712%:%
%:%1939=712%:%
%:%1940=713%:%
%:%1941=713%:%
%:%1942=713%:%
%:%1943=714%:%
%:%1944=714%:%
%:%1945=715%:%
%:%1946=715%:%
%:%1947=716%:%
%:%1948=716%:%
%:%1949=717%:%
%:%1950=717%:%
%:%1951=718%:%
%:%1952=718%:%
%:%1953=719%:%
%:%1954=719%:%
%:%1955=720%:%
%:%1956=720%:%
%:%1957=721%:%
%:%1958=721%:%
%:%1959=722%:%
%:%1960=722%:%
%:%1961=722%:%
%:%1962=723%:%
%:%1963=723%:%
%:%1964=724%:%
%:%1965=724%:%
%:%1966=725%:%
%:%1967=725%:%
%:%1968=726%:%
%:%1969=726%:%
%:%1970=727%:%
%:%1971=727%:%
%:%1972=727%:%
%:%1973=728%:%
%:%1974=728%:%
%:%1975=729%:%
%:%1976=729%:%
%:%1977=730%:%
%:%1978=730%:%
%:%1979=730%:%
%:%1980=731%:%
%:%1981=731%:%
%:%1982=732%:%
%:%1983=732%:%
%:%1984=733%:%
%:%1985=733%:%
%:%1986=734%:%
%:%1987=734%:%
%:%1988=735%:%
%:%1989=735%:%
%:%1990=736%:%
%:%1991=737%:%
%:%1992=738%:%
%:%1993=738%:%
%:%1994=739%:%
%:%1995=739%:%
%:%1996=740%:%
%:%1997=740%:%
%:%1998=741%:%
%:%1999=741%:%
%:%2000=742%:%
%:%2001=742%:%
%:%2002=743%:%
%:%2003=743%:%
%:%2004=744%:%
%:%2005=744%:%
%:%2006=745%:%
%:%2007=745%:%
%:%2012=745%:%
%:%2015=746%:%
%:%2016=747%:%
%:%2017=747%:%
%:%2018=748%:%
%:%2019=749%:%
%:%2020=750%:%
%:%2027=751%:%
%:%2028=751%:%
%:%2029=752%:%
%:%2030=752%:%
%:%2031=753%:%
%:%2032=753%:%
%:%2033=754%:%
%:%2034=754%:%
%:%2035=755%:%
%:%2041=755%:%
%:%2044=756%:%
%:%2045=757%:%
%:%2046=757%:%
%:%2047=758%:%
%:%2048=759%:%
%:%2049=760%:%
%:%2056=761%:%
%:%2057=761%:%
%:%2058=762%:%
%:%2059=762%:%
%:%2060=763%:%
%:%2061=763%:%
%:%2062=764%:%
%:%2063=764%:%
%:%2064=765%:%
%:%2070=765%:%
%:%2073=766%:%
%:%2074=767%:%
%:%2075=767%:%
%:%2076=768%:%
%:%2077=769%:%
%:%2078=770%:%
%:%2079=771%:%
%:%2082=772%:%
%:%2086=772%:%
%:%2087=772%:%
%:%2088=773%:%
%:%2094=773%:%
%:%2097=774%:%
%:%2098=775%:%
%:%2099=775%:%
%:%2100=776%:%
%:%2101=777%:%
%:%2102=778%:%
%:%2103=778%:%
%:%2104=779%:%
%:%2105=780%:%
%:%2106=781%:%
%:%2109=782%:%
%:%2113=782%:%
%:%2114=782%:%
%:%2115=783%:%
%:%2116=783%:%
%:%2117=784%:%
%:%2118=784%:%
%:%2119=785%:%
%:%2120=785%:%
%:%2121=786%:%
%:%2122=786%:%
%:%2123=787%:%
%:%2124=787%:%
%:%2125=788%:%
%:%2126=788%:%
%:%2127=789%:%
%:%2128=789%:%
%:%2129=790%:%
%:%2130=790%:%
%:%2131=791%:%
%:%2132=791%:%
%:%2133=792%:%
%:%2134=792%:%
%:%2135=793%:%
%:%2136=793%:%
%:%2137=794%:%
%:%2138=794%:%
%:%2139=795%:%
%:%2140=795%:%
%:%2141=796%:%
%:%2142=796%:%
%:%2143=797%:%
%:%2144=797%:%
%:%2145=797%:%
%:%2146=798%:%
%:%2147=798%:%
%:%2148=799%:%
%:%2149=799%:%
%:%2150=800%:%
%:%2151=800%:%
%:%2152=801%:%
%:%2153=801%:%
%:%2154=802%:%
%:%2155=802%:%
%:%2156=803%:%
%:%2157=803%:%
%:%2158=804%:%
%:%2159=804%:%
%:%2160=805%:%
%:%2161=805%:%
%:%2162=806%:%
%:%2163=806%:%
%:%2164=807%:%
%:%2165=807%:%
%:%2166=808%:%
%:%2167=808%:%
%:%2168=808%:%
%:%2169=809%:%
%:%2170=809%:%
%:%2171=810%:%
%:%2172=810%:%
%:%2173=811%:%
%:%2174=811%:%
%:%2175=812%:%
%:%2176=812%:%
%:%2177=813%:%
%:%2178=813%:%
%:%2179=814%:%
%:%2180=814%:%
%:%2181=815%:%
%:%2182=815%:%
%:%2183=816%:%
%:%2184=816%:%
%:%2185=817%:%
%:%2186=817%:%
%:%2187=818%:%
%:%2188=818%:%
%:%2189=819%:%
%:%2190=819%:%
%:%2191=820%:%
%:%2192=820%:%
%:%2193=821%:%
%:%2194=821%:%
%:%2195=822%:%
%:%2196=822%:%
%:%2197=823%:%
%:%2198=823%:%
%:%2199=824%:%
%:%2200=824%:%
%:%2201=825%:%
%:%2202=825%:%
%:%2203=826%:%
%:%2204=826%:%
%:%2205=827%:%
%:%2206=827%:%
%:%2207=828%:%
%:%2208=829%:%
%:%2209=829%:%
%:%2210=830%:%
%:%2211=830%:%
%:%2212=831%:%
%:%2213=831%:%
%:%2214=832%:%
%:%2215=832%:%
%:%2216=833%:%
%:%2217=833%:%
%:%2218=834%:%
%:%2219=834%:%
%:%2220=835%:%
%:%2221=835%:%
%:%2222=836%:%
%:%2223=836%:%
%:%2224=836%:%
%:%2225=837%:%
%:%2226=837%:%
%:%2227=838%:%
%:%2228=838%:%
%:%2229=839%:%
%:%2230=839%:%
%:%2231=840%:%
%:%2232=840%:%
%:%2233=841%:%
%:%2234=841%:%
%:%2235=842%:%
%:%2236=842%:%
%:%2237=843%:%
%:%2238=843%:%
%:%2239=844%:%
%:%2240=844%:%
%:%2241=845%:%
%:%2242=845%:%
%:%2247=845%:%
%:%2250=846%:%
%:%2251=847%:%
%:%2252=847%:%
%:%2253=848%:%
%:%2254=849%:%
%:%2255=850%:%
%:%2256=851%:%
%:%2257=852%:%
%:%2258=853%:%
%:%2261=854%:%
%:%2265=854%:%
%:%2266=854%:%
%:%2267=855%:%
%:%2268=855%:%
%:%2273=855%:%
%:%2276=856%:%
%:%2277=857%:%
%:%2278=857%:%
%:%2279=858%:%
%:%2280=859%:%
%:%2281=860%:%
%:%2282=860%:%
%:%2289=861%:%
%:%2290=861%:%
%:%2291=862%:%
%:%2292=862%:%
%:%2293=863%:%
%:%2294=863%:%
%:%2295=864%:%
%:%2296=864%:%
%:%2297=865%:%
%:%2298=865%:%
%:%2299=865%:%
%:%2300=866%:%
%:%2301=866%:%
%:%2302=866%:%
%:%2303=867%:%
%:%2304=867%:%
%:%2305=867%:%
%:%2306=868%:%
%:%2307=868%:%
%:%2308=868%:%
%:%2309=869%:%
%:%2315=869%:%
%:%2318=870%:%
%:%2319=871%:%
%:%2320=871%:%
%:%2321=872%:%
%:%2322=873%:%
%:%2323=874%:%
%:%2324=875%:%
%:%2325=875%:%
%:%2326=876%:%
%:%2329=877%:%
%:%2333=877%:%
%:%2334=877%:%
%:%2335=878%:%
%:%2336=878%:%
%:%2337=879%:%
%:%2338=879%:%
%:%2343=879%:%
%:%2346=880%:%
%:%2347=881%:%
%:%2348=881%:%
%:%2351=882%:%
%:%2355=882%:%
%:%2356=882%:%
%:%2357=883%:%
%:%2358=883%:%
%:%2363=883%:%
%:%2366=884%:%
%:%2367=885%:%
%:%2368=885%:%
%:%2371=886%:%
%:%2375=886%:%
%:%2376=886%:%
%:%2377=887%:%
%:%2378=887%:%
%:%2379=888%:%
%:%2380=888%:%
%:%2381=889%:%
%:%2382=889%:%
%:%2383=890%:%
%:%2389=890%:%
%:%2392=891%:%
%:%2393=892%:%
%:%2394=892%:%
%:%2401=893%:%
%:%2402=893%:%
%:%2403=894%:%
%:%2404=894%:%
%:%2405=895%:%
%:%2406=895%:%
%:%2407=896%:%
%:%2408=896%:%
%:%2409=897%:%
%:%2410=897%:%
%:%2411=898%:%
%:%2412=898%:%
%:%2413=899%:%
%:%2414=899%:%
%:%2415=899%:%
%:%2416=900%:%
%:%2417=900%:%
%:%2418=901%:%
%:%2419=902%:%
%:%2420=902%:%
%:%2421=903%:%
%:%2422=903%:%
%:%2423=904%:%
%:%2424=904%:%
%:%2425=905%:%
%:%2426=905%:%
%:%2427=906%:%
%:%2428=906%:%
%:%2429=907%:%
%:%2430=907%:%
%:%2435=907%:%
%:%2438=908%:%
%:%2439=909%:%
%:%2440=909%:%
%:%2443=910%:%
%:%2447=910%:%
%:%2448=910%:%
%:%2449=911%:%
%:%2450=911%:%
%:%2451=912%:%
%:%2452=912%:%
%:%2453=913%:%
%:%2459=913%:%
%:%2462=914%:%
%:%2463=915%:%
%:%2464=915%:%
%:%2467=916%:%
%:%2471=916%:%
%:%2472=916%:%
%:%2477=916%:%
%:%2480=917%:%
%:%2481=918%:%
%:%2482=918%:%
%:%2489=919%:%
%:%2490=919%:%
%:%2491=920%:%
%:%2492=920%:%
%:%2493=921%:%
%:%2494=921%:%
%:%2495=921%:%
%:%2496=922%:%
%:%2497=922%:%
%:%2498=923%:%
%:%2499=923%:%
%:%2500=924%:%
%:%2501=924%:%
%:%2502=925%:%
%:%2503=925%:%
%:%2504=926%:%
%:%2505=926%:%
%:%2506=927%:%
%:%2507=927%:%
%:%2508=928%:%
%:%2509=928%:%
%:%2510=929%:%
%:%2511=929%:%
%:%2512=930%:%
%:%2518=930%:%
%:%2521=931%:%
%:%2522=932%:%
%:%2523=932%:%
%:%2526=933%:%
%:%2530=933%:%
%:%2531=933%:%
%:%2532=934%:%
%:%2533=934%:%
%:%2538=934%:%
%:%2541=935%:%
%:%2542=936%:%
%:%2543=936%:%
%:%2546=937%:%
%:%2550=937%:%
%:%2551=937%:%
%:%2556=937%:%
%:%2559=938%:%
%:%2560=939%:%
%:%2561=939%:%
%:%2562=940%:%
%:%2563=941%:%
%:%2564=942%:%
%:%2565=942%:%
%:%2566=943%:%
%:%2567=944%:%
%:%2568=945%:%
%:%2569=946%:%
%:%2570=946%:%
%:%2571=947%:%
%:%2572=948%:%
%:%2579=949%:%
%:%2580=949%:%
%:%2581=950%:%
%:%2582=950%:%
%:%2583=951%:%
%:%2584=951%:%
%:%2585=952%:%
%:%2586=952%:%
%:%2587=953%:%
%:%2588=953%:%
%:%2589=953%:%
%:%2590=954%:%
%:%2591=954%:%
%:%2592=955%:%
%:%2593=955%:%
%:%2594=956%:%
%:%2600=956%:%
%:%2603=957%:%
%:%2604=958%:%
%:%2605=958%:%
%:%2612=959%:%
%:%2613=959%:%
%:%2614=960%:%
%:%2615=960%:%
%:%2616=961%:%
%:%2617=961%:%
%:%2618=962%:%
%:%2619=962%:%
%:%2620=962%:%
%:%2621=963%:%
%:%2622=963%:%
%:%2623=964%:%
%:%2624=964%:%
%:%2625=964%:%
%:%2626=964%:%
%:%2627=965%:%
%:%2633=965%:%
%:%2636=966%:%
%:%2637=967%:%
%:%2638=967%:%
%:%2639=968%:%
%:%2640=969%:%
%:%2647=970%:%
%:%2648=970%:%
%:%2649=971%:%
%:%2650=971%:%
%:%2651=972%:%
%:%2652=972%:%
%:%2653=973%:%
%:%2654=973%:%
%:%2655=974%:%
%:%2656=974%:%
%:%2657=974%:%
%:%2658=975%:%
%:%2659=975%:%
%:%2660=976%:%
%:%2661=976%:%
%:%2662=977%:%
%:%2663=978%:%
%:%2664=978%:%
%:%2665=978%:%
%:%2666=979%:%
%:%2667=979%:%
%:%2668=980%:%
%:%2669=980%:%
%:%2670=980%:%
%:%2671=981%:%
%:%2672=981%:%
%:%2673=982%:%
%:%2674=982%:%
%:%2675=983%:%
%:%2681=983%:%
%:%2684=984%:%
%:%2685=985%:%
%:%2686=985%:%
%:%2689=986%:%
%:%2693=986%:%
%:%2694=986%:%
%:%2695=987%:%
%:%2696=987%:%
%:%2697=988%:%
%:%2698=988%:%
%:%2699=989%:%
%:%2700=989%:%
%:%2701=990%:%
%:%2707=990%:%
%:%2710=991%:%
%:%2711=992%:%
%:%2712=992%:%
%:%2715=993%:%
%:%2719=993%:%
%:%2720=993%:%
%:%2721=994%:%
%:%2722=994%:%
%:%2723=994%:%
%:%2724=995%:%
%:%2725=995%:%
%:%2726=996%:%
%:%2727=996%:%
%:%2728=997%:%
%:%2729=997%:%
%:%2730=998%:%
%:%2731=998%:%
%:%2732=999%:%
%:%2733=999%:%
%:%2734=1000%:%
%:%2740=1000%:%
%:%2743=1001%:%
%:%2744=1002%:%
%:%2745=1002%:%
%:%2746=1003%:%
%:%2749=1004%:%
%:%2753=1004%:%
%:%2754=1004%:%
%:%2759=1004%:%
%:%2762=1005%:%
%:%2763=1006%:%
%:%2764=1006%:%
%:%2765=1007%:%
%:%2768=1008%:%
%:%2772=1008%:%
%:%2773=1008%:%
%:%2774=1009%:%
%:%2779=1009%:%
%:%2782=1010%:%
%:%2783=1011%:%
%:%2784=1011%:%
%:%2785=1012%:%
%:%2786=1013%:%
%:%2787=1014%:%
%:%2788=1015%:%
%:%2789=1015%:%
%:%2790=1016%:%
%:%2791=1017%:%
%:%2792=1018%:%
%:%2793=1018%:%
%:%2796=1019%:%
%:%2800=1019%:%
%:%2801=1019%:%
%:%2806=1019%:%
%:%2809=1020%:%
%:%2810=1021%:%
%:%2811=1021%:%
%:%2814=1022%:%
%:%2818=1022%:%
%:%2819=1022%:%
%:%2824=1022%:%
%:%2827=1023%:%
%:%2828=1024%:%
%:%2829=1024%:%
%:%2836=1025%:%
%:%2837=1025%:%
%:%2838=1026%:%
%:%2839=1026%:%
%:%2840=1027%:%
%:%2841=1027%:%
%:%2842=1027%:%
%:%2843=1028%:%
%:%2844=1028%:%
%:%2845=1029%:%
%:%2846=1029%:%
%:%2847=1029%:%
%:%2848=1030%:%
%:%2849=1030%:%
%:%2850=1031%:%
%:%2851=1031%:%
%:%2856=1031%:%
%:%2859=1032%:%
%:%2860=1033%:%
%:%2861=1033%:%
%:%2864=1034%:%
%:%2868=1034%:%
%:%2869=1034%:%
%:%2870=1035%:%
%:%2871=1035%:%
%:%2876=1035%:%
%:%2879=1036%:%
%:%2880=1037%:%
%:%2881=1037%:%
%:%2884=1038%:%
%:%2888=1038%:%
%:%2889=1038%:%
%:%2894=1038%:%
%:%2897=1039%:%
%:%2898=1040%:%
%:%2899=1040%:%
%:%2902=1041%:%
%:%2906=1041%:%
%:%2907=1041%:%
%:%2912=1041%:%
%:%2915=1042%:%
%:%2916=1043%:%
%:%2917=1043%:%
%:%2918=1044%:%
%:%2921=1045%:%
%:%2925=1045%:%
%:%2926=1045%:%
%:%2931=1045%:%
%:%2934=1046%:%
%:%2935=1047%:%
%:%2936=1047%:%
%:%2943=1048%:%
%:%2944=1048%:%
%:%2945=1049%:%
%:%2946=1049%:%
%:%2947=1050%:%
%:%2948=1050%:%
%:%2949=1051%:%
%:%2950=1051%:%
%:%2951=1052%:%
%:%2952=1052%:%
%:%2953=1053%:%
%:%2954=1053%:%
%:%2955=1054%:%
%:%2956=1054%:%
%:%2957=1054%:%
%:%2958=1055%:%
%:%2959=1055%:%
%:%2960=1055%:%
%:%2961=1056%:%
%:%2962=1056%:%
%:%2963=1057%:%
%:%2964=1057%:%
%:%2965=1058%:%
%:%2966=1058%:%
%:%2967=1059%:%
%:%2968=1059%:%
%:%2969=1059%:%
%:%2970=1060%:%
%:%2971=1060%:%
%:%2972=1061%:%
%:%2973=1061%:%
%:%2974=1061%:%
%:%2975=1062%:%
%:%2976=1062%:%
%:%2977=1063%:%
%:%2978=1063%:%
%:%2979=1063%:%
%:%2980=1064%:%
%:%2981=1064%:%
%:%2982=1065%:%
%:%2983=1065%:%
%:%2984=1065%:%
%:%2985=1066%:%
%:%2986=1066%:%
%:%2987=1067%:%
%:%2988=1067%:%
%:%2989=1068%:%
%:%2990=1068%:%
%:%2995=1068%:%
%:%2998=1069%:%
%:%2999=1070%:%
%:%3000=1070%:%
%:%3003=1071%:%
%:%3007=1071%:%
%:%3008=1071%:%
%:%3009=1072%:%
%:%3010=1072%:%
%:%3015=1072%:%
%:%3018=1073%:%
%:%3019=1074%:%
%:%3020=1074%:%
%:%3021=1075%:%
%:%3022=1076%:%
%:%3023=1077%:%
%:%3024=1078%:%
%:%3025=1079%:%
%:%3026=1079%:%
%:%3029=1080%:%
%:%3033=1080%:%
%:%3034=1080%:%
%:%3039=1080%:%
%:%3042=1081%:%
%:%3043=1082%:%
%:%3044=1082%:%
%:%3047=1083%:%
%:%3051=1083%:%
%:%3052=1083%:%
%:%3057=1083%:%
%:%3060=1084%:%
%:%3061=1085%:%
%:%3062=1085%:%
%:%3065=1086%:%
%:%3069=1086%:%
%:%3070=1086%:%
%:%3075=1086%:%
%:%3078=1087%:%
%:%3079=1088%:%
%:%3080=1088%:%
%:%3083=1089%:%
%:%3087=1089%:%
%:%3088=1089%:%
%:%3093=1089%:%
%:%3096=1090%:%
%:%3097=1091%:%
%:%3098=1091%:%
%:%3099=1092%:%
%:%3100=1093%:%
%:%3101=1094%:%
%:%3102=1095%:%
%:%3103=1096%:%
%:%3104=1096%:%
%:%3107=1097%:%
%:%3111=1097%:%
%:%3112=1097%:%
%:%3117=1097%:%
%:%3120=1098%:%
%:%3121=1099%:%
%:%3122=1099%:%
%:%3125=1100%:%
%:%3129=1100%:%
%:%3130=1100%:%
%:%3135=1100%:%
%:%3138=1101%:%
%:%3139=1102%:%
%:%3140=1102%:%
%:%3141=1103%:%
%:%3144=1104%:%
%:%3148=1104%:%
%:%3149=1104%:%
%:%3150=1105%:%
%:%3151=1105%:%
%:%3152=1106%:%
%:%3153=1106%:%
%:%3158=1106%:%
%:%3161=1107%:%
%:%3162=1108%:%
%:%3163=1108%:%
%:%3164=1109%:%
%:%3165=1110%:%
%:%3166=1111%:%
%:%3167=1112%:%
%:%3168=1112%:%
%:%3171=1113%:%
%:%3175=1113%:%
%:%3176=1113%:%
%:%3181=1113%:%
%:%3184=1114%:%
%:%3185=1115%:%
%:%3186=1115%:%
%:%3189=1116%:%
%:%3193=1116%:%
%:%3194=1116%:%
%:%3199=1116%:%
%:%3202=1117%:%
%:%3203=1118%:%
%:%3204=1118%:%
%:%3205=1119%:%
%:%3208=1120%:%
%:%3212=1120%:%
%:%3213=1120%:%
%:%3218=1120%:%
%:%3221=1121%:%
%:%3222=1122%:%
%:%3223=1122%:%
%:%3226=1123%:%
%:%3230=1123%:%
%:%3231=1123%:%
%:%3236=1123%:%
%:%3239=1124%:%
%:%3240=1125%:%
%:%3241=1125%:%
%:%3244=1126%:%
%:%3248=1126%:%
%:%3249=1126%:%
%:%3254=1126%:%
%:%3257=1127%:%
%:%3258=1128%:%
%:%3259=1128%:%
%:%3260=1129%:%
%:%3261=1130%:%
%:%3262=1131%:%
%:%3264=1133%:%
%:%3265=1134%:%
%:%3266=1135%:%
%:%3267=1135%:%
%:%3270=1136%:%
%:%3274=1136%:%
%:%3275=1136%:%
%:%3280=1136%:%
%:%3283=1137%:%
%:%3284=1138%:%
%:%3285=1138%:%
%:%3288=1139%:%
%:%3292=1139%:%
%:%3293=1139%:%
%:%3298=1139%:%
%:%3301=1140%:%
%:%3302=1141%:%
%:%3303=1141%:%
%:%3304=1142%:%
%:%3307=1143%:%
%:%3311=1143%:%
%:%3312=1143%:%
%:%3317=1143%:%
%:%3320=1144%:%
%:%3321=1145%:%
%:%3322=1145%:%
%:%3324=1147%:%
%:%3327=1148%:%
%:%3331=1148%:%
%:%3332=1148%:%
%:%3333=1149%:%
%:%3334=1149%:%
%:%3335=1150%:%
%:%3336=1150%:%
%:%3341=1150%:%
%:%3344=1151%:%
%:%3345=1152%:%
%:%3346=1152%:%
%:%3347=1153%:%
%:%3350=1154%:%
%:%3354=1154%:%
%:%3355=1154%:%
%:%3356=1155%:%
%:%3361=1155%:%
%:%3364=1156%:%
%:%3365=1157%:%
%:%3366=1157%:%
%:%3369=1160%:%
%:%3372=1161%:%
%:%3376=1161%:%
%:%3377=1161%:%
%:%3378=1162%:%
%:%3383=1162%:%
%:%3386=1163%:%
%:%3387=1164%:%
%:%3388=1164%:%
%:%3389=1165%:%
%:%3392=1166%:%
%:%3396=1166%:%
%:%3397=1166%:%
%:%3398=1167%:%
%:%3399=1167%:%
%:%3404=1167%:%
%:%3407=1168%:%
%:%3408=1169%:%
%:%3409=1169%:%
%:%3410=1170%:%
%:%3411=1171%:%
%:%3412=1172%:%
%:%3414=1174%:%
%:%3415=1175%:%
%:%3417=1177%:%
%:%3418=1178%:%
%:%3419=1179%:%
%:%3420=1179%:%
%:%3422=1181%:%
%:%3429=1182%:%
%:%3430=1182%:%
%:%3431=1183%:%
%:%3432=1183%:%
%:%3433=1184%:%
%:%3434=1184%:%
%:%3435=1184%:%
%:%3436=1185%:%
%:%3437=1185%:%
%:%3438=1186%:%
%:%3439=1186%:%
%:%3440=1187%:%
%:%3441=1187%:%
%:%3442=1188%:%
%:%3443=1188%:%
%:%3444=1189%:%
%:%3445=1189%:%
%:%3446=1190%:%
%:%3447=1190%:%
%:%3448=1191%:%
%:%3449=1191%:%
%:%3450=1192%:%
%:%3451=1192%:%
%:%3452=1193%:%
%:%3453=1193%:%
%:%3454=1194%:%
%:%3455=1195%:%
%:%3456=1195%:%
%:%3457=1196%:%
%:%3458=1196%:%
%:%3459=1197%:%
%:%3460=1198%:%
%:%3461=1198%:%
%:%3462=1198%:%
%:%3463=1199%:%
%:%3464=1199%:%
%:%3465=1200%:%
%:%3466=1201%:%
%:%3467=1202%:%
%:%3468=1202%:%
%:%3469=1203%:%
%:%3470=1203%:%
%:%3471=1204%:%
%:%3472=1204%:%
%:%3473=1204%:%
%:%3474=1205%:%
%:%3475=1205%:%
%:%3476=1206%:%
%:%3477=1206%:%
%:%3478=1207%:%
%:%3479=1207%:%
%:%3480=1208%:%
%:%3481=1209%:%
%:%3482=1209%:%
%:%3483=1210%:%
%:%3484=1210%:%
%:%3485=1211%:%
%:%3486=1211%:%
%:%3487=1212%:%
%:%3488=1212%:%
%:%3489=1213%:%
%:%3490=1213%:%
%:%3491=1214%:%
%:%3492=1214%:%
%:%3493=1215%:%
%:%3494=1215%:%
%:%3495=1216%:%
%:%3496=1216%:%
%:%3497=1217%:%
%:%3498=1217%:%
%:%3499=1218%:%
%:%3500=1218%:%
%:%3501=1219%:%
%:%3502=1219%:%
%:%3503=1220%:%
%:%3504=1220%:%
%:%3505=1221%:%
%:%3506=1221%:%
%:%3507=1222%:%
%:%3508=1222%:%
%:%3509=1223%:%
%:%3510=1223%:%
%:%3511=1224%:%
%:%3512=1225%:%
%:%3513=1225%:%
%:%3514=1226%:%
%:%3515=1226%:%
%:%3516=1227%:%
%:%3517=1227%:%
%:%3518=1227%:%
%:%3519=1228%:%
%:%3520=1228%:%
%:%3521=1229%:%
%:%3522=1230%:%
%:%3523=1231%:%
%:%3524=1231%:%
%:%3525=1232%:%
%:%3526=1232%:%
%:%3527=1233%:%
%:%3528=1233%:%
%:%3529=1233%:%
%:%3530=1234%:%
%:%3531=1234%:%
%:%3532=1235%:%
%:%3533=1235%:%
%:%3534=1236%:%
%:%3535=1236%:%
%:%3536=1237%:%
%:%3537=1238%:%
%:%3538=1238%:%
%:%3539=1239%:%
%:%3540=1239%:%
%:%3541=1240%:%
%:%3542=1240%:%
%:%3543=1241%:%
%:%3544=1241%:%
%:%3545=1242%:%
%:%3546=1242%:%
%:%3547=1243%:%
%:%3548=1243%:%
%:%3553=1243%:%
%:%3556=1244%:%
%:%3557=1245%:%
%:%3558=1245%:%
%:%3559=1246%:%
%:%3560=1247%:%
%:%3561=1248%:%
%:%3562=1248%:%
%:%3565=1251%:%
%:%3572=1252%:%
%:%3573=1252%:%
%:%3574=1253%:%
%:%3575=1253%:%
%:%3576=1254%:%
%:%3577=1254%:%
%:%3578=1255%:%
%:%3579=1255%:%
%:%3580=1256%:%
%:%3581=1256%:%
%:%3582=1257%:%
%:%3583=1257%:%
%:%3584=1258%:%
%:%3585=1258%:%
%:%3586=1259%:%
%:%3587=1259%:%
%:%3588=1260%:%
%:%3589=1260%:%
%:%3590=1261%:%
%:%3591=1261%:%
%:%3592=1262%:%
%:%3593=1262%:%
%:%3594=1263%:%
%:%3595=1263%:%
%:%3596=1264%:%
%:%3597=1264%:%
%:%3598=1265%:%
%:%3599=1265%:%
%:%3600=1266%:%
%:%3601=1266%:%
%:%3602=1267%:%
%:%3603=1267%:%
%:%3604=1268%:%
%:%3605=1269%:%
%:%3606=1269%:%
%:%3607=1270%:%
%:%3608=1270%:%
%:%3609=1271%:%
%:%3610=1271%:%
%:%3611=1272%:%
%:%3612=1272%:%
%:%3613=1273%:%
%:%3614=1273%:%
%:%3615=1274%:%
%:%3616=1274%:%
%:%3617=1275%:%
%:%3618=1275%:%
%:%3619=1276%:%
%:%3620=1276%:%
%:%3621=1277%:%
%:%3622=1277%:%
%:%3623=1278%:%
%:%3624=1278%:%
%:%3625=1279%:%
%:%3626=1279%:%
%:%3627=1280%:%
%:%3628=1280%:%
%:%3629=1280%:%
%:%3630=1281%:%
%:%3631=1281%:%
%:%3632=1282%:%
%:%3633=1282%:%
%:%3634=1283%:%
%:%3635=1284%:%
%:%3636=1285%:%
%:%3637=1285%:%
%:%3638=1285%:%
%:%3639=1286%:%
%:%3640=1286%:%
%:%3641=1287%:%
%:%3642=1287%:%
%:%3643=1288%:%
%:%3644=1288%:%
%:%3645=1288%:%
%:%3646=1289%:%
%:%3647=1289%:%
%:%3648=1290%:%
%:%3649=1290%:%
%:%3650=1291%:%
%:%3651=1291%:%
%:%3652=1291%:%
%:%3653=1292%:%
%:%3654=1292%:%
%:%3655=1293%:%
%:%3656=1293%:%
%:%3657=1294%:%
%:%3658=1294%:%
%:%3659=1295%:%
%:%3660=1295%:%
%:%3661=1296%:%
%:%3662=1296%:%
%:%3663=1297%:%
%:%3664=1298%:%
%:%3665=1298%:%
%:%3666=1299%:%
%:%3667=1299%:%
%:%3668=1300%:%
%:%3669=1301%:%
%:%3670=1301%:%
%:%3671=1301%:%
%:%3672=1302%:%
%:%3673=1302%:%
%:%3674=1303%:%
%:%3675=1303%:%
%:%3676=1304%:%
%:%3677=1304%:%
%:%3678=1304%:%
%:%3679=1305%:%
%:%3680=1305%:%
%:%3681=1306%:%
%:%3682=1306%:%
%:%3683=1307%:%
%:%3684=1307%:%
%:%3685=1308%:%
%:%3686=1308%:%
%:%3687=1309%:%
%:%3688=1309%:%
%:%3693=1309%:%
%:%3696=1310%:%
%:%3697=1311%:%
%:%3698=1311%:%
%:%3701=1312%:%
%:%3705=1312%:%
%:%3706=1312%:%
%:%3711=1312%:%
%:%3714=1313%:%
%:%3715=1314%:%
%:%3716=1314%:%
%:%3719=1315%:%
%:%3723=1315%:%
%:%3724=1315%:%
%:%3729=1315%:%
%:%3732=1316%:%
%:%3733=1317%:%
%:%3734=1317%:%
%:%3735=1318%:%
%:%3742=1319%:%
%:%3743=1319%:%
%:%3744=1320%:%
%:%3745=1320%:%
%:%3746=1321%:%
%:%3747=1321%:%
%:%3748=1322%:%
%:%3749=1322%:%
%:%3750=1323%:%
%:%3751=1323%:%
%:%3752=1324%:%
%:%3753=1324%:%
%:%3754=1325%:%
%:%3755=1325%:%
%:%3756=1326%:%
%:%3757=1326%:%
%:%3758=1327%:%
%:%3759=1327%:%
%:%3760=1328%:%
%:%3761=1328%:%
%:%3762=1329%:%
%:%3763=1329%:%
%:%3764=1330%:%
%:%3765=1330%:%
%:%3766=1330%:%
%:%3767=1331%:%
%:%3768=1331%:%
%:%3769=1332%:%
%:%3770=1332%:%
%:%3771=1333%:%
%:%3772=1333%:%
%:%3773=1334%:%
%:%3774=1334%:%
%:%3775=1335%:%
%:%3776=1335%:%
%:%3777=1336%:%
%:%3778=1336%:%
%:%3779=1337%:%
%:%3780=1337%:%
%:%3781=1338%:%
%:%3782=1338%:%
%:%3783=1339%:%
%:%3784=1339%:%
%:%3785=1340%:%
%:%3786=1340%:%
%:%3787=1341%:%
%:%3788=1341%:%
%:%3789=1342%:%
%:%3790=1343%:%
%:%3791=1343%:%
%:%3792=1344%:%
%:%3793=1344%:%
%:%3794=1345%:%
%:%3795=1345%:%
%:%3796=1345%:%
%:%3797=1346%:%
%:%3798=1347%:%
%:%3799=1347%:%
%:%3800=1348%:%
%:%3801=1348%:%
%:%3802=1349%:%
%:%3803=1349%:%
%:%3804=1350%:%
%:%3805=1350%:%
%:%3806=1351%:%
%:%3807=1351%:%
%:%3808=1352%:%
%:%3809=1352%:%
%:%3810=1353%:%
%:%3811=1353%:%
%:%3812=1354%:%
%:%3813=1354%:%
%:%3814=1355%:%
%:%3815=1355%:%
%:%3816=1355%:%
%:%3817=1356%:%
%:%3818=1356%:%
%:%3819=1357%:%
%:%3820=1357%:%
%:%3821=1358%:%
%:%3822=1358%:%
%:%3823=1359%:%
%:%3824=1359%:%
%:%3825=1360%:%
%:%3826=1360%:%
%:%3827=1360%:%
%:%3828=1361%:%
%:%3829=1361%:%
%:%3830=1362%:%
%:%3831=1362%:%
%:%3832=1363%:%
%:%3833=1363%:%
%:%3834=1364%:%
%:%3835=1364%:%
%:%3836=1365%:%
%:%3837=1365%:%
%:%3838=1366%:%
%:%3839=1366%:%
%:%3840=1367%:%
%:%3841=1367%:%
%:%3842=1367%:%
%:%3843=1368%:%
%:%3844=1368%:%
%:%3845=1369%:%
%:%3846=1369%:%
%:%3847=1370%:%
%:%3848=1370%:%
%:%3849=1371%:%
%:%3850=1371%:%
%:%3851=1372%:%
%:%3852=1372%:%
%:%3853=1373%:%
%:%3854=1373%:%
%:%3855=1374%:%
%:%3856=1375%:%
%:%3857=1375%:%
%:%3858=1376%:%
%:%3859=1376%:%
%:%3860=1377%:%
%:%3861=1377%:%
%:%3862=1377%:%
%:%3863=1378%:%
%:%3864=1379%:%
%:%3865=1379%:%
%:%3866=1380%:%
%:%3867=1380%:%
%:%3868=1381%:%
%:%3869=1381%:%
%:%3870=1382%:%
%:%3871=1382%:%
%:%3872=1383%:%
%:%3873=1383%:%
%:%3874=1384%:%
%:%3875=1384%:%
%:%3876=1385%:%
%:%3877=1385%:%
%:%3878=1386%:%
%:%3879=1386%:%
%:%3880=1387%:%
%:%3881=1387%:%
%:%3882=1388%:%
%:%3883=1388%:%
%:%3884=1389%:%
%:%3885=1389%:%
%:%3886=1390%:%
%:%3887=1390%:%
%:%3888=1391%:%
%:%3889=1391%:%
%:%3890=1392%:%
%:%3891=1392%:%
%:%3892=1393%:%
%:%3893=1393%:%
%:%3894=1394%:%
%:%3895=1394%:%
%:%3896=1395%:%
%:%3897=1395%:%
%:%3898=1396%:%
%:%3899=1396%:%
%:%3900=1397%:%
%:%3901=1397%:%
%:%3902=1398%:%
%:%3903=1398%:%
%:%3904=1399%:%
%:%3905=1399%:%
%:%3910=1399%:%
%:%3913=1400%:%
%:%3914=1401%:%
%:%3915=1401%:%
%:%3918=1402%:%
%:%3922=1402%:%
%:%3923=1402%:%
%:%3928=1402%:%
%:%3931=1403%:%
%:%3932=1404%:%
%:%3933=1404%:%
%:%3936=1407%:%
%:%3943=1408%:%
%:%3944=1408%:%
%:%3945=1409%:%
%:%3946=1409%:%
%:%3947=1410%:%
%:%3948=1410%:%
%:%3949=1411%:%
%:%3950=1411%:%
%:%3951=1412%:%
%:%3952=1412%:%
%:%3953=1413%:%
%:%3954=1413%:%
%:%3955=1414%:%
%:%3956=1414%:%
%:%3957=1415%:%
%:%3958=1415%:%
%:%3959=1416%:%
%:%3960=1416%:%
%:%3961=1417%:%
%:%3962=1417%:%
%:%3963=1418%:%
%:%3964=1418%:%
%:%3965=1419%:%
%:%3966=1419%:%
%:%3967=1420%:%
%:%3968=1420%:%
%:%3969=1421%:%
%:%3970=1421%:%
%:%3971=1422%:%
%:%3972=1422%:%
%:%3973=1423%:%
%:%3974=1423%:%
%:%3975=1424%:%
%:%3976=1424%:%
%:%3977=1425%:%
%:%3978=1425%:%
%:%3979=1426%:%
%:%3980=1426%:%
%:%3981=1427%:%
%:%3982=1427%:%
%:%3983=1428%:%
%:%3984=1428%:%
%:%3985=1429%:%
%:%3986=1429%:%
%:%3987=1430%:%
%:%3988=1430%:%
%:%3989=1431%:%
%:%3990=1431%:%
%:%3991=1432%:%
%:%3992=1432%:%
%:%3993=1433%:%
%:%3994=1433%:%
%:%3995=1434%:%
%:%3996=1434%:%
%:%3997=1435%:%
%:%3998=1435%:%
%:%3999=1436%:%
%:%4000=1436%:%
%:%4001=1437%:%
%:%4002=1437%:%
%:%4003=1438%:%
%:%4004=1438%:%
%:%4005=1439%:%
%:%4006=1439%:%
%:%4007=1440%:%
%:%4008=1440%:%
%:%4009=1441%:%
%:%4010=1441%:%
%:%4011=1442%:%
%:%4012=1442%:%
%:%4013=1443%:%
%:%4014=1443%:%
%:%4015=1444%:%
%:%4016=1444%:%
%:%4017=1445%:%
%:%4018=1445%:%
%:%4019=1446%:%
%:%4020=1446%:%
%:%4021=1447%:%
%:%4022=1447%:%
%:%4023=1448%:%
%:%4024=1448%:%
%:%4025=1449%:%
%:%4026=1449%:%
%:%4027=1450%:%
%:%4028=1450%:%
%:%4029=1451%:%
%:%4030=1451%:%
%:%4031=1452%:%
%:%4032=1452%:%
%:%4033=1453%:%
%:%4034=1453%:%
%:%4035=1454%:%
%:%4036=1454%:%
%:%4037=1455%:%
%:%4038=1455%:%
%:%4039=1456%:%
%:%4040=1456%:%
%:%4041=1457%:%
%:%4042=1457%:%
%:%4043=1458%:%
%:%4044=1458%:%
%:%4045=1459%:%
%:%4046=1459%:%
%:%4047=1460%:%
%:%4048=1460%:%
%:%4053=1460%:%
%:%4056=1461%:%
%:%4057=1462%:%
%:%4058=1462%:%
%:%4062=1466%:%
%:%4065=1467%:%
%:%4069=1467%:%
%:%4070=1467%:%
%:%4071=1468%:%
%:%4072=1468%:%
%:%4073=1469%:%
%:%4074=1469%:%
%:%4075=1470%:%
%:%4076=1470%:%
%:%4077=1471%:%
%:%4078=1471%:%
%:%4079=1472%:%
%:%4080=1472%:%
%:%4081=1473%:%
%:%4082=1473%:%
%:%4083=1474%:%
%:%4084=1474%:%
%:%4085=1475%:%
%:%4086=1475%:%
%:%4087=1476%:%
%:%4088=1476%:%
%:%4089=1477%:%
%:%4090=1477%:%
%:%4091=1478%:%
%:%4092=1478%:%
%:%4093=1479%:%
%:%4094=1479%:%
%:%4095=1480%:%
%:%4096=1480%:%
%:%4097=1481%:%
%:%4098=1481%:%
%:%4099=1482%:%
%:%4105=1482%:%
%:%4108=1483%:%
%:%4109=1484%:%
%:%4110=1484%:%
%:%4113=1485%:%
%:%4117=1485%:%
%:%4118=1485%:%
%:%4119=1486%:%
%:%4124=1486%:%
%:%4127=1487%:%
%:%4128=1488%:%
%:%4129=1488%:%
%:%4130=1489%:%
%:%4131=1490%:%
%:%4132=1491%:%
%:%4133=1491%:%
%:%4136=1492%:%
%:%4140=1492%:%
%:%4141=1492%:%
%:%4146=1492%:%
%:%4149=1493%:%
%:%4150=1494%:%
%:%4151=1494%:%
%:%4152=1495%:%
%:%4155=1496%:%
%:%4159=1496%:%
%:%4160=1496%:%
%:%4165=1496%:%
%:%4168=1497%:%
%:%4169=1498%:%
%:%4170=1498%:%
%:%4171=1499%:%
%:%4174=1500%:%
%:%4178=1500%:%
%:%4179=1500%:%
%:%4184=1500%:%
%:%4187=1501%:%
%:%4188=1502%:%
%:%4189=1502%:%
%:%4192=1503%:%
%:%4196=1503%:%
%:%4197=1503%:%
%:%4198=1504%:%
%:%4199=1504%:%
%:%4204=1504%:%
%:%4207=1505%:%
%:%4208=1506%:%
%:%4209=1506%:%
%:%4212=1507%:%
%:%4216=1507%:%
%:%4217=1507%:%
%:%4218=1508%:%
%:%4219=1508%:%
%:%4224=1508%:%
%:%4227=1509%:%
%:%4228=1510%:%
%:%4229=1510%:%
%:%4236=1511%:%
%:%4237=1511%:%
%:%4238=1512%:%
%:%4239=1512%:%
%:%4241=1514%:%
%:%4242=1515%:%
%:%4243=1515%:%
%:%4244=1516%:%
%:%4245=1516%:%
%:%4246=1517%:%
%:%4247=1517%:%
%:%4248=1518%:%
%:%4249=1519%:%
%:%4250=1519%:%
%:%4251=1520%:%
%:%4252=1520%:%
%:%4253=1521%:%
%:%4254=1521%:%
%:%4255=1522%:%
%:%4256=1522%:%
%:%4257=1523%:%
%:%4258=1523%:%
%:%4259=1524%:%
%:%4260=1524%:%
%:%4261=1525%:%
%:%4262=1525%:%
%:%4263=1526%:%
%:%4264=1526%:%
%:%4265=1526%:%
%:%4266=1527%:%
%:%4267=1527%:%
%:%4268=1528%:%
%:%4269=1528%:%
%:%4270=1529%:%
%:%4271=1529%:%
%:%4272=1530%:%
%:%4273=1530%:%
%:%4274=1531%:%
%:%4275=1531%:%
%:%4276=1532%:%
%:%4277=1532%:%
%:%4278=1533%:%
%:%4279=1533%:%
%:%4280=1533%:%
%:%4281=1534%:%
%:%4282=1534%:%
%:%4283=1535%:%
%:%4289=1535%:%
%:%4292=1536%:%
%:%4293=1537%:%
%:%4294=1537%:%
%:%4297=1538%:%
%:%4301=1538%:%
%:%4302=1538%:%
%:%4307=1538%:%
%:%4310=1539%:%
%:%4311=1540%:%
%:%4312=1540%:%
%:%4313=1541%:%
%:%4316=1542%:%
%:%4320=1542%:%
%:%4321=1542%:%
%:%4322=1543%:%
%:%4323=1543%:%
%:%4328=1543%:%
%:%4331=1544%:%
%:%4332=1545%:%
%:%4333=1545%:%
%:%4336=1546%:%
%:%4340=1546%:%
%:%4341=1546%:%
%:%4342=1547%:%
%:%4343=1547%:%
%:%4348=1547%:%
%:%4351=1548%:%
%:%4352=1549%:%
%:%4353=1549%:%
%:%4356=1550%:%
%:%4360=1550%:%
%:%4361=1550%:%
%:%4362=1551%:%
%:%4363=1551%:%
%:%4364=1552%:%
%:%4365=1552%:%
%:%4366=1553%:%
%:%4367=1553%:%
%:%4368=1554%:%
%:%4369=1554%:%
%:%4370=1555%:%
%:%4371=1556%:%
%:%4372=1556%:%
%:%4373=1557%:%
%:%4374=1557%:%
%:%4375=1558%:%
%:%4381=1558%:%
%:%4384=1559%:%
%:%4385=1560%:%
%:%4386=1560%:%
%:%4389=1561%:%
%:%4393=1561%:%
%:%4394=1561%:%
%:%4399=1561%:%
%:%4402=1562%:%
%:%4403=1563%:%
%:%4404=1563%:%
%:%4407=1564%:%
%:%4411=1564%:%
%:%4412=1564%:%
%:%4413=1565%:%
%:%4414=1565%:%
%:%4419=1565%:%
%:%4422=1566%:%
%:%4423=1567%:%
%:%4424=1567%:%
%:%4427=1568%:%
%:%4431=1568%:%
%:%4432=1568%:%
%:%4433=1569%:%
%:%4434=1569%:%
%:%4439=1569%:%
%:%4442=1570%:%
%:%4443=1571%:%
%:%4444=1571%:%
%:%4445=1572%:%
%:%4446=1573%:%
%:%4447=1574%:%
%:%4448=1575%:%
%:%4449=1576%:%
%:%4450=1576%:%
%:%4453=1577%:%
%:%4457=1577%:%
%:%4458=1577%:%
%:%4463=1577%:%
%:%4466=1578%:%
%:%4467=1579%:%
%:%4468=1579%:%
%:%4471=1580%:%
%:%4475=1580%:%
%:%4476=1580%:%
%:%4481=1580%:%
%:%4484=1581%:%
%:%4485=1582%:%
%:%4486=1582%:%
%:%4489=1583%:%
%:%4493=1583%:%
%:%4494=1583%:%
%:%4499=1583%:%
%:%4502=1584%:%
%:%4503=1585%:%
%:%4504=1585%:%
%:%4507=1586%:%
%:%4511=1586%:%
%:%4512=1586%:%
%:%4517=1586%:%
%:%4520=1587%:%
%:%4521=1588%:%
%:%4522=1588%:%
%:%4523=1589%:%
%:%4526=1590%:%
%:%4530=1590%:%
%:%4531=1590%:%
%:%4532=1591%:%
%:%4533=1591%:%
%:%4534=1592%:%
%:%4535=1592%:%
%:%4536=1593%:%
%:%4537=1593%:%
%:%4538=1593%:%
%:%4539=1594%:%
%:%4545=1594%:%
%:%4548=1595%:%
%:%4549=1596%:%
%:%4550=1596%:%
%:%4551=1597%:%
%:%4552=1598%:%
%:%4555=1599%:%
%:%4559=1599%:%
%:%4560=1599%:%
%:%4561=1600%:%
%:%4562=1600%:%
%:%4563=1601%:%
%:%4564=1601%:%
%:%4565=1602%:%
%:%4566=1602%:%
%:%4567=1603%:%
%:%4568=1603%:%
%:%4569=1604%:%
%:%4570=1604%:%
%:%4571=1605%:%
%:%4572=1605%:%
%:%4573=1606%:%
%:%4574=1606%:%
%:%4575=1607%:%
%:%4576=1607%:%
%:%4577=1608%:%
%:%4578=1608%:%
%:%4579=1609%:%
%:%4580=1609%:%
%:%4581=1610%:%
%:%4582=1610%:%
%:%4583=1611%:%
%:%4584=1611%:%
%:%4585=1612%:%
%:%4586=1612%:%
%:%4587=1613%:%
%:%4588=1613%:%
%:%4589=1614%:%
%:%4590=1614%:%
%:%4591=1615%:%
%:%4592=1615%:%
%:%4593=1616%:%
%:%4594=1616%:%
%:%4595=1617%:%
%:%4596=1617%:%
%:%4597=1618%:%
%:%4598=1618%:%
%:%4599=1619%:%
%:%4600=1619%:%
%:%4601=1620%:%
%:%4602=1620%:%
%:%4603=1621%:%
%:%4604=1621%:%
%:%4605=1622%:%
%:%4606=1622%:%
%:%4607=1623%:%
%:%4608=1623%:%
%:%4609=1624%:%
%:%4610=1624%:%
%:%4611=1625%:%
%:%4612=1625%:%
%:%4613=1626%:%
%:%4614=1626%:%
%:%4615=1627%:%
%:%4616=1627%:%
%:%4617=1628%:%
%:%4618=1628%:%
%:%4619=1629%:%
%:%4620=1629%:%
%:%4621=1630%:%
%:%4622=1630%:%
%:%4623=1631%:%
%:%4624=1631%:%
%:%4625=1632%:%
%:%4626=1632%:%
%:%4627=1633%:%
%:%4628=1633%:%
%:%4629=1634%:%
%:%4630=1634%:%
%:%4631=1635%:%
%:%4632=1635%:%
%:%4633=1636%:%
%:%4634=1636%:%
%:%4635=1637%:%
%:%4636=1637%:%
%:%4637=1638%:%
%:%4638=1638%:%
%:%4639=1639%:%
%:%4640=1639%:%
%:%4641=1640%:%
%:%4642=1640%:%
%:%4643=1641%:%
%:%4644=1641%:%
%:%4649=1641%:%
%:%4652=1642%:%
%:%4653=1643%:%
%:%4654=1643%:%
%:%4657=1644%:%
%:%4661=1644%:%
%:%4662=1644%:%
%:%4663=1645%:%
%:%4664=1646%:%
%:%4665=1646%:%
%:%4670=1646%:%
%:%4673=1647%:%
%:%4674=1648%:%
%:%4675=1648%:%
%:%4678=1649%:%
%:%4682=1649%:%
%:%4683=1649%:%
%:%4684=1650%:%
%:%4685=1650%:%
%:%4690=1650%:%
%:%4693=1651%:%
%:%4694=1652%:%
%:%4695=1652%:%
%:%4698=1653%:%
%:%4702=1653%:%
%:%4703=1653%:%
%:%4704=1654%:%
%:%4705=1654%:%
%:%4706=1655%:%
%:%4707=1655%:%
%:%4712=1655%:%
%:%4715=1656%:%
%:%4716=1657%:%
%:%4717=1657%:%
%:%4724=1658%:%
%:%4725=1658%:%
%:%4726=1659%:%
%:%4727=1659%:%
%:%4728=1660%:%
%:%4729=1660%:%
%:%4730=1660%:%
%:%4731=1661%:%
%:%4732=1661%:%
%:%4733=1662%:%
%:%4734=1662%:%
%:%4735=1662%:%
%:%4736=1663%:%
%:%4737=1663%:%
%:%4738=1664%:%
%:%4739=1664%:%
%:%4740=1664%:%
%:%4741=1665%:%
%:%4742=1665%:%
%:%4743=1666%:%
%:%4744=1666%:%
%:%4749=1666%:%
%:%4752=1667%:%
%:%4753=1668%:%
%:%4754=1668%:%
%:%4755=1669%:%
%:%4756=1670%:%
%:%4759=1671%:%
%:%4763=1671%:%
%:%4764=1671%:%
%:%4765=1672%:%
%:%4766=1672%:%
%:%4771=1672%:%
%:%4774=1673%:%
%:%4775=1674%:%
%:%4776=1674%:%
%:%4777=1675%:%
%:%4784=1676%:%
%:%4785=1676%:%
%:%4786=1677%:%
%:%4787=1677%:%
%:%4788=1678%:%
%:%4789=1678%:%
%:%4790=1678%:%
%:%4791=1679%:%
%:%4792=1679%:%
%:%4793=1680%:%
%:%4794=1680%:%
%:%4799=1680%:%
%:%4802=1681%:%
%:%4803=1682%:%
%:%4804=1682%:%
%:%4805=1683%:%
%:%4806=1684%:%
%:%4809=1685%:%
%:%4813=1685%:%
%:%4814=1685%:%
%:%4815=1686%:%
%:%4816=1686%:%
%:%4817=1687%:%
%:%4818=1687%:%
%:%4819=1688%:%
%:%4820=1688%:%
%:%4821=1689%:%
%:%4822=1689%:%
%:%4823=1690%:%
%:%4824=1690%:%
%:%4825=1691%:%
%:%4826=1692%:%
%:%4827=1692%:%
%:%4828=1693%:%
%:%4829=1693%:%
%:%4830=1694%:%
%:%4831=1694%:%
%:%4832=1695%:%
%:%4833=1695%:%
%:%4834=1696%:%
%:%4835=1696%:%
%:%4836=1697%:%
%:%4837=1697%:%
%:%4838=1698%:%
%:%4839=1698%:%
%:%4840=1699%:%
%:%4841=1699%:%
%:%4842=1699%:%
%:%4843=1700%:%
%:%4844=1700%:%
%:%4845=1701%:%
%:%4846=1701%:%
%:%4847=1702%:%
%:%4848=1702%:%
%:%4849=1702%:%
%:%4850=1703%:%
%:%4851=1703%:%
%:%4852=1704%:%
%:%4853=1704%:%
%:%4854=1705%:%
%:%4855=1705%:%
%:%4856=1706%:%
%:%4857=1706%:%
%:%4858=1707%:%
%:%4859=1707%:%
%:%4860=1708%:%
%:%4861=1708%:%
%:%4862=1709%:%
%:%4863=1709%:%
%:%4864=1709%:%
%:%4865=1710%:%
%:%4866=1710%:%
%:%4867=1711%:%
%:%4868=1711%:%
%:%4869=1712%:%
%:%4870=1712%:%
%:%4871=1713%:%
%:%4872=1713%:%
%:%4873=1714%:%
%:%4874=1714%:%
%:%4875=1715%:%
%:%4876=1715%:%
%:%4877=1715%:%
%:%4878=1716%:%
%:%4879=1716%:%
%:%4880=1717%:%
%:%4881=1717%:%
%:%4882=1718%:%
%:%4883=1718%:%
%:%4884=1719%:%
%:%4885=1719%:%
%:%4886=1720%:%
%:%4887=1720%:%
%:%4888=1721%:%
%:%4889=1721%:%
%:%4890=1721%:%
%:%4891=1722%:%
%:%4892=1722%:%
%:%4893=1723%:%
%:%4894=1723%:%
%:%4895=1724%:%
%:%4896=1724%:%
%:%4901=1724%:%
%:%4904=1725%:%
%:%4905=1726%:%
%:%4906=1726%:%
%:%4907=1727%:%
%:%4908=1728%:%
%:%4911=1729%:%
%:%4915=1729%:%
%:%4916=1729%:%
%:%4917=1730%:%
%:%4918=1731%:%
%:%4919=1732%:%
%:%4925=1732%:%
%:%4928=1733%:%
%:%4929=1734%:%
%:%4930=1734%:%
%:%4931=1735%:%
%:%4932=1736%:%
%:%4935=1737%:%
%:%4939=1737%:%
%:%4940=1737%:%
%:%4941=1738%:%
%:%4947=1738%:%
%:%4950=1739%:%
%:%4951=1740%:%
%:%4952=1740%:%
%:%4953=1741%:%
%:%4954=1742%:%
%:%4961=1743%:%
%:%4962=1743%:%
%:%4963=1744%:%
%:%4964=1744%:%
%:%4965=1745%:%
%:%4966=1745%:%
%:%4967=1746%:%
%:%4968=1746%:%
%:%4969=1747%:%
%:%4970=1747%:%
%:%4971=1748%:%
%:%4972=1748%:%
%:%4973=1748%:%
%:%4974=1749%:%
%:%4975=1749%:%
%:%4976=1750%:%
%:%4977=1750%:%
%:%4978=1751%:%
%:%4979=1751%:%
%:%4980=1752%:%
%:%4981=1752%:%
%:%4982=1753%:%
%:%4983=1753%:%
%:%4984=1753%:%
%:%4985=1754%:%
%:%4986=1754%:%
%:%4987=1755%:%
%:%4993=1755%:%
%:%4996=1756%:%
%:%4997=1757%:%
%:%4998=1757%:%
%:%4999=1758%:%
%:%5000=1759%:%
%:%5001=1760%:%
%:%5002=1760%:%
%:%5003=1761%:%
%:%5004=1762%:%
%:%5005=1763%:%
%:%5006=1763%:%
%:%5007=1764%:%
%:%5008=1765%:%
%:%5009=1765%:%
%:%5010=1766%:%
%:%5011=1767%:%
%:%5012=1767%:%
%:%5013=1768%:%
%:%5014=1769%:%
%:%5016=1771%:%
%:%5017=1772%:%
%:%5018=1773%:%
%:%5019=1773%:%
%:%5022=1776%:%
%:%5025=1777%:%
%:%5029=1777%:%
%:%5030=1777%:%
%:%5031=1778%:%
%:%5032=1778%:%
%:%5037=1778%:%
%:%5040=1779%:%
%:%5041=1780%:%
%:%5042=1780%:%
%:%5043=1781%:%
%:%5046=1782%:%
%:%5050=1782%:%
%:%5051=1782%:%
%:%5056=1782%:%
%:%5059=1783%:%
%:%5060=1784%:%
%:%5061=1784%:%
%:%5064=1785%:%
%:%5068=1785%:%
%:%5069=1785%:%
%:%5074=1785%:%
%:%5077=1786%:%
%:%5078=1787%:%
%:%5079=1787%:%
%:%5080=1788%:%
%:%5081=1789%:%
%:%5083=1791%:%
%:%5090=1792%:%
%:%5091=1792%:%
%:%5092=1793%:%
%:%5093=1793%:%
%:%5094=1794%:%
%:%5095=1794%:%
%:%5096=1795%:%
%:%5097=1795%:%
%:%5098=1796%:%
%:%5099=1796%:%
%:%5100=1797%:%
%:%5101=1797%:%
%:%5102=1798%:%
%:%5103=1798%:%
%:%5104=1799%:%
%:%5105=1799%:%
%:%5106=1800%:%
%:%5107=1800%:%
%:%5108=1801%:%
%:%5109=1801%:%
%:%5110=1802%:%
%:%5111=1802%:%
%:%5112=1803%:%
%:%5113=1803%:%
%:%5114=1804%:%
%:%5115=1804%:%
%:%5116=1805%:%
%:%5117=1805%:%
%:%5118=1806%:%
%:%5119=1806%:%
%:%5120=1807%:%
%:%5121=1807%:%
%:%5122=1808%:%
%:%5123=1808%:%
%:%5124=1809%:%
%:%5125=1809%:%
%:%5126=1810%:%
%:%5127=1810%:%
%:%5128=1811%:%
%:%5129=1811%:%
%:%5130=1812%:%
%:%5131=1812%:%
%:%5132=1813%:%
%:%5133=1813%:%
%:%5134=1814%:%
%:%5135=1814%:%
%:%5136=1815%:%
%:%5137=1815%:%
%:%5138=1816%:%
%:%5139=1816%:%
%:%5140=1817%:%
%:%5141=1817%:%
%:%5142=1818%:%
%:%5143=1818%:%
%:%5144=1819%:%
%:%5145=1819%:%
%:%5146=1820%:%
%:%5147=1820%:%
%:%5148=1821%:%
%:%5149=1821%:%
%:%5150=1822%:%
%:%5151=1822%:%
%:%5152=1823%:%
%:%5153=1823%:%
%:%5154=1824%:%
%:%5155=1824%:%
%:%5156=1825%:%
%:%5157=1825%:%
%:%5158=1826%:%
%:%5159=1826%:%
%:%5160=1827%:%
%:%5161=1827%:%
%:%5162=1828%:%
%:%5163=1828%:%
%:%5164=1829%:%
%:%5165=1829%:%
%:%5166=1830%:%
%:%5167=1830%:%
%:%5168=1831%:%
%:%5169=1831%:%
%:%5170=1832%:%
%:%5171=1832%:%
%:%5172=1833%:%
%:%5173=1833%:%
%:%5174=1834%:%
%:%5175=1834%:%
%:%5176=1835%:%
%:%5177=1836%:%
%:%5178=1836%:%
%:%5179=1837%:%
%:%5180=1837%:%
%:%5181=1838%:%
%:%5182=1838%:%
%:%5183=1839%:%
%:%5184=1839%:%
%:%5185=1840%:%
%:%5186=1840%:%
%:%5187=1841%:%
%:%5188=1841%:%
%:%5189=1842%:%
%:%5190=1842%:%
%:%5191=1843%:%
%:%5192=1843%:%
%:%5193=1844%:%
%:%5194=1844%:%
%:%5195=1845%:%
%:%5196=1845%:%
%:%5197=1846%:%
%:%5198=1846%:%
%:%5199=1847%:%
%:%5200=1847%:%
%:%5201=1848%:%
%:%5202=1848%:%
%:%5203=1849%:%
%:%5204=1849%:%
%:%5205=1850%:%
%:%5206=1850%:%
%:%5207=1851%:%
%:%5208=1851%:%
%:%5209=1852%:%
%:%5210=1852%:%
%:%5211=1853%:%
%:%5212=1853%:%
%:%5213=1854%:%
%:%5214=1854%:%
%:%5215=1855%:%
%:%5216=1855%:%
%:%5221=1855%:%
%:%5224=1856%:%
%:%5225=1857%:%
%:%5226=1857%:%
%:%5227=1858%:%
%:%5228=1859%:%
%:%5229=1860%:%
%:%5232=1863%:%
%:%5233=1864%:%
%:%5234=1865%:%
%:%5235=1865%:%
%:%5238=1866%:%
%:%5242=1866%:%
%:%5243=1866%:%
%:%5248=1866%:%
%:%5251=1867%:%
%:%5252=1868%:%
%:%5253=1868%:%
%:%5255=1870%:%
%:%5258=1871%:%
%:%5262=1871%:%
%:%5263=1871%:%
%:%5264=1872%:%
%:%5265=1872%:%
%:%5270=1872%:%
%:%5273=1873%:%
%:%5274=1874%:%
%:%5275=1874%:%
%:%5276=1875%:%
%:%5277=1876%:%
%:%5284=1877%:%
%:%5285=1877%:%
%:%5286=1878%:%
%:%5287=1878%:%
%:%5288=1879%:%
%:%5289=1879%:%
%:%5290=1880%:%
%:%5291=1880%:%
%:%5292=1881%:%
%:%5293=1881%:%
%:%5294=1882%:%
%:%5295=1882%:%
%:%5296=1883%:%
%:%5297=1883%:%
%:%5298=1884%:%
%:%5299=1884%:%
%:%5300=1885%:%
%:%5301=1885%:%
%:%5302=1886%:%
%:%5303=1886%:%
%:%5304=1887%:%
%:%5305=1887%:%
%:%5306=1888%:%
%:%5307=1888%:%
%:%5308=1889%:%
%:%5309=1889%:%
%:%5310=1890%:%
%:%5311=1890%:%
%:%5312=1891%:%
%:%5313=1891%:%
%:%5314=1892%:%
%:%5315=1892%:%
%:%5316=1893%:%
%:%5317=1893%:%
%:%5318=1894%:%
%:%5319=1894%:%
%:%5320=1895%:%
%:%5321=1895%:%
%:%5322=1896%:%
%:%5328=1896%:%
%:%5331=1897%:%
%:%5332=1898%:%
%:%5333=1898%:%
%:%5334=1899%:%
%:%5335=1900%:%
%:%5336=1901%:%
%:%5337=1902%:%
%:%5338=1903%:%
%:%5339=1904%:%
%:%5340=1905%:%
%:%5347=1906%:%
%:%5348=1906%:%
%:%5349=1907%:%
%:%5350=1907%:%
%:%5351=1908%:%
%:%5352=1908%:%
%:%5353=1909%:%
%:%5354=1909%:%
%:%5355=1910%:%
%:%5356=1910%:%
%:%5357=1911%:%
%:%5358=1911%:%
%:%5359=1912%:%
%:%5360=1912%:%
%:%5361=1913%:%
%:%5362=1914%:%
%:%5363=1915%:%
%:%5364=1915%:%
%:%5365=1916%:%
%:%5366=1916%:%
%:%5367=1917%:%
%:%5368=1917%:%
%:%5369=1917%:%
%:%5370=1918%:%
%:%5371=1918%:%
%:%5372=1919%:%
%:%5373=1919%:%
%:%5374=1920%:%
%:%5375=1920%:%
%:%5376=1921%:%
%:%5377=1921%:%
%:%5378=1922%:%
%:%5379=1922%:%
%:%5380=1923%:%
%:%5381=1923%:%
%:%5382=1923%:%
%:%5383=1924%:%
%:%5384=1924%:%
%:%5385=1925%:%
%:%5386=1925%:%
%:%5387=1926%:%
%:%5388=1926%:%
%:%5389=1927%:%
%:%5390=1927%:%
%:%5391=1928%:%
%:%5392=1928%:%
%:%5393=1929%:%
%:%5394=1929%:%
%:%5395=1930%:%
%:%5396=1931%:%
%:%5397=1931%:%
%:%5398=1931%:%
%:%5399=1932%:%
%:%5400=1932%:%
%:%5401=1932%:%
%:%5402=1933%:%
%:%5403=1933%:%
%:%5404=1933%:%
%:%5405=1934%:%
%:%5406=1934%:%
%:%5407=1935%:%
%:%5408=1935%:%
%:%5409=1936%:%
%:%5410=1936%:%
%:%5411=1937%:%
%:%5412=1937%:%
%:%5413=1938%:%
%:%5414=1938%:%
%:%5415=1939%:%
%:%5416=1939%:%
%:%5417=1940%:%
%:%5418=1940%:%
%:%5419=1941%:%
%:%5420=1941%:%
%:%5421=1942%:%
%:%5422=1942%:%
%:%5423=1943%:%
%:%5424=1943%:%
%:%5425=1944%:%
%:%5426=1944%:%
%:%5427=1945%:%
%:%5428=1945%:%
%:%5429=1946%:%
%:%5430=1946%:%
%:%5431=1947%:%
%:%5432=1947%:%
%:%5433=1948%:%
%:%5434=1948%:%
%:%5435=1949%:%
%:%5436=1949%:%
%:%5437=1949%:%
%:%5438=1950%:%
%:%5439=1950%:%
%:%5440=1951%:%
%:%5441=1951%:%
%:%5442=1952%:%
%:%5443=1952%:%
%:%5444=1953%:%
%:%5445=1953%:%
%:%5446=1954%:%
%:%5447=1954%:%
%:%5448=1955%:%
%:%5449=1955%:%
%:%5450=1956%:%
%:%5451=1956%:%
%:%5452=1957%:%
%:%5453=1957%:%
%:%5454=1958%:%
%:%5455=1958%:%
%:%5456=1959%:%
%:%5457=1959%:%
%:%5458=1960%:%
%:%5459=1960%:%
%:%5460=1961%:%
%:%5461=1961%:%
%:%5462=1962%:%
%:%5463=1962%:%
%:%5464=1963%:%
%:%5465=1963%:%
%:%5466=1964%:%
%:%5467=1964%:%
%:%5468=1965%:%
%:%5469=1965%:%
%:%5470=1966%:%
%:%5471=1966%:%
%:%5472=1967%:%
%:%5473=1967%:%
%:%5474=1968%:%
%:%5475=1968%:%
%:%5476=1969%:%
%:%5477=1969%:%
%:%5478=1970%:%
%:%5484=1970%:%
%:%5487=1971%:%
%:%5488=1972%:%
%:%5489=1972%:%
%:%5490=1973%:%
%:%5491=1974%:%
%:%5492=1975%:%
%:%5493=1976%:%
%:%5494=1977%:%
%:%5495=1978%:%
%:%5502=1979%:%
%:%5503=1979%:%
%:%5504=1980%:%
%:%5505=1980%:%
%:%5506=1981%:%
%:%5507=1981%:%
%:%5508=1982%:%
%:%5509=1982%:%
%:%5510=1983%:%
%:%5511=1983%:%
%:%5512=1984%:%
%:%5513=1984%:%
%:%5514=1985%:%
%:%5515=1985%:%
%:%5516=1986%:%
%:%5517=1986%:%
%:%5518=1987%:%
%:%5519=1987%:%
%:%5520=1988%:%
%:%5521=1988%:%
%:%5522=1989%:%
%:%5523=1989%:%
%:%5524=1990%:%
%:%5525=1990%:%
%:%5526=1991%:%
%:%5527=1991%:%
%:%5528=1992%:%
%:%5529=1992%:%
%:%5530=1993%:%
%:%5531=1993%:%
%:%5532=1994%:%
%:%5533=1994%:%
%:%5534=1995%:%
%:%5535=1995%:%
%:%5536=1996%:%
%:%5537=1996%:%
%:%5538=1997%:%
%:%5539=1997%:%
%:%5540=1998%:%
%:%5541=1998%:%
%:%5542=1999%:%
%:%5543=1999%:%
%:%5544=2000%:%
%:%5545=2000%:%
%:%5546=2001%:%
%:%5547=2001%:%
%:%5548=2002%:%
%:%5549=2002%:%
%:%5550=2003%:%
%:%5551=2003%:%
%:%5552=2004%:%
%:%5553=2004%:%
%:%5554=2005%:%
%:%5555=2005%:%
%:%5556=2005%:%
%:%5557=2006%:%
%:%5558=2006%:%
%:%5559=2007%:%
%:%5560=2007%:%
%:%5561=2008%:%
%:%5562=2008%:%
%:%5563=2009%:%
%:%5564=2009%:%
%:%5565=2010%:%
%:%5566=2010%:%
%:%5567=2011%:%
%:%5568=2011%:%
%:%5569=2012%:%
%:%5570=2012%:%
%:%5571=2013%:%
%:%5572=2013%:%
%:%5573=2014%:%
%:%5574=2014%:%
%:%5575=2015%:%
%:%5576=2015%:%
%:%5577=2015%:%
%:%5578=2016%:%
%:%5579=2016%:%
%:%5580=2017%:%
%:%5581=2017%:%
%:%5582=2018%:%
%:%5583=2018%:%
%:%5584=2019%:%
%:%5585=2019%:%
%:%5586=2020%:%
%:%5587=2020%:%
%:%5588=2021%:%
%:%5589=2021%:%
%:%5590=2022%:%
%:%5591=2022%:%
%:%5592=2023%:%
%:%5593=2023%:%
%:%5594=2024%:%
%:%5595=2024%:%
%:%5596=2025%:%
%:%5597=2025%:%
%:%5598=2026%:%
%:%5599=2027%:%
%:%5600=2028%:%
%:%5601=2028%:%
%:%5602=2029%:%
%:%5603=2029%:%
%:%5604=2030%:%
%:%5605=2030%:%
%:%5606=2031%:%
%:%5607=2031%:%
%:%5608=2031%:%
%:%5609=2032%:%
%:%5610=2032%:%
%:%5611=2032%:%
%:%5612=2033%:%
%:%5613=2033%:%
%:%5614=2034%:%
%:%5615=2034%:%
%:%5616=2035%:%
%:%5617=2035%:%
%:%5618=2036%:%
%:%5619=2036%:%
%:%5620=2037%:%
%:%5621=2037%:%
%:%5622=2038%:%
%:%5623=2038%:%
%:%5624=2039%:%
%:%5625=2039%:%
%:%5626=2040%:%
%:%5627=2040%:%
%:%5628=2041%:%
%:%5629=2041%:%
%:%5630=2042%:%
%:%5631=2042%:%
%:%5632=2043%:%
%:%5633=2044%:%
%:%5634=2044%:%
%:%5635=2045%:%
%:%5636=2045%:%
%:%5637=2046%:%
%:%5638=2046%:%
%:%5639=2047%:%
%:%5640=2047%:%
%:%5641=2047%:%
%:%5642=2048%:%
%:%5643=2048%:%
%:%5644=2048%:%
%:%5645=2049%:%
%:%5646=2049%:%
%:%5647=2050%:%
%:%5648=2050%:%
%:%5649=2051%:%
%:%5655=2051%:%
%:%5658=2052%:%
%:%5659=2053%:%
%:%5660=2053%:%
%:%5661=2054%:%
%:%5662=2055%:%
%:%5663=2055%:%
%:%5664=2056%:%
%:%5665=2057%:%
%:%5666=2058%:%
%:%5667=2059%:%
%:%5668=2060%:%
%:%5675=2061%:%
%:%5676=2061%:%
%:%5677=2062%:%
%:%5678=2062%:%
%:%5679=2063%:%
%:%5680=2063%:%
%:%5681=2064%:%
%:%5682=2064%:%
%:%5683=2065%:%
%:%5684=2065%:%
%:%5685=2066%:%
%:%5686=2066%:%
%:%5687=2067%:%
%:%5688=2068%:%
%:%5689=2068%:%
%:%5690=2069%:%
%:%5691=2069%:%
%:%5692=2070%:%
%:%5693=2070%:%
%:%5694=2071%:%
%:%5695=2071%:%
%:%5696=2071%:%
%:%5697=2072%:%
%:%5698=2072%:%
%:%5699=2073%:%
%:%5700=2073%:%
%:%5701=2074%:%
%:%5702=2074%:%
%:%5703=2075%:%
%:%5704=2075%:%
%:%5705=2076%:%
%:%5706=2077%:%
%:%5712=2077%:%
%:%5715=2078%:%
%:%5716=2079%:%
%:%5717=2079%:%
%:%5718=2080%:%
%:%5719=2081%:%
%:%5720=2082%:%
%:%5721=2083%:%
%:%5722=2084%:%
%:%5723=2085%:%
%:%5724=2086%:%
%:%5731=2087%:%
%:%5732=2087%:%
%:%5733=2088%:%
%:%5734=2088%:%
%:%5735=2089%:%
%:%5736=2089%:%
%:%5737=2090%:%
%:%5738=2090%:%
%:%5739=2091%:%
%:%5740=2091%:%
%:%5741=2092%:%
%:%5742=2092%:%
%:%5743=2093%:%
%:%5744=2093%:%
%:%5745=2094%:%
%:%5746=2094%:%
%:%5747=2095%:%
%:%5748=2095%:%
%:%5749=2096%:%
%:%5750=2096%:%
%:%5751=2097%:%
%:%5752=2097%:%
%:%5753=2098%:%
%:%5754=2098%:%
%:%5755=2099%:%
%:%5756=2099%:%
%:%5757=2100%:%
%:%5758=2100%:%
%:%5759=2101%:%
%:%5760=2101%:%
%:%5761=2102%:%
%:%5762=2102%:%
%:%5763=2103%:%
%:%5764=2103%:%
%:%5765=2104%:%
%:%5766=2104%:%
%:%5767=2105%:%
%:%5768=2105%:%
%:%5769=2106%:%
%:%5770=2106%:%
%:%5771=2107%:%
%:%5772=2107%:%
%:%5773=2108%:%
%:%5774=2108%:%
%:%5775=2109%:%
%:%5776=2109%:%
%:%5777=2110%:%
%:%5778=2110%:%
%:%5779=2111%:%
%:%5785=2111%:%
%:%5788=2112%:%
%:%5789=2113%:%
%:%5790=2113%:%
%:%5791=2114%:%
%:%5792=2115%:%
%:%5793=2116%:%
%:%5794=2117%:%
%:%5795=2118%:%
%:%5796=2119%:%
%:%5797=2120%:%
%:%5800=2121%:%
%:%5804=2121%:%
%:%5805=2121%:%
%:%5806=2122%:%
%:%5807=2122%:%
%:%5812=2122%:%
%:%5815=2123%:%
%:%5816=2124%:%
%:%5817=2124%:%
%:%5818=2125%:%
%:%5819=2126%:%
%:%5820=2127%:%
%:%5821=2128%:%
%:%5822=2129%:%
%:%5824=2131%:%
%:%5825=2132%:%
%:%5826=2133%:%
%:%5827=2134%:%
%:%5828=2134%:%
%:%5831=2135%:%
%:%5835=2135%:%
%:%5836=2135%:%
%:%5837=2136%:%
%:%5838=2136%:%
%:%5839=2137%:%
%:%5844=2137%:%
%:%5847=2138%:%
%:%5848=2139%:%
%:%5849=2139%:%
%:%5852=2140%:%
%:%5856=2140%:%
%:%5857=2140%:%
%:%5858=2141%:%
%:%5859=2141%:%
%:%5860=2142%:%
%:%5861=2143%:%
%:%5866=2143%:%
%:%5869=2144%:%
%:%5870=2145%:%
%:%5871=2145%:%
%:%5872=2146%:%
%:%5875=2147%:%
%:%5879=2147%:%
%:%5880=2147%:%
%:%5881=2148%:%
%:%5886=2148%:%
%:%5889=2149%:%
%:%5890=2150%:%
%:%5891=2150%:%
%:%5892=2151%:%
%:%5894=2153%:%
%:%5895=2154%:%
%:%5896=2155%:%
%:%5897=2155%:%
%:%5898=2156%:%
%:%5899=2157%:%
%:%5906=2158%:%
%:%5907=2158%:%
%:%5908=2159%:%
%:%5909=2159%:%
%:%5910=2160%:%
%:%5911=2160%:%
%:%5912=2161%:%
%:%5913=2161%:%
%:%5914=2161%:%
%:%5915=2162%:%
%:%5916=2163%:%
%:%5917=2163%:%
%:%5918=2164%:%
%:%5919=2164%:%
%:%5920=2165%:%
%:%5921=2165%:%
%:%5922=2166%:%
%:%5923=2166%:%
%:%5924=2167%:%
%:%5925=2167%:%
%:%5926=2167%:%
%:%5927=2168%:%
%:%5928=2168%:%
%:%5929=2169%:%
%:%5930=2169%:%
%:%5931=2170%:%
%:%5932=2170%:%
%:%5933=2171%:%
%:%5934=2171%:%
%:%5935=2172%:%
%:%5936=2172%:%
%:%5937=2172%:%
%:%5938=2173%:%
%:%5939=2173%:%
%:%5940=2174%:%
%:%5941=2174%:%
%:%5942=2175%:%
%:%5943=2175%:%
%:%5944=2176%:%
%:%5945=2176%:%
%:%5946=2177%:%
%:%5947=2177%:%
%:%5948=2178%:%
%:%5949=2178%:%
%:%5950=2179%:%
%:%5951=2179%:%
%:%5952=2180%:%
%:%5953=2180%:%
%:%5954=2180%:%
%:%5955=2181%:%
%:%5956=2181%:%
%:%5957=2182%:%
%:%5958=2182%:%
%:%5959=2183%:%
%:%5960=2183%:%
%:%5961=2184%:%
%:%5962=2184%:%
%:%5963=2184%:%
%:%5964=2185%:%
%:%5965=2185%:%
%:%5966=2186%:%
%:%5967=2186%:%
%:%5968=2187%:%
%:%5974=2187%:%
%:%5977=2188%:%
%:%5978=2189%:%
%:%5979=2189%:%
%:%5980=2190%:%
%:%5981=2191%:%
%:%5982=2192%:%
%:%5983=2193%:%
%:%5986=2196%:%
%:%5987=2197%:%
%:%5988=2198%:%
%:%5989=2198%:%
%:%5992=2199%:%
%:%5996=2199%:%
%:%5997=2199%:%
%:%6002=2199%:%
%:%6005=2200%:%
%:%6006=2201%:%
%:%6007=2201%:%
%:%6014=2208%:%
%:%6021=2209%:%
%:%6022=2209%:%
%:%6023=2210%:%
%:%6024=2210%:%
%:%6025=2211%:%
%:%6026=2211%:%
%:%6027=2211%:%
%:%6028=2212%:%
%:%6029=2212%:%
%:%6030=2213%:%
%:%6031=2214%:%
%:%6032=2214%:%
%:%6033=2215%:%
%:%6034=2215%:%
%:%6035=2216%:%
%:%6036=2216%:%
%:%6037=2217%:%
%:%6038=2217%:%
%:%6039=2218%:%
%:%6040=2218%:%
%:%6041=2219%:%
%:%6042=2219%:%
%:%6043=2220%:%
%:%6044=2220%:%
%:%6045=2221%:%
%:%6046=2221%:%
%:%6047=2222%:%
%:%6048=2222%:%
%:%6049=2223%:%
%:%6050=2223%:%
%:%6051=2224%:%
%:%6052=2224%:%
%:%6053=2225%:%
%:%6054=2225%:%
%:%6055=2226%:%
%:%6056=2226%:%
%:%6057=2227%:%
%:%6058=2227%:%
%:%6059=2228%:%
%:%6060=2228%:%
%:%6061=2229%:%
%:%6062=2229%:%
%:%6063=2230%:%
%:%6064=2230%:%
%:%6065=2231%:%
%:%6066=2231%:%
%:%6067=2232%:%
%:%6068=2232%:%
%:%6069=2233%:%
%:%6070=2233%:%
%:%6071=2234%:%
%:%6072=2234%:%
%:%6073=2235%:%
%:%6074=2235%:%
%:%6075=2236%:%
%:%6076=2236%:%
%:%6077=2237%:%
%:%6078=2237%:%
%:%6079=2238%:%
%:%6080=2238%:%
%:%6081=2239%:%
%:%6082=2239%:%
%:%6083=2240%:%
%:%6084=2240%:%
%:%6085=2241%:%
%:%6086=2241%:%
%:%6087=2242%:%
%:%6088=2242%:%
%:%6089=2243%:%
%:%6090=2244%:%
%:%6091=2245%:%
%:%6092=2246%:%
%:%6093=2246%:%
%:%6094=2247%:%
%:%6095=2247%:%
%:%6096=2248%:%
%:%6097=2248%:%
%:%6098=2249%:%
%:%6099=2249%:%
%:%6100=2250%:%
%:%6101=2250%:%
%:%6102=2251%:%
%:%6103=2251%:%
%:%6104=2252%:%
%:%6105=2252%:%
%:%6106=2253%:%
%:%6107=2253%:%
%:%6108=2254%:%
%:%6109=2254%:%
%:%6110=2255%:%
%:%6111=2255%:%
%:%6112=2256%:%
%:%6113=2256%:%
%:%6114=2257%:%
%:%6115=2257%:%
%:%6116=2258%:%
%:%6117=2258%:%
%:%6118=2259%:%
%:%6119=2259%:%
%:%6120=2260%:%
%:%6121=2260%:%
%:%6122=2261%:%
%:%6123=2261%:%
%:%6124=2262%:%
%:%6125=2262%:%
%:%6126=2263%:%
%:%6127=2263%:%
%:%6128=2264%:%
%:%6129=2264%:%
%:%6130=2265%:%
%:%6131=2265%:%
%:%6132=2266%:%
%:%6133=2266%:%
%:%6134=2267%:%
%:%6135=2267%:%
%:%6136=2268%:%
%:%6137=2268%:%
%:%6138=2269%:%
%:%6139=2269%:%
%:%6140=2270%:%
%:%6141=2270%:%
%:%6142=2271%:%
%:%6143=2271%:%
%:%6144=2272%:%
%:%6145=2272%:%
%:%6146=2273%:%
%:%6147=2273%:%
%:%6148=2274%:%
%:%6149=2275%:%
%:%6150=2276%:%
%:%6151=2276%:%
%:%6152=2277%:%
%:%6153=2277%:%
%:%6154=2278%:%
%:%6155=2278%:%
%:%6156=2279%:%
%:%6157=2279%:%
%:%6158=2280%:%
%:%6159=2280%:%
%:%6160=2281%:%
%:%6161=2281%:%
%:%6162=2282%:%
%:%6163=2282%:%
%:%6164=2283%:%
%:%6165=2283%:%
%:%6166=2284%:%
%:%6167=2284%:%
%:%6168=2285%:%
%:%6169=2285%:%
%:%6170=2286%:%
%:%6171=2286%:%
%:%6172=2287%:%
%:%6173=2287%:%
%:%6174=2288%:%
%:%6175=2288%:%
%:%6176=2289%:%
%:%6177=2289%:%
%:%6178=2290%:%
%:%6179=2290%:%
%:%6180=2291%:%
%:%6181=2291%:%
%:%6182=2292%:%
%:%6183=2292%:%
%:%6184=2293%:%
%:%6185=2293%:%
%:%6186=2294%:%
%:%6187=2294%:%
%:%6188=2295%:%
%:%6189=2295%:%
%:%6190=2296%:%
%:%6191=2296%:%
%:%6192=2297%:%
%:%6193=2297%:%
%:%6194=2298%:%
%:%6195=2298%:%
%:%6196=2299%:%
%:%6197=2299%:%
%:%6198=2300%:%
%:%6199=2300%:%
%:%6200=2301%:%
%:%6201=2301%:%
%:%6202=2302%:%
%:%6203=2302%:%
%:%6204=2303%:%
%:%6205=2303%:%
%:%6206=2304%:%
%:%6207=2304%:%
%:%6208=2305%:%
%:%6209=2305%:%
%:%6210=2306%:%
%:%6211=2306%:%
%:%6212=2307%:%
%:%6213=2307%:%
%:%6214=2308%:%
%:%6215=2308%:%
%:%6216=2309%:%
%:%6217=2309%:%
%:%6218=2310%:%
%:%6219=2310%:%
%:%6220=2311%:%
%:%6221=2311%:%
%:%6222=2311%:%
%:%6223=2312%:%
%:%6224=2312%:%
%:%6225=2313%:%
%:%6226=2313%:%
%:%6227=2314%:%
%:%6228=2314%:%
%:%6229=2315%:%
%:%6230=2315%:%
%:%6231=2316%:%
%:%6232=2316%:%
%:%6233=2317%:%
%:%6234=2317%:%
%:%6235=2318%:%
%:%6236=2318%:%
%:%6237=2319%:%
%:%6243=2319%:%
%:%6246=2320%:%
%:%6247=2321%:%
%:%6248=2321%:%
%:%6249=2322%:%
%:%6250=2323%:%
%:%6255=2328%:%
%:%6262=2329%:%
%:%6263=2329%:%
%:%6264=2330%:%
%:%6265=2331%:%
%:%6266=2331%:%
%:%6267=2332%:%
%:%6268=2332%:%
%:%6269=2333%:%
%:%6270=2333%:%
%:%6271=2334%:%
%:%6272=2334%:%
%:%6273=2335%:%
%:%6274=2335%:%
%:%6275=2336%:%
%:%6276=2336%:%
%:%6277=2337%:%
%:%6278=2337%:%
%:%6279=2338%:%
%:%6280=2338%:%
%:%6281=2339%:%
%:%6282=2339%:%
%:%6283=2340%:%
%:%6284=2340%:%
%:%6285=2341%:%
%:%6286=2341%:%
%:%6287=2342%:%
%:%6288=2342%:%
%:%6289=2343%:%
%:%6290=2343%:%
%:%6291=2344%:%
%:%6292=2344%:%
%:%6293=2345%:%
%:%6294=2345%:%
%:%6295=2346%:%
%:%6296=2346%:%
%:%6297=2347%:%
%:%6298=2347%:%
%:%6299=2348%:%
%:%6300=2348%:%
%:%6301=2349%:%
%:%6302=2349%:%
%:%6303=2350%:%
%:%6304=2350%:%
%:%6305=2351%:%
%:%6306=2351%:%
%:%6307=2352%:%
%:%6308=2352%:%
%:%6309=2353%:%
%:%6310=2353%:%
%:%6311=2354%:%
%:%6312=2354%:%
%:%6313=2355%:%
%:%6314=2355%:%
%:%6315=2356%:%
%:%6316=2356%:%
%:%6317=2357%:%
%:%6318=2357%:%
%:%6319=2357%:%
%:%6320=2358%:%
%:%6321=2358%:%
%:%6322=2359%:%
%:%6323=2359%:%
%:%6324=2360%:%
%:%6325=2360%:%
%:%6326=2361%:%
%:%6327=2361%:%
%:%6328=2362%:%
%:%6329=2362%:%
%:%6330=2363%:%
%:%6331=2363%:%
%:%6332=2364%:%
%:%6333=2364%:%
%:%6334=2365%:%
%:%6335=2365%:%
%:%6336=2366%:%
%:%6337=2366%:%
%:%6338=2367%:%
%:%6339=2367%:%
%:%6340=2368%:%
%:%6341=2368%:%
%:%6342=2369%:%
%:%6343=2369%:%
%:%6344=2370%:%
%:%6345=2370%:%
%:%6346=2371%:%
%:%6347=2371%:%
%:%6348=2372%:%
%:%6349=2372%:%
%:%6350=2373%:%
%:%6351=2373%:%
%:%6352=2374%:%
%:%6353=2374%:%
%:%6354=2375%:%
%:%6355=2375%:%
%:%6356=2376%:%
%:%6357=2376%:%
%:%6358=2377%:%
%:%6359=2377%:%
%:%6360=2378%:%
%:%6361=2379%:%
%:%6362=2379%:%
%:%6363=2380%:%
%:%6364=2380%:%
%:%6365=2381%:%
%:%6366=2381%:%
%:%6367=2382%:%
%:%6368=2382%:%
%:%6369=2383%:%
%:%6370=2383%:%
%:%6371=2384%:%
%:%6372=2384%:%
%:%6373=2385%:%
%:%6374=2385%:%
%:%6375=2386%:%
%:%6376=2386%:%
%:%6377=2387%:%
%:%6378=2387%:%
%:%6379=2388%:%
%:%6380=2388%:%
%:%6381=2389%:%
%:%6382=2390%:%
%:%6383=2390%:%
%:%6384=2391%:%
%:%6385=2391%:%
%:%6386=2392%:%
%:%6387=2392%:%
%:%6388=2393%:%
%:%6389=2393%:%
%:%6390=2394%:%
%:%6391=2394%:%
%:%6392=2395%:%
%:%6393=2395%:%
%:%6394=2396%:%
%:%6395=2396%:%
%:%6396=2397%:%
%:%6397=2397%:%
%:%6398=2398%:%
%:%6399=2398%:%
%:%6400=2399%:%
%:%6401=2399%:%
%:%6402=2400%:%
%:%6403=2400%:%
%:%6404=2401%:%
%:%6405=2401%:%
%:%6406=2402%:%
%:%6407=2402%:%
%:%6408=2403%:%
%:%6409=2403%:%
%:%6410=2404%:%
%:%6411=2404%:%
%:%6412=2405%:%
%:%6413=2405%:%
%:%6414=2406%:%
%:%6415=2407%:%
%:%6416=2407%:%
%:%6417=2408%:%
%:%6418=2408%:%
%:%6419=2409%:%
%:%6420=2409%:%
%:%6421=2410%:%
%:%6422=2410%:%
%:%6423=2411%:%
%:%6424=2411%:%
%:%6425=2411%:%
%:%6426=2412%:%
%:%6427=2412%:%
%:%6428=2413%:%
%:%6429=2413%:%
%:%6430=2414%:%
%:%6431=2414%:%
%:%6432=2415%:%
%:%6433=2415%:%
%:%6434=2416%:%
%:%6435=2416%:%
%:%6436=2417%:%
%:%6437=2417%:%
%:%6438=2418%:%
%:%6439=2418%:%
%:%6440=2419%:%
%:%6441=2419%:%
%:%6442=2420%:%
%:%6443=2420%:%
%:%6444=2421%:%
%:%6445=2421%:%
%:%6446=2422%:%
%:%6447=2422%:%
%:%6448=2423%:%
%:%6449=2423%:%
%:%6450=2424%:%
%:%6451=2424%:%
%:%6452=2425%:%
%:%6453=2425%:%
%:%6454=2426%:%
%:%6455=2426%:%
%:%6456=2427%:%
%:%6457=2427%:%
%:%6458=2428%:%
%:%6459=2428%:%
%:%6460=2429%:%
%:%6461=2430%:%
%:%6462=2430%:%
%:%6463=2431%:%
%:%6464=2431%:%
%:%6465=2432%:%
%:%6466=2432%:%
%:%6467=2433%:%
%:%6468=2433%:%
%:%6469=2434%:%
%:%6470=2434%:%
%:%6471=2435%:%
%:%6472=2435%:%
%:%6473=2436%:%
%:%6474=2436%:%
%:%6475=2437%:%
%:%6476=2437%:%
%:%6477=2438%:%
%:%6478=2438%:%
%:%6479=2439%:%
%:%6480=2439%:%
%:%6481=2440%:%
%:%6482=2440%:%
%:%6483=2441%:%
%:%6484=2442%:%
%:%6485=2442%:%
%:%6486=2443%:%
%:%6487=2443%:%
%:%6488=2444%:%
%:%6489=2444%:%
%:%6490=2444%:%
%:%6491=2445%:%
%:%6492=2445%:%
%:%6493=2446%:%
%:%6494=2446%:%
%:%6495=2447%:%
%:%6496=2447%:%
%:%6497=2448%:%
%:%6498=2448%:%
%:%6499=2449%:%
%:%6500=2449%:%
%:%6501=2450%:%
%:%6502=2450%:%
%:%6503=2451%:%
%:%6504=2451%:%
%:%6505=2452%:%
%:%6506=2452%:%
%:%6507=2453%:%
%:%6508=2453%:%
%:%6509=2454%:%
%:%6510=2454%:%
%:%6511=2455%:%
%:%6512=2455%:%
%:%6513=2456%:%
%:%6514=2456%:%
%:%6515=2457%:%
%:%6516=2457%:%
%:%6517=2458%:%
%:%6518=2459%:%
%:%6519=2459%:%
%:%6520=2460%:%
%:%6521=2460%:%
%:%6522=2461%:%
%:%6523=2461%:%
%:%6524=2462%:%
%:%6525=2462%:%
%:%6526=2463%:%
%:%6527=2463%:%
%:%6528=2464%:%
%:%6529=2464%:%
%:%6530=2465%:%
%:%6531=2465%:%
%:%6532=2466%:%
%:%6533=2466%:%
%:%6534=2467%:%
%:%6535=2467%:%
%:%6536=2468%:%
%:%6537=2468%:%
%:%6538=2469%:%
%:%6539=2469%:%
%:%6540=2470%:%
%:%6541=2470%:%
%:%6542=2471%:%
%:%6543=2472%:%
%:%6544=2472%:%
%:%6545=2473%:%
%:%6546=2473%:%
%:%6547=2474%:%
%:%6548=2474%:%
%:%6549=2475%:%
%:%6550=2475%:%
%:%6551=2476%:%
%:%6552=2476%:%
%:%6553=2477%:%
%:%6554=2477%:%
%:%6555=2478%:%
%:%6556=2478%:%
%:%6557=2479%:%
%:%6558=2479%:%
%:%6559=2480%:%
%:%6560=2480%:%
%:%6561=2481%:%
%:%6562=2481%:%
%:%6563=2482%:%
%:%6564=2482%:%
%:%6565=2483%:%
%:%6566=2483%:%
%:%6567=2484%:%
%:%6568=2484%:%
%:%6569=2485%:%
%:%6570=2485%:%
%:%6571=2486%:%
%:%6572=2486%:%
%:%6573=2487%:%
%:%6574=2487%:%
%:%6575=2488%:%
%:%6576=2488%:%
%:%6577=2489%:%
%:%6578=2489%:%
%:%6579=2490%:%
%:%6580=2490%:%
%:%6581=2491%:%
%:%6582=2491%:%
%:%6587=2491%:%
%:%6590=2492%:%
%:%6591=2493%:%
%:%6592=2493%:%
%:%6593=2494%:%
%:%6594=2495%:%
%:%6595=2496%:%
%:%6596=2496%:%
%:%6597=2497%:%
%:%6598=2498%:%
%:%6601=2499%:%
%:%6605=2499%:%
%:%6606=2499%:%
%:%6607=2500%:%
%:%6608=2501%:%
%:%6609=2502%:%
%:%6610=2503%:%
%:%6611=2504%:%
%:%6612=2504%:%
%:%6617=2504%:%
%:%6620=2505%:%
%:%6621=2506%:%
%:%6622=2506%:%
%:%6623=2507%:%
%:%6624=2508%:%
%:%6627=2509%:%
%:%6631=2509%:%
%:%6632=2509%:%
%:%6633=2510%:%
%:%6634=2511%:%
%:%6635=2512%:%
%:%6636=2513%:%
%:%6637=2514%:%
%:%6638=2514%:%
%:%6639=2515%:%
%:%6640=2515%:%
%:%6645=2515%:%
%:%6648=2516%:%
%:%6649=2517%:%
%:%6650=2517%:%
%:%6653=2518%:%
%:%6657=2518%:%
%:%6658=2518%:%
%:%6659=2519%:%
%:%6660=2520%:%
%:%6661=2520%:%
%:%6666=2520%:%
%:%6669=2521%:%
%:%6670=2522%:%
%:%6671=2522%:%
%:%6672=2523%:%
%:%6673=2524%:%
%:%6674=2525%:%
%:%6675=2526%:%
%:%6682=2527%:%
%:%6683=2527%:%
%:%6684=2528%:%
%:%6685=2528%:%
%:%6686=2529%:%
%:%6687=2529%:%
%:%6688=2530%:%
%:%6689=2530%:%
%:%6690=2530%:%
%:%6691=2531%:%
%:%6692=2532%:%
%:%6693=2532%:%
%:%6694=2533%:%
%:%6695=2533%:%
%:%6696=2534%:%
%:%6697=2534%:%
%:%6698=2535%:%
%:%6699=2535%:%
%:%6700=2536%:%
%:%6701=2536%:%
%:%6702=2537%:%
%:%6703=2537%:%
%:%6704=2538%:%
%:%6705=2538%:%
%:%6706=2539%:%
%:%6707=2539%:%
%:%6708=2540%:%
%:%6709=2540%:%
%:%6710=2541%:%
%:%6711=2541%:%
%:%6712=2542%:%
%:%6713=2543%:%
%:%6714=2543%:%
%:%6715=2544%:%
%:%6716=2544%:%
%:%6717=2545%:%
%:%6718=2545%:%
%:%6719=2546%:%
%:%6720=2546%:%
%:%6721=2547%:%
%:%6722=2547%:%
%:%6723=2548%:%
%:%6724=2548%:%
%:%6725=2548%:%
%:%6726=2549%:%
%:%6727=2549%:%
%:%6728=2550%:%
%:%6729=2550%:%
%:%6730=2551%:%
%:%6731=2551%:%
%:%6732=2552%:%
%:%6733=2552%:%
%:%6734=2553%:%
%:%6735=2553%:%
%:%6736=2554%:%
%:%6737=2554%:%
%:%6738=2555%:%
%:%6739=2555%:%
%:%6740=2556%:%
%:%6741=2556%:%
%:%6742=2557%:%
%:%6743=2557%:%
%:%6744=2558%:%
%:%6745=2558%:%
%:%6746=2559%:%
%:%6747=2559%:%
%:%6748=2560%:%
%:%6749=2560%:%
%:%6750=2560%:%
%:%6751=2561%:%
%:%6752=2561%:%
%:%6753=2562%:%
%:%6754=2562%:%
%:%6755=2563%:%
%:%6756=2564%:%
%:%6757=2564%:%
%:%6758=2565%:%
%:%6764=2565%:%
%:%6767=2566%:%
%:%6768=2567%:%
%:%6769=2567%:%
%:%6770=2568%:%
%:%6771=2569%:%
%:%6772=2569%:%
%:%6775=2570%:%
%:%6779=2570%:%
%:%6780=2570%:%
%:%6785=2570%:%
%:%6788=2571%:%
%:%6789=2572%:%
%:%6790=2572%:%
%:%6791=2573%:%
%:%6792=2574%:%
%:%6793=2575%:%
%:%6794=2576%:%
%:%6795=2576%:%
%:%6796=2577%:%
%:%6797=2578%:%
%:%6798=2579%:%
%:%6799=2579%:%
%:%6800=2580%:%
%:%6807=2587%:%
%:%6808=2588%:%
%:%6809=2589%:%
%:%6810=2589%:%
%:%6811=2590%:%
%:%6812=2591%:%
%:%6813=2592%:%
%:%6814=2592%:%
%:%6820=2598%:%
%:%6821=2599%:%
%:%6822=2600%:%
%:%6823=2600%:%
%:%6824=2601%:%
%:%6825=2602%:%
%:%6826=2602%:%
%:%6827=2603%:%
%:%6828=2604%:%
%:%6829=2605%:%
%:%6830=2606%:%
%:%6831=2607%:%
%:%6832=2607%:%
%:%6833=2608%:%
%:%6834=2609%:%
%:%6843=2618%:%
%:%6844=2619%:%
%:%6845=2620%:%
%:%6846=2620%:%
%:%6847=2621%:%
%:%6848=2622%:%
%:%6853=2627%:%
%:%6854=2628%:%
%:%6855=2629%:%
%:%6856=2629%:%
%:%6857=2630%:%
%:%6858=2631%:%
%:%6864=2637%:%
%:%6865=2638%:%
%:%6866=2639%:%
%:%6867=2639%:%
%:%6868=2640%:%
%:%6870=2642%:%
%:%6871=2643%:%
%:%6872=2644%:%
%:%6873=2644%:%
%:%6874=2645%:%
%:%6878=2649%:%
%:%6879=2650%:%
%:%6880=2651%:%
%:%6881=2651%:%
%:%6882=2652%:%
%:%6883=2653%:%
%:%6890=2654%:%
%:%6891=2654%:%
%:%6892=2655%:%
%:%6893=2655%:%
%:%6894=2656%:%
%:%6895=2656%:%
%:%6896=2657%:%
%:%6897=2657%:%
%:%6898=2658%:%
%:%6899=2658%:%
%:%6900=2659%:%
%:%6901=2659%:%
%:%6902=2660%:%
%:%6903=2660%:%
%:%6904=2661%:%
%:%6910=2661%:%
%:%6913=2662%:%
%:%6914=2663%:%
%:%6915=2663%:%
%:%6916=2664%:%
%:%6917=2665%:%
%:%6924=2666%:%
%:%6925=2666%:%
%:%6926=2667%:%
%:%6927=2667%:%
%:%6928=2668%:%
%:%6929=2668%:%
%:%6930=2669%:%
%:%6931=2669%:%
%:%6932=2670%:%
%:%6933=2670%:%
%:%6934=2671%:%
%:%6935=2671%:%
%:%6936=2672%:%
%:%6937=2672%:%
%:%6938=2673%:%
%:%6944=2673%:%
%:%6947=2674%:%
%:%6948=2675%:%
%:%6949=2675%:%
%:%6950=2676%:%
%:%6953=2677%:%
%:%6957=2677%:%
%:%6958=2677%:%
%:%6963=2677%:%
%:%6966=2678%:%
%:%6967=2679%:%
%:%6968=2679%:%
%:%6969=2680%:%
%:%6970=2681%:%
%:%6977=2682%:%
%:%6978=2682%:%
%:%6979=2683%:%
%:%6980=2683%:%
%:%6981=2684%:%
%:%6982=2684%:%
%:%6983=2685%:%
%:%6984=2685%:%
%:%6985=2686%:%
%:%6986=2686%:%
%:%6987=2687%:%
%:%6988=2687%:%
%:%6989=2688%:%
%:%6990=2688%:%
%:%6991=2689%:%
%:%6992=2689%:%
%:%6993=2690%:%
%:%6994=2690%:%
%:%6995=2691%:%
%:%7001=2691%:%
%:%7004=2692%:%
%:%7005=2693%:%
%:%7006=2693%:%
%:%7009=2694%:%
%:%7013=2694%:%
%:%7014=2694%:%
%:%7019=2694%:%
%:%7022=2695%:%
%:%7023=2696%:%
%:%7024=2696%:%
%:%7025=2697%:%
%:%7026=2698%:%
%:%7033=2699%:%
%:%7034=2699%:%
%:%7035=2700%:%
%:%7036=2700%:%
%:%7037=2701%:%
%:%7038=2701%:%
%:%7039=2702%:%
%:%7040=2702%:%
%:%7041=2703%:%
%:%7042=2703%:%
%:%7043=2703%:%
%:%7044=2704%:%
%:%7045=2704%:%
%:%7046=2705%:%
%:%7047=2705%:%
%:%7048=2706%:%
%:%7054=2706%:%
%:%7057=2707%:%
%:%7058=2708%:%
%:%7059=2708%:%
%:%7060=2709%:%
%:%7061=2710%:%
%:%7062=2711%:%
%:%7063=2712%:%
%:%7064=2713%:%
%:%7066=2715%:%
%:%7067=2716%:%
%:%7068=2717%:%
%:%7075=2718%:%
%:%7076=2718%:%
%:%7077=2719%:%
%:%7078=2719%:%
%:%7079=2720%:%
%:%7080=2720%:%
%:%7081=2721%:%
%:%7082=2721%:%
%:%7083=2722%:%
%:%7084=2722%:%
%:%7085=2723%:%
%:%7086=2723%:%
%:%7087=2724%:%
%:%7088=2724%:%
%:%7089=2725%:%
%:%7090=2725%:%
%:%7091=2726%:%
%:%7092=2726%:%
%:%7093=2727%:%
%:%7094=2727%:%
%:%7095=2728%:%
%:%7096=2728%:%
%:%7097=2729%:%
%:%7098=2729%:%
%:%7099=2730%:%
%:%7100=2730%:%
%:%7101=2731%:%
%:%7102=2732%:%
%:%7103=2732%:%
%:%7104=2733%:%
%:%7105=2733%:%
%:%7106=2734%:%
%:%7107=2734%:%
%:%7108=2735%:%
%:%7109=2735%:%
%:%7110=2736%:%
%:%7111=2737%:%
%:%7112=2738%:%
%:%7113=2739%:%
%:%7114=2739%:%
%:%7115=2739%:%
%:%7116=2740%:%
%:%7117=2741%:%
%:%7118=2742%:%
%:%7119=2743%:%
%:%7120=2743%:%
%:%7121=2744%:%
%:%7122=2744%:%
%:%7123=2745%:%
%:%7124=2745%:%
%:%7125=2746%:%
%:%7126=2746%:%
%:%7127=2747%:%
%:%7128=2747%:%
%:%7129=2748%:%
%:%7130=2749%:%
%:%7131=2750%:%
%:%7132=2751%:%
%:%7133=2751%:%
%:%7134=2752%:%
%:%7135=2752%:%
%:%7136=2753%:%
%:%7137=2754%:%
%:%7138=2754%:%
%:%7139=2755%:%
%:%7140=2755%:%
%:%7141=2756%:%
%:%7142=2756%:%
%:%7143=2757%:%
%:%7144=2757%:%
%:%7145=2758%:%
%:%7146=2758%:%
%:%7147=2759%:%
%:%7148=2759%:%
%:%7149=2760%:%
%:%7150=2760%:%
%:%7151=2761%:%
%:%7152=2761%:%
%:%7153=2762%:%
%:%7154=2762%:%
%:%7155=2763%:%
%:%7156=2763%:%
%:%7157=2764%:%
%:%7158=2764%:%
%:%7159=2765%:%
%:%7160=2765%:%
%:%7161=2766%:%
%:%7162=2766%:%
%:%7163=2767%:%
%:%7164=2767%:%
%:%7165=2768%:%
%:%7166=2768%:%
%:%7167=2769%:%
%:%7168=2769%:%
%:%7169=2770%:%
%:%7170=2770%:%
%:%7171=2771%:%
%:%7172=2771%:%
%:%7173=2772%:%
%:%7174=2772%:%
%:%7175=2773%:%
%:%7176=2773%:%
%:%7177=2774%:%
%:%7178=2774%:%
%:%7179=2775%:%
%:%7180=2775%:%
%:%7181=2776%:%
%:%7182=2776%:%
%:%7183=2777%:%
%:%7184=2777%:%
%:%7185=2778%:%
%:%7186=2779%:%
%:%7187=2779%:%
%:%7188=2780%:%
%:%7189=2780%:%
%:%7190=2781%:%
%:%7191=2781%:%
%:%7192=2782%:%
%:%7193=2782%:%
%:%7194=2783%:%
%:%7195=2784%:%
%:%7196=2784%:%
%:%7197=2785%:%
%:%7198=2785%:%
%:%7199=2786%:%
%:%7200=2786%:%
%:%7201=2787%:%
%:%7202=2787%:%
%:%7203=2788%:%
%:%7204=2788%:%
%:%7205=2788%:%
%:%7206=2789%:%
%:%7207=2789%:%
%:%7208=2790%:%
%:%7209=2790%:%
%:%7210=2791%:%
%:%7211=2791%:%
%:%7212=2792%:%
%:%7213=2792%:%
%:%7214=2793%:%
%:%7215=2793%:%
%:%7216=2794%:%
%:%7217=2794%:%
%:%7218=2795%:%
%:%7219=2795%:%
%:%7220=2795%:%
%:%7221=2796%:%
%:%7222=2796%:%
%:%7223=2797%:%
%:%7224=2797%:%
%:%7225=2798%:%
%:%7226=2798%:%
%:%7227=2799%:%
%:%7228=2800%:%
%:%7229=2800%:%
%:%7230=2801%:%
%:%7231=2801%:%
%:%7232=2802%:%
%:%7233=2802%:%
%:%7234=2803%:%
%:%7235=2803%:%
%:%7236=2804%:%
%:%7237=2804%:%
%:%7238=2805%:%
%:%7239=2805%:%
%:%7240=2806%:%
%:%7241=2806%:%
%:%7242=2806%:%
%:%7243=2807%:%
%:%7244=2807%:%
%:%7245=2808%:%
%:%7246=2808%:%
%:%7247=2809%:%
%:%7248=2809%:%
%:%7249=2810%:%
%:%7250=2810%:%
%:%7251=2810%:%
%:%7252=2811%:%
%:%7253=2811%:%
%:%7254=2812%:%
%:%7255=2812%:%
%:%7256=2813%:%
%:%7257=2813%:%
%:%7258=2814%:%
%:%7259=2814%:%
%:%7260=2815%:%
%:%7261=2815%:%
%:%7262=2816%:%
%:%7263=2816%:%
%:%7264=2817%:%
%:%7265=2817%:%
%:%7266=2818%:%
%:%7267=2818%:%
%:%7268=2819%:%
%:%7269=2819%:%
%:%7270=2820%:%
%:%7271=2820%:%
%:%7272=2821%:%
%:%7273=2821%:%
%:%7274=2822%:%
%:%7275=2822%:%
%:%7276=2823%:%
%:%7277=2823%:%
%:%7278=2824%:%
%:%7279=2824%:%
%:%7280=2825%:%
%:%7281=2825%:%
%:%7282=2826%:%
%:%7283=2826%:%
%:%7284=2827%:%
%:%7285=2827%:%
%:%7286=2828%:%
%:%7287=2828%:%
%:%7288=2829%:%
%:%7289=2829%:%
%:%7290=2830%:%
%:%7291=2830%:%
%:%7292=2831%:%
%:%7293=2831%:%
%:%7294=2832%:%
%:%7295=2832%:%
%:%7296=2833%:%
%:%7297=2833%:%
%:%7298=2834%:%
%:%7299=2834%:%
%:%7300=2835%:%
%:%7301=2835%:%
%:%7302=2836%:%
%:%7303=2836%:%
%:%7304=2837%:%
%:%7305=2837%:%
%:%7306=2838%:%
%:%7307=2838%:%
%:%7308=2839%:%
%:%7309=2839%:%
%:%7310=2840%:%
%:%7311=2841%:%
%:%7312=2841%:%
%:%7313=2842%:%
%:%7314=2842%:%
%:%7315=2843%:%
%:%7316=2843%:%
%:%7317=2844%:%
%:%7318=2844%:%
%:%7319=2845%:%
%:%7320=2845%:%
%:%7321=2846%:%
%:%7322=2846%:%
%:%7323=2847%:%
%:%7324=2847%:%
%:%7325=2848%:%
%:%7326=2848%:%
%:%7327=2849%:%
%:%7328=2849%:%
%:%7329=2849%:%
%:%7330=2850%:%
%:%7331=2850%:%
%:%7332=2851%:%
%:%7333=2851%:%
%:%7334=2852%:%
%:%7335=2852%:%
%:%7336=2853%:%
%:%7337=2853%:%
%:%7338=2854%:%
%:%7339=2854%:%
%:%7340=2855%:%
%:%7341=2855%:%
%:%7342=2856%:%
%:%7343=2856%:%
%:%7344=2857%:%
%:%7345=2857%:%
%:%7346=2858%:%
%:%7347=2858%:%
%:%7348=2859%:%
%:%7349=2859%:%
%:%7350=2859%:%
%:%7351=2860%:%
%:%7352=2860%:%
%:%7353=2861%:%
%:%7354=2861%:%
%:%7355=2862%:%
%:%7356=2862%:%
%:%7357=2863%:%
%:%7358=2863%:%
%:%7359=2864%:%
%:%7360=2864%:%
%:%7361=2865%:%
%:%7362=2865%:%
%:%7363=2866%:%
%:%7364=2866%:%
%:%7365=2867%:%
%:%7366=2867%:%
%:%7367=2867%:%
%:%7368=2868%:%
%:%7369=2868%:%
%:%7370=2869%:%
%:%7371=2869%:%
%:%7372=2870%:%
%:%7373=2870%:%
%:%7374=2871%:%
%:%7375=2871%:%
%:%7376=2872%:%
%:%7377=2872%:%
%:%7378=2873%:%
%:%7379=2873%:%
%:%7380=2874%:%
%:%7381=2874%:%
%:%7382=2875%:%
%:%7383=2875%:%
%:%7384=2876%:%
%:%7385=2876%:%
%:%7386=2876%:%
%:%7387=2877%:%
%:%7388=2877%:%
%:%7389=2878%:%
%:%7390=2878%:%
%:%7391=2879%:%
%:%7392=2879%:%
%:%7393=2880%:%
%:%7394=2880%:%
%:%7395=2881%:%
%:%7396=2881%:%
%:%7397=2882%:%
%:%7398=2882%:%
%:%7399=2883%:%
%:%7400=2883%:%
%:%7401=2884%:%
%:%7402=2884%:%
%:%7403=2885%:%
%:%7404=2885%:%
%:%7405=2886%:%
%:%7406=2886%:%
%:%7407=2887%:%
%:%7408=2887%:%
%:%7409=2888%:%
%:%7410=2888%:%
%:%7411=2888%:%
%:%7412=2889%:%
%:%7413=2889%:%
%:%7414=2890%:%
%:%7415=2891%:%
%:%7421=2891%:%
%:%7424=2892%:%
%:%7425=2893%:%
%:%7426=2893%:%
%:%7427=2894%:%
%:%7428=2895%:%
%:%7429=2896%:%
%:%7430=2897%:%
%:%7431=2898%:%
%:%7432=2899%:%
%:%7433=2900%:%
%:%7440=2901%:%
%:%7441=2901%:%
%:%7442=2902%:%
%:%7443=2902%:%
%:%7444=2903%:%
%:%7445=2903%:%
%:%7446=2904%:%
%:%7447=2904%:%
%:%7448=2905%:%
%:%7449=2905%:%
%:%7450=2906%:%
%:%7451=2906%:%
%:%7452=2907%:%
%:%7453=2907%:%
%:%7454=2908%:%
%:%7460=2908%:%
%:%7463=2909%:%
%:%7464=2910%:%
%:%7465=2910%:%
%:%7466=2911%:%
%:%7467=2912%:%
%:%7468=2913%:%
%:%7469=2914%:%
%:%7470=2915%:%
%:%7472=2917%:%
%:%7473=2918%:%
%:%7476=2919%:%
%:%7480=2919%:%
%:%7481=2919%:%
%:%7482=2920%:%
%:%7483=2920%:%
%:%7488=2920%:%
%:%7491=2921%:%
%:%7492=2922%:%
%:%7493=2922%:%
%:%7494=2923%:%
%:%7495=2924%:%
%:%7496=2925%:%
%:%7497=2926%:%
%:%7498=2927%:%
%:%7499=2928%:%
%:%7506=2929%:%
%:%7507=2929%:%
%:%7508=2930%:%
%:%7509=2930%:%
%:%7510=2931%:%
%:%7511=2931%:%
%:%7512=2932%:%
%:%7513=2932%:%
%:%7514=2933%:%
%:%7515=2933%:%
%:%7516=2934%:%
%:%7517=2934%:%
%:%7518=2935%:%
%:%7519=2935%:%
%:%7520=2936%:%
%:%7526=2936%:%
%:%7529=2937%:%
%:%7530=2938%:%
%:%7531=2938%:%
%:%7532=2939%:%
%:%7533=2940%:%
%:%7536=2941%:%
%:%7540=2941%:%
%:%7541=2941%:%
%:%7542=2942%:%
%:%7543=2942%:%
%:%7544=2943%:%
%:%7545=2943%:%
%:%7546=2944%:%
%:%7547=2944%:%
%:%7548=2944%:%
%:%7549=2945%:%
%:%7550=2945%:%
%:%7551=2946%:%
%:%7552=2946%:%
%:%7553=2947%:%
%:%7554=2947%:%
%:%7555=2948%:%
%:%7556=2948%:%
%:%7557=2949%:%
%:%7558=2949%:%
%:%7559=2950%:%
%:%7560=2950%:%
%:%7561=2951%:%
%:%7562=2951%:%
%:%7563=2952%:%
%:%7564=2952%:%
%:%7565=2953%:%
%:%7566=2953%:%
%:%7567=2954%:%
%:%7568=2954%:%
%:%7569=2955%:%
%:%7570=2955%:%
%:%7571=2956%:%
%:%7572=2956%:%
%:%7573=2956%:%
%:%7574=2957%:%
%:%7575=2957%:%
%:%7576=2958%:%
%:%7577=2958%:%
%:%7578=2959%:%
%:%7579=2959%:%
%:%7580=2960%:%
%:%7581=2960%:%
%:%7582=2961%:%
%:%7583=2961%:%
%:%7584=2961%:%
%:%7585=2962%:%
%:%7586=2962%:%
%:%7587=2963%:%
%:%7588=2963%:%
%:%7589=2964%:%
%:%7590=2964%:%
%:%7591=2965%:%
%:%7592=2965%:%
%:%7593=2966%:%
%:%7594=2966%:%
%:%7599=2966%:%
%:%7602=2967%:%
%:%7603=2968%:%
%:%7604=2968%:%
%:%7605=2969%:%
%:%7606=2970%:%
%:%7607=2971%:%
%:%7610=2972%:%
%:%7614=2972%:%
%:%7615=2972%:%
%:%7616=2973%:%
%:%7617=2973%:%
%:%7618=2974%:%
%:%7619=2974%:%
%:%7620=2975%:%
%:%7621=2975%:%
%:%7622=2976%:%
%:%7623=2976%:%
%:%7624=2977%:%
%:%7625=2977%:%
%:%7626=2978%:%
%:%7627=2978%:%
%:%7628=2979%:%
%:%7629=2979%:%
%:%7630=2980%:%
%:%7631=2980%:%
%:%7632=2981%:%
%:%7633=2981%:%
%:%7634=2982%:%
%:%7635=2982%:%
%:%7636=2983%:%
%:%7637=2983%:%
%:%7638=2984%:%
%:%7639=2984%:%
%:%7640=2985%:%
%:%7641=2985%:%
%:%7642=2986%:%
%:%7643=2986%:%
%:%7644=2987%:%
%:%7645=2987%:%
%:%7646=2988%:%
%:%7647=2988%:%
%:%7648=2989%:%
%:%7649=2989%:%
%:%7650=2990%:%
%:%7651=2990%:%
%:%7652=2991%:%
%:%7653=2991%:%
%:%7654=2992%:%
%:%7655=2992%:%
%:%7656=2993%:%
%:%7657=2993%:%
%:%7662=2993%:%
%:%7665=2994%:%
%:%7666=2995%:%
%:%7667=2995%:%
%:%7668=2996%:%
%:%7669=2997%:%
%:%7670=2998%:%
%:%7671=2999%:%
%:%7672=3000%:%
%:%7673=3001%:%
%:%7674=3002%:%
%:%7675=3003%:%
%:%7676=3004%:%
%:%7677=3005%:%
%:%7678=3006%:%
%:%7679=3007%:%
%:%7680=3008%:%
%:%7681=3009%:%
%:%7682=3010%:%
%:%7683=3011%:%
%:%7684=3012%:%
%:%7685=3013%:%
%:%7687=3015%:%
%:%7688=3016%:%
%:%7689=3017%:%
%:%7690=3018%:%
%:%7697=3019%:%
%:%7698=3019%:%
%:%7699=3020%:%
%:%7700=3020%:%
%:%7701=3021%:%
%:%7702=3021%:%
%:%7703=3022%:%
%:%7704=3022%:%
%:%7705=3023%:%
%:%7706=3023%:%
%:%7707=3024%:%
%:%7708=3024%:%
%:%7709=3025%:%
%:%7710=3025%:%
%:%7711=3026%:%
%:%7712=3026%:%
%:%7713=3027%:%
%:%7714=3027%:%
%:%7715=3028%:%
%:%7716=3028%:%
%:%7717=3029%:%
%:%7718=3030%:%
%:%7719=3031%:%
%:%7720=3031%:%
%:%7721=3032%:%
%:%7722=3032%:%
%:%7723=3033%:%
%:%7724=3034%:%
%:%7725=3034%:%
%:%7726=3035%:%
%:%7727=3035%:%
%:%7728=3035%:%
%:%7729=3036%:%
%:%7730=3037%:%
%:%7731=3038%:%
%:%7732=3038%:%
%:%7733=3039%:%
%:%7734=3039%:%
%:%7735=3040%:%
%:%7736=3040%:%
%:%7737=3041%:%
%:%7738=3041%:%
%:%7739=3042%:%
%:%7740=3042%:%
%:%7741=3043%:%
%:%7742=3043%:%
%:%7743=3044%:%
%:%7744=3044%:%
%:%7745=3045%:%
%:%7746=3045%:%
%:%7747=3046%:%
%:%7748=3046%:%
%:%7749=3047%:%
%:%7750=3047%:%
%:%7751=3048%:%
%:%7752=3048%:%
%:%7753=3049%:%
%:%7754=3049%:%
%:%7755=3050%:%
%:%7756=3050%:%
%:%7757=3051%:%
%:%7758=3051%:%
%:%7759=3052%:%
%:%7760=3052%:%
%:%7761=3053%:%
%:%7762=3053%:%
%:%7763=3054%:%
%:%7764=3054%:%
%:%7765=3055%:%
%:%7766=3056%:%
%:%7767=3056%:%
%:%7768=3057%:%
%:%7769=3057%:%
%:%7770=3058%:%
%:%7771=3059%:%
%:%7772=3059%:%
%:%7773=3059%:%
%:%7774=3060%:%
%:%7775=3060%:%
%:%7776=3061%:%
%:%7777=3061%:%
%:%7778=3062%:%
%:%7779=3063%:%
%:%7780=3063%:%
%:%7781=3064%:%
%:%7782=3064%:%
%:%7783=3065%:%
%:%7784=3065%:%
%:%7785=3066%:%
%:%7786=3066%:%
%:%7787=3067%:%
%:%7788=3067%:%
%:%7789=3068%:%
%:%7790=3068%:%
%:%7791=3069%:%
%:%7792=3069%:%
%:%7793=3070%:%
%:%7794=3070%:%
%:%7795=3071%:%
%:%7796=3071%:%
%:%7797=3072%:%
%:%7798=3072%:%
%:%7799=3073%:%
%:%7800=3073%:%
%:%7801=3074%:%
%:%7802=3074%:%
%:%7803=3075%:%
%:%7804=3075%:%
%:%7805=3076%:%
%:%7806=3076%:%
%:%7807=3077%:%
%:%7808=3077%:%
%:%7809=3078%:%
%:%7810=3078%:%
%:%7811=3079%:%
%:%7812=3079%:%
%:%7813=3080%:%
%:%7814=3081%:%
%:%7815=3081%:%
%:%7816=3082%:%
%:%7817=3082%:%
%:%7818=3083%:%
%:%7819=3084%:%
%:%7820=3084%:%
%:%7822=3086%:%
%:%7823=3087%:%
%:%7824=3087%:%
%:%7825=3088%:%
%:%7826=3088%:%
%:%7827=3089%:%
%:%7828=3089%:%
%:%7829=3090%:%
%:%7830=3090%:%
%:%7831=3091%:%
%:%7832=3091%:%
%:%7833=3092%:%
%:%7834=3092%:%
%:%7835=3093%:%
%:%7836=3093%:%
%:%7837=3094%:%
%:%7838=3094%:%
%:%7839=3095%:%
%:%7840=3095%:%
%:%7841=3096%:%
%:%7842=3096%:%
%:%7843=3097%:%
%:%7844=3097%:%
%:%7846=3099%:%
%:%7847=3100%:%
%:%7848=3100%:%
%:%7849=3101%:%
%:%7850=3101%:%
%:%7851=3102%:%
%:%7852=3102%:%
%:%7853=3103%:%
%:%7854=3104%:%
%:%7855=3104%:%
%:%7856=3105%:%
%:%7857=3105%:%
%:%7858=3106%:%
%:%7859=3106%:%
%:%7860=3107%:%
%:%7866=3107%:%
%:%7869=3108%:%
%:%7870=3109%:%
%:%7871=3109%:%
%:%7872=3110%:%
%:%7873=3111%:%
%:%7874=3112%:%
%:%7875=3113%:%
%:%7876=3114%:%
%:%7877=3115%:%
%:%7878=3116%:%
%:%7879=3117%:%
%:%7880=3118%:%
%:%7881=3119%:%
%:%7882=3120%:%
%:%7883=3121%:%
%:%7884=3122%:%
%:%7885=3123%:%
%:%7886=3124%:%
%:%7887=3125%:%
%:%7888=3126%:%
%:%7889=3127%:%
%:%7890=3128%:%
%:%7891=3129%:%
%:%7892=3130%:%
%:%7893=3131%:%
%:%7894=3132%:%
%:%7895=3133%:%
%:%7897=3135%:%
%:%7898=3136%:%
%:%7899=3137%:%
%:%7906=3138%:%
%:%7907=3138%:%
%:%7908=3139%:%
%:%7909=3139%:%
%:%7910=3140%:%
%:%7911=3140%:%
%:%7912=3141%:%
%:%7913=3141%:%
%:%7914=3142%:%
%:%7915=3142%:%
%:%7916=3143%:%
%:%7917=3143%:%
%:%7918=3144%:%
%:%7919=3144%:%
%:%7920=3145%:%
%:%7921=3146%:%
%:%7922=3146%:%
%:%7923=3147%:%
%:%7924=3147%:%
%:%7925=3148%:%
%:%7926=3149%:%
%:%7927=3150%:%
%:%7928=3150%:%
%:%7929=3150%:%
%:%7930=3151%:%
%:%7931=3152%:%
%:%7932=3152%:%
%:%7933=3153%:%
%:%7934=3153%:%
%:%7935=3154%:%
%:%7936=3155%:%
%:%7937=3155%:%
%:%7938=3156%:%
%:%7939=3156%:%
%:%7940=3157%:%
%:%7941=3157%:%
%:%7942=3157%:%
%:%7943=3158%:%
%:%7944=3159%:%
%:%7945=3160%:%
%:%7946=3160%:%
%:%7947=3161%:%
%:%7948=3161%:%
%:%7949=3162%:%
%:%7950=3162%:%
%:%7951=3163%:%
%:%7952=3163%:%
%:%7953=3164%:%
%:%7954=3164%:%
%:%7955=3165%:%
%:%7956=3165%:%
%:%7957=3166%:%
%:%7958=3166%:%
%:%7959=3167%:%
%:%7960=3167%:%
%:%7961=3168%:%
%:%7962=3168%:%
%:%7963=3169%:%
%:%7964=3169%:%
%:%7965=3170%:%
%:%7966=3170%:%
%:%7967=3171%:%
%:%7968=3171%:%
%:%7969=3172%:%
%:%7970=3172%:%
%:%7971=3173%:%
%:%7972=3173%:%
%:%7973=3174%:%
%:%7974=3174%:%
%:%7975=3175%:%
%:%7976=3175%:%
%:%7977=3176%:%
%:%7978=3176%:%
%:%7979=3177%:%
%:%7980=3178%:%
%:%7981=3178%:%
%:%7982=3179%:%
%:%7983=3179%:%
%:%7984=3180%:%
%:%7985=3181%:%
%:%7986=3181%:%
%:%7987=3181%:%
%:%7988=3182%:%
%:%7989=3182%:%
%:%7990=3183%:%
%:%7991=3183%:%
%:%7992=3184%:%
%:%7993=3185%:%
%:%7994=3185%:%
%:%7995=3186%:%
%:%7996=3186%:%
%:%7997=3187%:%
%:%7998=3187%:%
%:%7999=3188%:%
%:%8000=3188%:%
%:%8001=3189%:%
%:%8002=3189%:%
%:%8003=3190%:%
%:%8004=3190%:%
%:%8005=3191%:%
%:%8006=3191%:%
%:%8007=3192%:%
%:%8008=3192%:%
%:%8009=3193%:%
%:%8010=3193%:%
%:%8011=3194%:%
%:%8012=3194%:%
%:%8013=3195%:%
%:%8014=3195%:%
%:%8015=3196%:%
%:%8016=3196%:%
%:%8017=3197%:%
%:%8018=3197%:%
%:%8019=3198%:%
%:%8020=3198%:%
%:%8021=3199%:%
%:%8022=3200%:%
%:%8023=3200%:%
%:%8024=3201%:%
%:%8025=3201%:%
%:%8026=3202%:%
%:%8027=3203%:%
%:%8028=3203%:%
%:%8030=3205%:%
%:%8031=3206%:%
%:%8032=3206%:%
%:%8033=3207%:%
%:%8034=3207%:%
%:%8035=3208%:%
%:%8036=3208%:%
%:%8037=3209%:%
%:%8038=3209%:%
%:%8039=3210%:%
%:%8040=3210%:%
%:%8041=3211%:%
%:%8042=3211%:%
%:%8043=3212%:%
%:%8044=3212%:%
%:%8045=3213%:%
%:%8046=3213%:%
%:%8047=3214%:%
%:%8048=3214%:%
%:%8049=3215%:%
%:%8050=3215%:%
%:%8051=3216%:%
%:%8052=3216%:%
%:%8054=3218%:%
%:%8055=3219%:%
%:%8056=3219%:%
%:%8057=3220%:%
%:%8058=3220%:%
%:%8059=3221%:%
%:%8060=3221%:%
%:%8061=3222%:%
%:%8062=3222%:%
%:%8063=3223%:%
%:%8064=3223%:%
%:%8065=3224%:%
%:%8066=3224%:%
%:%8067=3224%:%
%:%8068=3225%:%
%:%8069=3225%:%
%:%8070=3226%:%
%:%8071=3226%:%
%:%8072=3227%:%
%:%8073=3227%:%
%:%8074=3228%:%
%:%8080=3228%:%
%:%8083=3229%:%
%:%8084=3230%:%
%:%8085=3230%:%
%:%8086=3231%:%
%:%8087=3232%:%
%:%8088=3233%:%
%:%8089=3234%:%
%:%8090=3235%:%
%:%8091=3236%:%
%:%8098=3237%:%
%:%8099=3237%:%
%:%8100=3238%:%
%:%8101=3238%:%
%:%8102=3239%:%
%:%8103=3240%:%
%:%8104=3240%:%
%:%8105=3241%:%
%:%8106=3241%:%
%:%8107=3242%:%
%:%8108=3242%:%
%:%8109=3243%:%
%:%8110=3243%:%
%:%8111=3244%:%
%:%8112=3244%:%
%:%8113=3245%:%
%:%8114=3245%:%
%:%8115=3246%:%
%:%8116=3247%:%
%:%8117=3247%:%
%:%8118=3247%:%
%:%8119=3248%:%
%:%8120=3249%:%
%:%8121=3249%:%
%:%8122=3250%:%
%:%8123=3250%:%
%:%8124=3251%:%
%:%8125=3251%:%
%:%8126=3252%:%
%:%8127=3252%:%
%:%8128=3253%:%
%:%8129=3253%:%
%:%8130=3254%:%
%:%8131=3255%:%
%:%8132=3255%:%
%:%8133=3256%:%
%:%8134=3256%:%
%:%8135=3257%:%
%:%8136=3258%:%
%:%8137=3258%:%
%:%8138=3259%:%
%:%8139=3260%:%
%:%8140=3260%:%
%:%8141=3261%:%
%:%8142=3261%:%
%:%8143=3262%:%
%:%8144=3263%:%
%:%8145=3263%:%
%:%8146=3264%:%
%:%8147=3264%:%
%:%8148=3265%:%
%:%8149=3265%:%
%:%8150=3266%:%
%:%8151=3266%:%
%:%8152=3267%:%
%:%8153=3267%:%
%:%8154=3268%:%
%:%8155=3268%:%
%:%8156=3269%:%
%:%8157=3269%:%
%:%8158=3270%:%
%:%8159=3270%:%
%:%8160=3271%:%
%:%8161=3271%:%
%:%8162=3272%:%
%:%8163=3272%:%
%:%8164=3273%:%
%:%8165=3273%:%
%:%8166=3274%:%
%:%8167=3274%:%
%:%8168=3275%:%
%:%8169=3275%:%
%:%8170=3276%:%
%:%8171=3276%:%
%:%8172=3277%:%
%:%8173=3277%:%
%:%8174=3278%:%
%:%8175=3278%:%
%:%8176=3279%:%
%:%8177=3279%:%
%:%8178=3280%:%
%:%8179=3280%:%
%:%8180=3281%:%
%:%8181=3281%:%
%:%8182=3282%:%
%:%8183=3282%:%
%:%8184=3283%:%
%:%8185=3283%:%
%:%8186=3284%:%
%:%8187=3284%:%
%:%8188=3285%:%
%:%8189=3285%:%
%:%8190=3286%:%
%:%8191=3287%:%
%:%8192=3287%:%
%:%8193=3288%:%
%:%8194=3288%:%
%:%8195=3289%:%
%:%8197=3291%:%
%:%8198=3292%:%
%:%8199=3293%:%
%:%8200=3294%:%
%:%8201=3295%:%
%:%8202=3295%:%
%:%8203=3296%:%
%:%8204=3297%:%
%:%8205=3297%:%
%:%8206=3298%:%
%:%8207=3298%:%
%:%8208=3299%:%
%:%8210=3301%:%
%:%8211=3302%:%
%:%8212=3303%:%
%:%8213=3304%:%
%:%8214=3305%:%
%:%8215=3305%:%
%:%8216=3306%:%
%:%8217=3307%:%
%:%8218=3307%:%
%:%8219=3308%:%
%:%8220=3308%:%
%:%8221=3309%:%
%:%8222=3310%:%
%:%8223=3310%:%
%:%8224=3311%:%
%:%8225=3311%:%
%:%8226=3312%:%
%:%8227=3312%:%
%:%8228=3313%:%
%:%8229=3313%:%
%:%8230=3314%:%
%:%8231=3315%:%
%:%8232=3315%:%
%:%8233=3316%:%
%:%8234=3316%:%
%:%8235=3317%:%
%:%8236=3317%:%
%:%8237=3318%:%
%:%8238=3318%:%
%:%8239=3319%:%
%:%8240=3319%:%
%:%8241=3320%:%
%:%8242=3320%:%
%:%8243=3321%:%
%:%8244=3321%:%
%:%8245=3322%:%
%:%8246=3322%:%
%:%8247=3323%:%
%:%8248=3323%:%
%:%8249=3324%:%
%:%8250=3324%:%
%:%8251=3324%:%
%:%8252=3325%:%
%:%8253=3326%:%
%:%8254=3327%:%
%:%8255=3328%:%
%:%8256=3329%:%
%:%8257=3330%:%
%:%8258=3331%:%
%:%8259=3332%:%
%:%8260=3333%:%
%:%8261=3333%:%
%:%8262=3334%:%
%:%8263=3334%:%
%:%8264=3335%:%
%:%8265=3335%:%
%:%8266=3336%:%
%:%8267=3336%:%
%:%8268=3337%:%
%:%8269=3337%:%
%:%8270=3338%:%
%:%8271=3339%:%
%:%8272=3339%:%
%:%8273=3340%:%
%:%8274=3340%:%
%:%8275=3341%:%
%:%8276=3341%:%
%:%8277=3342%:%
%:%8278=3343%:%
%:%8279=3344%:%
%:%8280=3345%:%
%:%8281=3345%:%
%:%8282=3346%:%
%:%8283=3346%:%
%:%8284=3347%:%
%:%8285=3347%:%
%:%8286=3348%:%
%:%8287=3348%:%
%:%8288=3349%:%
%:%8289=3349%:%
%:%8290=3350%:%
%:%8291=3350%:%
%:%8292=3351%:%
%:%8293=3352%:%
%:%8294=3352%:%
%:%8295=3353%:%
%:%8296=3354%:%
%:%8297=3354%:%
%:%8298=3355%:%
%:%8299=3356%:%
%:%8300=3356%:%
%:%8301=3357%:%
%:%8302=3357%:%
%:%8303=3358%:%
%:%8304=3359%:%
%:%8305=3359%:%
%:%8306=3360%:%
%:%8307=3360%:%
%:%8308=3361%:%
%:%8309=3361%:%
%:%8310=3362%:%
%:%8311=3363%:%
%:%8312=3364%:%
%:%8313=3365%:%
%:%8314=3365%:%
%:%8315=3366%:%
%:%8316=3366%:%
%:%8317=3367%:%
%:%8318=3367%:%
%:%8319=3368%:%
%:%8320=3368%:%
%:%8321=3369%:%
%:%8322=3369%:%
%:%8323=3370%:%
%:%8324=3370%:%
%:%8325=3371%:%
%:%8326=3372%:%
%:%8327=3372%:%
%:%8328=3373%:%
%:%8329=3374%:%
%:%8330=3374%:%
%:%8331=3375%:%
%:%8332=3376%:%
%:%8333=3376%:%
%:%8334=3377%:%
%:%8335=3377%:%
%:%8336=3378%:%
%:%8337=3379%:%
%:%8338=3380%:%
%:%8339=3381%:%
%:%8340=3381%:%
%:%8341=3382%:%
%:%8342=3382%:%
%:%8343=3383%:%
%:%8344=3383%:%
%:%8345=3384%:%
%:%8346=3385%:%
%:%8347=3386%:%
%:%8348=3386%:%
%:%8349=3387%:%
%:%8350=3387%:%
%:%8351=3388%:%
%:%8352=3388%:%
%:%8353=3389%:%
%:%8354=3389%:%
%:%8355=3390%:%
%:%8356=3390%:%
%:%8357=3391%:%
%:%8358=3391%:%
%:%8359=3392%:%
%:%8360=3392%:%
%:%8361=3393%:%
%:%8362=3393%:%
%:%8363=3394%:%
%:%8364=3394%:%
%:%8365=3395%:%
%:%8366=3395%:%
%:%8367=3396%:%
%:%8368=3396%:%
%:%8369=3397%:%
%:%8370=3397%:%
%:%8371=3398%:%
%:%8372=3398%:%
%:%8373=3399%:%
%:%8374=3399%:%
%:%8375=3400%:%
%:%8376=3400%:%
%:%8377=3401%:%
%:%8378=3401%:%
%:%8379=3402%:%
%:%8380=3402%:%
%:%8381=3403%:%
%:%8382=3403%:%
%:%8383=3404%:%
%:%8384=3404%:%
%:%8385=3405%:%
%:%8386=3406%:%
%:%8387=3407%:%
%:%8388=3407%:%
%:%8389=3408%:%
%:%8390=3408%:%
%:%8391=3409%:%
%:%8392=3409%:%
%:%8393=3410%:%
%:%8394=3410%:%
%:%8395=3411%:%
%:%8396=3411%:%
%:%8397=3412%:%
%:%8398=3412%:%
%:%8399=3413%:%
%:%8400=3413%:%
%:%8401=3414%:%
%:%8402=3415%:%
%:%8403=3416%:%
%:%8404=3416%:%
%:%8405=3417%:%
%:%8406=3417%:%
%:%8407=3418%:%
%:%8408=3418%:%
%:%8409=3419%:%
%:%8410=3419%:%
%:%8411=3420%:%
%:%8412=3420%:%
%:%8413=3421%:%
%:%8414=3421%:%
%:%8415=3422%:%
%:%8416=3422%:%
%:%8417=3423%:%
%:%8418=3423%:%
%:%8419=3424%:%
%:%8420=3424%:%
%:%8421=3425%:%
%:%8422=3425%:%
%:%8423=3425%:%
%:%8424=3426%:%
%:%8425=3426%:%
%:%8426=3427%:%
%:%8427=3427%:%
%:%8428=3428%:%
%:%8429=3429%:%
%:%8430=3429%:%
%:%8431=3430%:%
%:%8432=3431%:%
%:%8433=3431%:%
%:%8434=3432%:%
%:%8435=3432%:%
%:%8436=3433%:%
%:%8437=3434%:%
%:%8438=3435%:%
%:%8439=3435%:%
%:%8440=3436%:%
%:%8441=3437%:%
%:%8442=3438%:%
%:%8443=3438%:%
%:%8444=3439%:%
%:%8445=3440%:%
%:%8446=3440%:%
%:%8447=3441%:%
%:%8448=3442%:%
%:%8449=3443%:%
%:%8450=3443%:%
%:%8451=3444%:%
%:%8452=3444%:%
%:%8453=3445%:%
%:%8454=3445%:%
%:%8455=3446%:%
%:%8461=3446%:%
%:%8464=3447%:%
%:%8465=3448%:%
%:%8466=3448%:%
%:%8467=3449%:%
%:%8474=3450%:%
%:%8475=3450%:%
%:%8476=3451%:%
%:%8477=3451%:%
%:%8478=3452%:%
%:%8479=3452%:%
%:%8480=3452%:%
%:%8481=3453%:%
%:%8482=3453%:%
%:%8483=3454%:%
%:%8484=3454%:%
%:%8485=3454%:%
%:%8486=3455%:%
%:%8487=3455%:%
%:%8488=3455%:%
%:%8489=3456%:%
%:%8490=3456%:%
%:%8491=3457%:%
%:%8492=3457%:%
%:%8493=3458%:%
%:%8494=3458%:%
%:%8495=3458%:%
%:%8496=3459%:%
%:%8497=3459%:%
%:%8498=3460%:%
%:%8499=3460%:%
%:%8500=3460%:%
%:%8501=3461%:%
%:%8502=3461%:%
%:%8503=3461%:%
%:%8504=3462%:%
%:%8505=3462%:%
%:%8506=3462%:%
%:%8507=3463%:%
%:%8508=3463%:%
%:%8509=3464%:%
%:%8515=3464%:%
%:%8518=3465%:%
%:%8519=3466%:%
%:%8520=3466%:%
%:%8521=3467%:%
%:%8524=3468%:%
%:%8528=3468%:%
%:%8529=3468%:%
%:%8530=3469%:%
%:%8531=3469%:%
%:%8536=3469%:%
%:%8539=3470%:%
%:%8540=3471%:%
%:%8541=3471%:%
%:%8542=3472%:%
%:%8545=3473%:%
%:%8549=3473%:%
%:%8550=3473%:%
%:%8555=3473%:%
%:%8558=3474%:%
%:%8559=3475%:%
%:%8560=3475%:%
%:%8563=3476%:%
%:%8567=3476%:%
%:%8568=3476%:%
%:%8569=3477%:%
%:%8570=3477%:%
%:%8575=3477%:%
%:%8578=3478%:%
%:%8579=3479%:%
%:%8580=3479%:%
%:%8582=3481%:%
%:%8589=3482%:%
%:%8590=3482%:%
%:%8591=3483%:%
%:%8592=3483%:%
%:%8593=3484%:%
%:%8594=3484%:%
%:%8595=3485%:%
%:%8596=3485%:%
%:%8597=3486%:%
%:%8598=3486%:%
%:%8599=3487%:%
%:%8600=3488%:%
%:%8601=3488%:%
%:%8602=3489%:%
%:%8603=3490%:%
%:%8604=3490%:%
%:%8605=3491%:%
%:%8606=3491%:%
%:%8607=3492%:%
%:%8608=3493%:%
%:%8609=3493%:%
%:%8610=3494%:%
%:%8611=3495%:%
%:%8612=3495%:%
%:%8613=3496%:%
%:%8614=3496%:%
%:%8615=3497%:%
%:%8616=3498%:%
%:%8617=3498%:%
%:%8618=3499%:%
%:%8619=3499%:%
%:%8620=3500%:%
%:%8621=3500%:%
%:%8622=3501%:%
%:%8623=3501%:%
%:%8624=3502%:%
%:%8625=3502%:%
%:%8626=3503%:%
%:%8627=3503%:%
%:%8628=3504%:%
%:%8629=3505%:%
%:%8630=3505%:%
%:%8631=3506%:%
%:%8632=3506%:%
%:%8633=3507%:%
%:%8634=3507%:%
%:%8635=3508%:%
%:%8636=3508%:%
%:%8637=3509%:%
%:%8638=3509%:%
%:%8639=3510%:%
%:%8640=3510%:%
%:%8641=3511%:%
%:%8642=3511%:%
%:%8643=3512%:%
%:%8644=3512%:%
%:%8645=3513%:%
%:%8646=3513%:%
%:%8647=3514%:%
%:%8648=3514%:%
%:%8649=3515%:%
%:%8650=3516%:%
%:%8651=3516%:%
%:%8652=3517%:%
%:%8653=3517%:%
%:%8654=3518%:%
%:%8655=3518%:%
%:%8656=3519%:%
%:%8657=3519%:%
%:%8658=3519%:%
%:%8659=3520%:%
%:%8660=3520%:%
%:%8661=3521%:%
%:%8662=3521%:%
%:%8663=3522%:%
%:%8664=3522%:%
%:%8665=3523%:%
%:%8666=3523%:%
%:%8667=3524%:%
%:%8668=3524%:%
%:%8669=3525%:%
%:%8670=3525%:%
%:%8671=3526%:%
%:%8672=3526%:%
%:%8673=3527%:%
%:%8674=3527%:%
%:%8675=3528%:%
%:%8676=3528%:%
%:%8677=3528%:%
%:%8678=3529%:%
%:%8679=3529%:%
%:%8680=3530%:%
%:%8681=3530%:%
%:%8682=3531%:%
%:%8683=3531%:%
%:%8684=3532%:%
%:%8685=3532%:%
%:%8686=3533%:%
%:%8687=3533%:%
%:%8688=3534%:%
%:%8689=3534%:%
%:%8690=3535%:%
%:%8691=3535%:%
%:%8692=3536%:%
%:%8693=3536%:%
%:%8694=3537%:%
%:%8695=3537%:%
%:%8696=3538%:%
%:%8697=3538%:%
%:%8698=3539%:%
%:%8699=3539%:%
%:%8700=3540%:%
%:%8701=3540%:%
%:%8702=3541%:%
%:%8703=3541%:%
%:%8704=3542%:%
%:%8705=3542%:%
%:%8706=3543%:%
%:%8707=3543%:%
%:%8708=3544%:%
%:%8709=3544%:%
%:%8710=3545%:%
%:%8711=3545%:%
%:%8712=3545%:%
%:%8713=3546%:%
%:%8714=3546%:%
%:%8715=3547%:%
%:%8716=3547%:%
%:%8717=3548%:%
%:%8718=3549%:%
%:%8719=3549%:%
%:%8720=3550%:%
%:%8721=3550%:%
%:%8726=3550%:%
%:%8729=3551%:%
%:%8730=3552%:%
%:%8731=3552%:%
%:%8732=3553%:%
%:%8733=3554%:%
%:%8734=3555%:%
%:%8735=3556%:%
%:%8736=3557%:%
%:%8737=3558%:%
%:%8738=3559%:%
%:%8739=3560%:%
%:%8740=3561%:%
%:%8747=3562%:%
%:%8748=3562%:%
%:%8749=3563%:%
%:%8750=3563%:%
%:%8751=3564%:%
%:%8752=3565%:%
%:%8753=3566%:%
%:%8754=3566%:%
%:%8755=3567%:%
%:%8756=3567%:%
%:%8757=3568%:%
%:%8758=3568%:%
%:%8759=3569%:%
%:%8760=3569%:%
%:%8761=3570%:%
%:%8762=3570%:%
%:%8763=3571%:%
%:%8764=3571%:%
%:%8765=3572%:%
%:%8766=3572%:%
%:%8767=3573%:%
%:%8768=3573%:%
%:%8769=3574%:%
%:%8770=3574%:%
%:%8771=3575%:%
%:%8772=3575%:%
%:%8773=3576%:%
%:%8774=3576%:%
%:%8775=3577%:%
%:%8776=3577%:%
%:%8777=3578%:%
%:%8778=3578%:%
%:%8779=3579%:%
%:%8780=3579%:%
%:%8781=3580%:%
%:%8782=3581%:%
%:%8783=3581%:%
%:%8784=3582%:%
%:%8785=3582%:%
%:%8786=3583%:%
%:%8787=3584%:%
%:%8788=3584%:%
%:%8789=3585%:%
%:%8795=3585%:%
%:%8798=3586%:%
%:%8799=3587%:%
%:%8800=3587%:%
%:%8801=3588%:%
%:%8802=3589%:%
%:%8803=3590%:%
%:%8804=3591%:%
%:%8805=3592%:%
%:%8806=3593%:%
%:%8807=3594%:%
%:%8808=3595%:%
%:%8809=3596%:%
%:%8810=3597%:%
%:%8811=3598%:%
%:%8818=3599%:%
%:%8819=3599%:%
%:%8820=3600%:%
%:%8821=3600%:%
%:%8822=3601%:%
%:%8823=3602%:%
%:%8824=3603%:%
%:%8825=3603%:%
%:%8826=3604%:%
%:%8827=3604%:%
%:%8828=3605%:%
%:%8829=3605%:%
%:%8830=3606%:%
%:%8831=3606%:%
%:%8832=3607%:%
%:%8833=3607%:%
%:%8834=3608%:%
%:%8835=3608%:%
%:%8836=3609%:%
%:%8837=3609%:%
%:%8838=3610%:%
%:%8839=3610%:%
%:%8840=3611%:%
%:%8841=3611%:%
%:%8842=3612%:%
%:%8843=3612%:%
%:%8844=3613%:%
%:%8845=3613%:%
%:%8846=3614%:%
%:%8847=3614%:%
%:%8848=3615%:%
%:%8849=3616%:%
%:%8850=3616%:%
%:%8851=3617%:%
%:%8852=3617%:%
%:%8853=3618%:%
%:%8854=3618%:%
%:%8855=3619%:%
%:%8856=3619%:%
%:%8857=3619%:%
%:%8858=3620%:%
%:%8859=3620%:%
%:%8860=3621%:%
%:%8861=3621%:%
%:%8862=3622%:%
%:%8863=3623%:%
%:%8864=3623%:%
%:%8865=3624%:%
%:%8866=3624%:%
%:%8867=3625%:%
%:%8868=3625%:%
%:%8869=3626%:%
%:%8870=3627%:%
%:%8871=3627%:%
%:%8872=3628%:%
%:%8873=3628%:%
%:%8874=3629%:%
%:%8880=3629%:%
%:%8883=3630%:%
%:%8884=3631%:%
%:%8885=3631%:%
%:%8888=3632%:%
%:%8892=3632%:%
%:%8893=3632%:%
%:%8894=3633%:%
%:%8899=3633%:%
%:%8902=3634%:%
%:%8903=3635%:%
%:%8904=3635%:%
%:%8905=3636%:%
%:%8906=3637%:%
%:%8907=3638%:%
%:%8908=3639%:%
%:%8915=3640%:%
%:%8916=3640%:%
%:%8917=3641%:%
%:%8918=3641%:%
%:%8919=3642%:%
%:%8920=3642%:%
%:%8921=3643%:%
%:%8922=3643%:%
%:%8923=3643%:%
%:%8924=3644%:%
%:%8925=3645%:%
%:%8926=3645%:%
%:%8927=3646%:%
%:%8928=3646%:%
%:%8929=3647%:%
%:%8930=3647%:%
%:%8931=3648%:%
%:%8932=3648%:%
%:%8933=3649%:%
%:%8934=3649%:%
%:%8935=3650%:%
%:%8936=3650%:%
%:%8937=3651%:%
%:%8938=3651%:%
%:%8939=3652%:%
%:%8940=3652%:%
%:%8941=3653%:%
%:%8942=3653%:%
%:%8943=3654%:%
%:%8944=3655%:%
%:%8945=3656%:%
%:%8946=3656%:%
%:%8947=3656%:%
%:%8948=3657%:%
%:%8949=3658%:%
%:%8950=3658%:%
%:%8951=3659%:%
%:%8952=3659%:%
%:%8953=3659%:%
%:%8954=3660%:%
%:%8955=3660%:%
%:%8956=3661%:%
%:%8957=3661%:%
%:%8958=3662%:%
%:%8959=3662%:%
%:%8960=3662%:%
%:%8961=3663%:%
%:%8962=3663%:%
%:%8963=3664%:%
%:%8964=3664%:%
%:%8965=3665%:%
%:%8966=3665%:%
%:%8967=3666%:%
%:%8968=3666%:%
%:%8969=3667%:%
%:%8970=3667%:%
%:%8971=3667%:%
%:%8972=3668%:%
%:%8973=3668%:%
%:%8974=3669%:%
%:%8975=3669%:%
%:%8976=3670%:%
%:%8977=3670%:%
%:%8978=3670%:%
%:%8979=3671%:%
%:%8980=3671%:%
%:%8981=3672%:%
%:%8982=3672%:%
%:%8983=3673%:%
%:%8989=3673%:%
%:%8992=3674%:%
%:%8993=3675%:%
%:%8994=3675%:%
%:%8995=3676%:%
%:%8996=3677%:%
%:%8997=3678%:%
%:%8998=3679%:%
%:%8999=3680%:%
%:%9000=3681%:%
%:%9007=3682%:%
%:%9008=3682%:%
%:%9009=3683%:%
%:%9010=3683%:%
%:%9011=3684%:%
%:%9012=3684%:%
%:%9013=3685%:%
%:%9014=3685%:%
%:%9015=3686%:%
%:%9016=3686%:%
%:%9017=3687%:%
%:%9018=3688%:%
%:%9019=3688%:%
%:%9020=3689%:%
%:%9021=3689%:%
%:%9022=3690%:%
%:%9023=3690%:%
%:%9024=3691%:%
%:%9025=3691%:%
%:%9026=3692%:%
%:%9027=3692%:%
%:%9028=3693%:%
%:%9029=3693%:%
%:%9030=3694%:%
%:%9031=3695%:%
%:%9032=3695%:%
%:%9033=3696%:%
%:%9034=3696%:%
%:%9035=3697%:%
%:%9036=3697%:%
%:%9037=3698%:%
%:%9038=3698%:%
%:%9039=3699%:%
%:%9040=3699%:%
%:%9041=3700%:%
%:%9042=3700%:%
%:%9043=3701%:%
%:%9044=3701%:%
%:%9045=3702%:%
%:%9046=3702%:%
%:%9047=3703%:%
%:%9048=3703%:%
%:%9049=3703%:%
%:%9050=3704%:%
%:%9051=3704%:%
%:%9052=3705%:%
%:%9058=3705%:%
%:%9061=3706%:%
%:%9062=3707%:%
%:%9063=3707%:%
%:%9064=3708%:%
%:%9065=3709%:%
%:%9066=3710%:%
%:%9067=3711%:%
%:%9068=3712%:%
%:%9071=3713%:%
%:%9075=3713%:%
%:%9076=3713%:%
%:%9077=3714%:%
%:%9078=3715%:%
%:%9079=3715%:%
%:%9080=3716%:%
%:%9081=3716%:%
%:%9086=3716%:%
%:%9089=3717%:%
%:%9090=3718%:%
%:%9091=3718%:%
%:%9092=3719%:%
%:%9093=3720%:%
%:%9094=3721%:%
%:%9095=3722%:%
%:%9096=3723%:%
%:%9099=3724%:%
%:%9103=3724%:%
%:%9104=3724%:%
%:%9105=3725%:%
%:%9106=3725%:%
%:%9107=3726%:%
%:%9108=3726%:%
%:%9109=3727%:%
%:%9110=3727%:%
%:%9111=3728%:%
%:%9112=3728%:%
%:%9113=3728%:%
%:%9114=3729%:%
%:%9115=3730%:%
%:%9116=3730%:%
%:%9117=3731%:%
%:%9118=3731%:%
%:%9119=3732%:%
%:%9120=3733%:%
%:%9121=3733%:%
%:%9122=3734%:%
%:%9123=3734%:%
%:%9124=3735%:%
%:%9125=3735%:%
%:%9126=3736%:%
%:%9127=3736%:%
%:%9128=3737%:%
%:%9129=3737%:%
%:%9130=3738%:%
%:%9131=3738%:%
%:%9132=3738%:%
%:%9133=3739%:%
%:%9134=3739%:%
%:%9135=3740%:%
%:%9136=3740%:%
%:%9137=3741%:%
%:%9138=3741%:%
%:%9143=3741%:%
%:%9146=3742%:%
%:%9147=3743%:%
%:%9148=3743%:%
%:%9149=3744%:%
%:%9150=3745%:%
%:%9151=3746%:%
%:%9152=3747%:%
%:%9155=3748%:%
%:%9159=3748%:%
%:%9160=3748%:%
%:%9161=3749%:%
%:%9162=3749%:%
%:%9163=3750%:%
%:%9164=3750%:%
%:%9165=3751%:%
%:%9166=3751%:%
%:%9167=3752%:%
%:%9168=3752%:%
%:%9169=3753%:%
%:%9170=3753%:%
%:%9171=3754%:%
%:%9172=3754%:%
%:%9173=3755%:%
%:%9174=3756%:%
%:%9175=3756%:%
%:%9176=3757%:%
%:%9182=3757%:%
%:%9185=3758%:%
%:%9186=3759%:%
%:%9187=3759%:%
%:%9190=3760%:%
%:%9194=3760%:%
%:%9195=3760%:%
%:%9200=3760%:%
%:%9203=3761%:%
%:%9204=3762%:%
%:%9205=3762%:%
%:%9206=3763%:%
%:%9208=3765%:%
%:%9209=3766%:%
%:%9210=3767%:%
%:%9211=3767%:%
%:%9212=3768%:%
%:%9213=3769%:%
%:%9214=3770%:%
%:%9215=3770%:%
%:%9216=3771%:%
%:%9217=3772%:%
%:%9224=3773%:%
%:%9225=3773%:%
%:%9226=3774%:%
%:%9227=3774%:%
%:%9228=3775%:%
%:%9229=3775%:%
%:%9230=3776%:%
%:%9231=3776%:%
%:%9232=3776%:%
%:%9233=3777%:%
%:%9234=3777%:%
%:%9235=3778%:%
%:%9236=3778%:%
%:%9237=3779%:%
%:%9238=3779%:%
%:%9239=3780%:%
%:%9240=3780%:%
%:%9241=3781%:%
%:%9242=3781%:%
%:%9243=3782%:%
%:%9244=3782%:%
%:%9245=3783%:%
%:%9246=3783%:%
%:%9247=3784%:%
%:%9248=3784%:%
%:%9249=3784%:%
%:%9250=3785%:%
%:%9251=3785%:%
%:%9252=3786%:%
%:%9253=3786%:%
%:%9254=3787%:%
%:%9255=3787%:%
%:%9256=3788%:%
%:%9257=3789%:%
%:%9258=3789%:%
%:%9259=3790%:%
%:%9260=3790%:%
%:%9261=3791%:%
%:%9262=3791%:%
%:%9263=3792%:%
%:%9264=3792%:%
%:%9265=3793%:%
%:%9266=3793%:%
%:%9267=3794%:%
%:%9268=3794%:%
%:%9269=3795%:%
%:%9270=3795%:%
%:%9271=3795%:%
%:%9272=3796%:%
%:%9273=3796%:%
%:%9274=3797%:%
%:%9275=3797%:%
%:%9276=3798%:%
%:%9277=3798%:%
%:%9278=3799%:%
%:%9279=3799%:%
%:%9280=3800%:%
%:%9281=3800%:%
%:%9282=3801%:%
%:%9283=3801%:%
%:%9284=3802%:%
%:%9285=3802%:%
%:%9286=3803%:%
%:%9292=3803%:%
%:%9295=3804%:%
%:%9296=3805%:%
%:%9297=3805%:%
%:%9298=3806%:%
%:%9299=3807%:%
%:%9300=3808%:%
%:%9301=3808%:%
%:%9304=3809%:%
%:%9308=3809%:%
%:%9309=3809%:%
%:%9314=3809%:%
%:%9317=3810%:%
%:%9318=3811%:%
%:%9319=3811%:%
%:%9320=3812%:%
%:%9321=3813%:%
%:%9322=3814%:%
%:%9329=3815%:%
%:%9330=3815%:%
%:%9331=3816%:%
%:%9332=3816%:%
%:%9333=3817%:%
%:%9334=3818%:%
%:%9335=3818%:%
%:%9336=3819%:%
%:%9337=3819%:%
%:%9338=3820%:%
%:%9339=3820%:%
%:%9340=3821%:%
%:%9341=3821%:%
%:%9342=3822%:%
%:%9343=3822%:%
%:%9344=3823%:%
%:%9345=3823%:%
%:%9346=3824%:%
%:%9347=3824%:%
%:%9348=3825%:%
%:%9349=3825%:%
%:%9350=3826%:%
%:%9351=3826%:%
%:%9352=3827%:%
%:%9353=3827%:%
%:%9354=3828%:%
%:%9355=3828%:%
%:%9356=3828%:%
%:%9357=3829%:%
%:%9358=3830%:%
%:%9359=3830%:%
%:%9360=3831%:%
%:%9361=3831%:%
%:%9362=3832%:%
%:%9363=3832%:%
%:%9364=3833%:%
%:%9365=3833%:%
%:%9366=3834%:%
%:%9367=3834%:%
%:%9368=3835%:%
%:%9369=3835%:%
%:%9370=3835%:%
%:%9371=3836%:%
%:%9372=3836%:%
%:%9373=3837%:%
%:%9374=3837%:%
%:%9375=3838%:%
%:%9376=3838%:%
%:%9377=3839%:%
%:%9378=3839%:%
%:%9379=3840%:%
%:%9380=3840%:%
%:%9381=3841%:%
%:%9382=3841%:%
%:%9383=3842%:%
%:%9384=3842%:%
%:%9385=3843%:%
%:%9386=3843%:%
%:%9387=3844%:%
%:%9388=3845%:%
%:%9389=3845%:%
%:%9390=3846%:%
%:%9391=3846%:%
%:%9392=3847%:%
%:%9393=3847%:%
%:%9394=3848%:%
%:%9395=3849%:%
%:%9396=3849%:%
%:%9397=3850%:%
%:%9398=3850%:%
%:%9399=3851%:%
%:%9400=3851%:%
%:%9401=3852%:%
%:%9402=3852%:%
%:%9403=3853%:%
%:%9404=3853%:%
%:%9405=3854%:%
%:%9406=3854%:%
%:%9407=3855%:%
%:%9408=3855%:%
%:%9409=3856%:%
%:%9410=3856%:%
%:%9411=3857%:%
%:%9412=3857%:%
%:%9413=3858%:%
%:%9414=3858%:%
%:%9415=3859%:%
%:%9416=3859%:%
%:%9417=3860%:%
%:%9418=3860%:%
%:%9419=3860%:%
%:%9420=3861%:%
%:%9421=3861%:%
%:%9422=3862%:%
%:%9423=3862%:%
%:%9424=3863%:%
%:%9425=3863%:%
%:%9426=3863%:%
%:%9427=3864%:%
%:%9428=3864%:%
%:%9429=3865%:%
%:%9430=3865%:%
%:%9431=3866%:%
%:%9432=3866%:%
%:%9433=3867%:%
%:%9434=3867%:%
%:%9435=3867%:%
%:%9436=3868%:%
%:%9437=3868%:%
%:%9438=3869%:%
%:%9444=3869%:%
%:%9447=3870%:%
%:%9448=3871%:%
%:%9449=3871%:%
%:%9450=3872%:%
%:%9451=3873%:%
%:%9452=3874%:%
%:%9455=3875%:%
%:%9459=3875%:%
%:%9460=3875%:%
%:%9461=3876%:%
%:%9462=3877%:%
%:%9463=3878%:%
%:%9464=3878%:%
%:%9469=3878%:%
%:%9472=3879%:%
%:%9473=3880%:%
%:%9474=3880%:%
%:%9475=3881%:%
%:%9476=3882%:%
%:%9477=3883%:%
%:%9484=3884%:%
%:%9485=3884%:%
%:%9486=3885%:%
%:%9487=3885%:%
%:%9488=3886%:%
%:%9489=3886%:%
%:%9490=3887%:%
%:%9491=3887%:%
%:%9492=3888%:%
%:%9493=3888%:%
%:%9494=3889%:%
%:%9495=3889%:%
%:%9496=3890%:%
%:%9497=3890%:%
%:%9498=3891%:%
%:%9499=3891%:%
%:%9500=3892%:%
%:%9501=3892%:%
%:%9502=3893%:%
%:%9503=3893%:%
%:%9504=3894%:%
%:%9505=3894%:%
%:%9506=3895%:%
%:%9507=3895%:%
%:%9508=3896%:%
%:%9509=3896%:%
%:%9510=3897%:%
%:%9511=3897%:%
%:%9512=3898%:%
%:%9513=3898%:%
%:%9514=3899%:%
%:%9515=3899%:%
%:%9516=3900%:%
%:%9517=3900%:%
%:%9518=3901%:%
%:%9519=3901%:%
%:%9520=3901%:%
%:%9521=3902%:%
%:%9522=3902%:%
%:%9523=3903%:%
%:%9524=3903%:%
%:%9525=3904%:%
%:%9526=3904%:%
%:%9527=3905%:%
%:%9528=3905%:%
%:%9529=3906%:%
%:%9530=3906%:%
%:%9531=3906%:%
%:%9532=3907%:%
%:%9533=3907%:%
%:%9534=3908%:%
%:%9535=3908%:%
%:%9536=3909%:%
%:%9537=3909%:%
%:%9538=3910%:%
%:%9539=3910%:%
%:%9540=3911%:%
%:%9541=3911%:%
%:%9542=3912%:%
%:%9543=3912%:%
%:%9544=3913%:%
%:%9545=3913%:%
%:%9546=3914%:%
%:%9547=3914%:%
%:%9548=3915%:%
%:%9549=3915%:%
%:%9550=3916%:%
%:%9551=3916%:%
%:%9552=3917%:%
%:%9553=3917%:%
%:%9554=3918%:%
%:%9555=3918%:%
%:%9556=3918%:%
%:%9557=3919%:%
%:%9558=3919%:%
%:%9559=3920%:%
%:%9560=3920%:%
%:%9561=3921%:%
%:%9562=3921%:%
%:%9563=3922%:%
%:%9564=3922%:%
%:%9565=3923%:%
%:%9566=3924%:%
%:%9567=3924%:%
%:%9568=3924%:%
%:%9569=3925%:%
%:%9570=3925%:%
%:%9571=3926%:%
%:%9572=3926%:%
%:%9573=3927%:%
%:%9574=3927%:%
%:%9575=3928%:%
%:%9576=3928%:%
%:%9577=3929%:%
%:%9578=3929%:%
%:%9579=3929%:%
%:%9580=3930%:%
%:%9581=3930%:%
%:%9582=3931%:%
%:%9583=3931%:%
%:%9584=3932%:%
%:%9585=3932%:%
%:%9586=3933%:%
%:%9587=3933%:%
%:%9588=3934%:%
%:%9589=3934%:%
%:%9590=3935%:%
%:%9591=3935%:%
%:%9592=3935%:%
%:%9593=3936%:%
%:%9594=3936%:%
%:%9595=3937%:%
%:%9601=3937%:%
%:%9604=3938%:%
%:%9605=3939%:%
%:%9606=3939%:%
%:%9607=3940%:%
%:%9608=3941%:%
%:%9609=3942%:%
%:%9616=3943%:%
%:%9617=3943%:%
%:%9618=3944%:%
%:%9619=3944%:%
%:%9620=3945%:%
%:%9621=3945%:%
%:%9622=3946%:%
%:%9623=3946%:%
%:%9624=3947%:%
%:%9625=3947%:%
%:%9626=3948%:%
%:%9627=3948%:%
%:%9628=3949%:%
%:%9629=3949%:%
%:%9630=3950%:%
%:%9631=3950%:%
%:%9632=3951%:%
%:%9633=3952%:%
%:%9634=3953%:%
%:%9635=3954%:%
%:%9636=3954%:%
%:%9637=3954%:%
%:%9638=3955%:%
%:%9639=3955%:%
%:%9640=3956%:%
%:%9641=3957%:%
%:%9642=3957%:%
%:%9643=3958%:%
%:%9644=3958%:%
%:%9645=3959%:%
%:%9646=3959%:%
%:%9647=3960%:%
%:%9648=3960%:%
%:%9649=3961%:%
%:%9650=3961%:%
%:%9651=3962%:%
%:%9652=3962%:%
%:%9653=3963%:%
%:%9659=3963%:%
%:%9662=3964%:%
%:%9663=3965%:%
%:%9664=3965%:%
%:%9665=3966%:%
%:%9672=3967%:%
%:%9673=3967%:%
%:%9674=3968%:%
%:%9675=3968%:%
%:%9676=3969%:%
%:%9677=3969%:%
%:%9678=3970%:%
%:%9679=3970%:%
%:%9680=3971%:%
%:%9681=3971%:%
%:%9682=3972%:%
%:%9683=3972%:%
%:%9684=3973%:%
%:%9685=3973%:%
%:%9686=3974%:%
%:%9687=3974%:%
%:%9688=3975%:%
%:%9689=3976%:%
%:%9690=3976%:%
%:%9691=3977%:%
%:%9692=3977%:%
%:%9693=3978%:%
%:%9694=3978%:%
%:%9695=3979%:%
%:%9696=3979%:%
%:%9697=3979%:%
%:%9698=3980%:%
%:%9699=3980%:%
%:%9700=3981%:%
%:%9701=3981%:%
%:%9702=3982%:%
%:%9703=3982%:%
%:%9704=3983%:%
%:%9705=3983%:%
%:%9706=3984%:%
%:%9707=3984%:%
%:%9708=3985%:%
%:%9709=3985%:%
%:%9710=3986%:%
%:%9711=3986%:%
%:%9712=3987%:%
%:%9713=3987%:%
%:%9714=3988%:%
%:%9715=3988%:%
%:%9716=3989%:%
%:%9717=3989%:%
%:%9718=3990%:%
%:%9719=3990%:%
%:%9720=3991%:%
%:%9721=3991%:%
%:%9722=3992%:%
%:%9723=3992%:%
%:%9724=3993%:%
%:%9725=3993%:%
%:%9726=3994%:%
%:%9727=3994%:%
%:%9728=3995%:%
%:%9729=3995%:%
%:%9730=3996%:%
%:%9731=3996%:%
%:%9732=3997%:%
%:%9733=3997%:%
%:%9734=3997%:%
%:%9735=3998%:%
%:%9736=3998%:%
%:%9737=3999%:%
%:%9738=3999%:%
%:%9739=4000%:%
%:%9740=4000%:%
%:%9741=4001%:%
%:%9742=4001%:%
%:%9743=4001%:%
%:%9744=4002%:%
%:%9745=4002%:%
%:%9746=4003%:%
%:%9747=4003%:%
%:%9748=4004%:%
%:%9749=4004%:%
%:%9750=4004%:%
%:%9751=4005%:%
%:%9752=4005%:%
%:%9753=4006%:%
%:%9754=4006%:%
%:%9755=4007%:%
%:%9756=4007%:%
%:%9757=4008%:%
%:%9758=4008%:%
%:%9763=4008%:%
%:%9766=4009%:%
%:%9767=4010%:%
%:%9768=4010%:%
%:%9769=4011%:%
%:%9770=4012%:%
%:%9777=4013%:%
%:%9778=4013%:%
%:%9779=4014%:%
%:%9780=4014%:%
%:%9781=4015%:%
%:%9782=4016%:%
%:%9783=4016%:%
%:%9784=4017%:%
%:%9785=4017%:%
%:%9786=4018%:%
%:%9787=4019%:%
%:%9788=4019%:%
%:%9789=4019%:%
%:%9790=4020%:%
%:%9791=4020%:%
%:%9792=4021%:%
%:%9798=4021%:%
%:%9801=4022%:%
%:%9802=4023%:%
%:%9803=4023%:%
%:%9804=4024%:%
%:%9807=4025%:%
%:%9811=4025%:%
%:%9812=4025%:%
%:%9813=4026%:%
%:%9814=4026%:%
%:%9815=4027%:%
%:%9816=4028%:%
%:%9821=4028%:%
%:%9824=4029%:%
%:%9825=4030%:%
%:%9826=4030%:%
%:%9829=4031%:%
%:%9833=4031%:%
%:%9834=4031%:%
%:%9835=4032%:%
%:%9840=4032%:%
%:%9843=4033%:%
%:%9844=4034%:%
%:%9845=4034%:%
%:%9846=4035%:%
%:%9853=4036%:%
%:%9854=4036%:%
%:%9855=4037%:%
%:%9856=4037%:%
%:%9857=4038%:%
%:%9858=4038%:%
%:%9859=4039%:%
%:%9860=4039%:%
%:%9861=4040%:%
%:%9862=4040%:%
%:%9863=4041%:%
%:%9864=4041%:%
%:%9865=4042%:%
%:%9866=4042%:%
%:%9867=4043%:%
%:%9868=4043%:%
%:%9869=4044%:%
%:%9870=4044%:%
%:%9871=4045%:%
%:%9872=4045%:%
%:%9873=4046%:%
%:%9874=4047%:%
%:%9875=4047%:%
%:%9876=4048%:%
%:%9877=4048%:%
%:%9878=4049%:%
%:%9879=4049%:%
%:%9880=4050%:%
%:%9881=4050%:%
%:%9882=4051%:%
%:%9883=4051%:%
%:%9884=4052%:%
%:%9885=4052%:%
%:%9886=4053%:%
%:%9887=4054%:%
%:%9888=4054%:%
%:%9889=4055%:%
%:%9890=4055%:%
%:%9891=4055%:%
%:%9892=4056%:%
%:%9893=4057%:%
%:%9894=4057%:%
%:%9895=4058%:%
%:%9896=4059%:%
%:%9897=4059%:%
%:%9898=4059%:%
%:%9899=4060%:%
%:%9900=4060%:%
%:%9901=4061%:%
%:%9902=4062%:%
%:%9903=4062%:%
%:%9904=4062%:%
%:%9905=4063%:%
%:%9906=4064%:%
%:%9907=4064%:%
%:%9908=4065%:%
%:%9909=4066%:%
%:%9910=4066%:%
%:%9911=4067%:%
%:%9912=4067%:%
%:%9913=4068%:%
%:%9914=4068%:%
%:%9915=4069%:%
%:%9916=4069%:%
%:%9917=4070%:%
%:%9918=4070%:%
%:%9919=4071%:%
%:%9920=4071%:%
%:%9921=4071%:%
%:%9922=4072%:%
%:%9923=4072%:%
%:%9924=4073%:%
%:%9925=4073%:%
%:%9926=4074%:%
%:%9927=4074%:%
%:%9928=4075%:%
%:%9929=4075%:%
%:%9930=4076%:%
%:%9931=4076%:%
%:%9932=4077%:%
%:%9933=4077%:%
%:%9934=4078%:%
%:%9935=4079%:%
%:%9936=4079%:%
%:%9937=4080%:%
%:%9938=4080%:%
%:%9939=4081%:%
%:%9940=4081%:%
%:%9941=4082%:%
%:%9942=4082%:%
%:%9943=4083%:%
%:%9944=4083%:%
%:%9945=4084%:%
%:%9946=4085%:%
%:%9947=4086%:%
%:%9948=4086%:%
%:%9949=4087%:%
%:%9950=4087%:%
%:%9951=4088%:%
%:%9952=4088%:%
%:%9953=4089%:%
%:%9954=4089%:%
%:%9955=4090%:%
%:%9956=4090%:%
%:%9957=4091%:%
%:%9958=4091%:%
%:%9959=4092%:%
%:%9960=4092%:%
%:%9961=4093%:%
%:%9962=4093%:%
%:%9963=4094%:%
%:%9964=4094%:%
%:%9965=4095%:%
%:%9971=4095%:%
%:%9974=4096%:%
%:%9975=4097%:%
%:%9976=4097%:%
%:%9979=4098%:%
%:%9983=4098%:%
%:%9984=4098%:%
%:%9989=4098%:%
%:%9992=4099%:%
%:%9993=4100%:%
%:%9994=4100%:%
%:%9997=4101%:%
%:%10001=4101%:%
%:%10002=4101%:%
%:%10007=4101%:%
%:%10010=4102%:%
%:%10011=4103%:%
%:%10012=4103%:%
%:%10013=4104%:%
%:%10014=4105%:%
%:%10015=4106%:%
%:%10022=4107%:%
%:%10023=4107%:%
%:%10024=4108%:%
%:%10025=4108%:%
%:%10026=4109%:%
%:%10027=4109%:%
%:%10028=4110%:%
%:%10029=4110%:%
%:%10030=4111%:%
%:%10031=4111%:%
%:%10032=4112%:%
%:%10033=4112%:%
%:%10034=4113%:%
%:%10035=4113%:%
%:%10036=4114%:%
%:%10037=4114%:%
%:%10038=4115%:%
%:%10039=4115%:%
%:%10040=4116%:%
%:%10041=4116%:%
%:%10042=4116%:%
%:%10043=4117%:%
%:%10044=4117%:%
%:%10045=4118%:%
%:%10046=4118%:%
%:%10047=4119%:%
%:%10048=4119%:%
%:%10049=4119%:%
%:%10050=4120%:%
%:%10051=4120%:%
%:%10052=4121%:%
%:%10053=4121%:%
%:%10054=4121%:%
%:%10055=4122%:%
%:%10056=4122%:%
%:%10057=4123%:%
%:%10058=4123%:%
%:%10059=4124%:%
%:%10060=4124%:%
%:%10061=4125%:%
%:%10067=4125%:%
%:%10070=4126%:%
%:%10071=4127%:%
%:%10072=4127%:%
%:%10073=4128%:%
%:%10074=4129%:%
%:%10075=4130%:%
%:%10082=4131%:%
%:%10083=4131%:%
%:%10084=4132%:%
%:%10085=4132%:%
%:%10086=4133%:%
%:%10087=4133%:%
%:%10088=4134%:%
%:%10089=4134%:%
%:%10090=4135%:%
%:%10091=4135%:%
%:%10092=4136%:%
%:%10093=4136%:%
%:%10094=4137%:%
%:%10095=4137%:%
%:%10096=4138%:%
%:%10097=4138%:%
%:%10098=4139%:%
%:%10099=4139%:%
%:%10100=4140%:%
%:%10101=4140%:%
%:%10102=4141%:%
%:%10103=4141%:%
%:%10104=4142%:%
%:%10105=4142%:%
%:%10106=4143%:%
%:%10107=4143%:%
%:%10108=4144%:%
%:%10109=4144%:%
%:%10110=4145%:%
%:%10111=4145%:%
%:%10112=4146%:%
%:%10113=4146%:%
%:%10114=4147%:%
%:%10115=4147%:%
%:%10116=4148%:%
%:%10117=4148%:%
%:%10118=4149%:%
%:%10119=4149%:%
%:%10120=4149%:%
%:%10121=4150%:%
%:%10122=4150%:%
%:%10123=4151%:%
%:%10124=4151%:%
%:%10125=4152%:%
%:%10126=4152%:%
%:%10127=4153%:%
%:%10128=4153%:%
%:%10129=4154%:%
%:%10130=4154%:%
%:%10131=4155%:%
%:%10132=4155%:%
%:%10133=4155%:%
%:%10134=4156%:%
%:%10135=4157%:%
%:%10136=4157%:%
%:%10137=4158%:%
%:%10138=4158%:%
%:%10139=4158%:%
%:%10140=4159%:%
%:%10141=4159%:%
%:%10142=4160%:%
%:%10143=4160%:%
%:%10144=4161%:%
%:%10145=4161%:%
%:%10146=4161%:%
%:%10147=4162%:%
%:%10148=4162%:%
%:%10149=4163%:%
%:%10150=4163%:%
%:%10151=4164%:%
%:%10152=4164%:%
%:%10153=4164%:%
%:%10154=4165%:%
%:%10155=4165%:%
%:%10156=4166%:%
%:%10157=4166%:%
%:%10158=4167%:%
%:%10164=4167%:%
%:%10167=4168%:%
%:%10168=4169%:%
%:%10169=4169%:%
%:%10170=4170%:%
%:%10171=4171%:%
%:%10172=4172%:%
%:%10179=4173%:%
%:%10180=4173%:%
%:%10181=4174%:%
%:%10182=4174%:%
%:%10183=4175%:%
%:%10184=4175%:%
%:%10185=4176%:%
%:%10186=4176%:%
%:%10187=4177%:%
%:%10188=4177%:%
%:%10189=4178%:%
%:%10190=4178%:%
%:%10191=4179%:%
%:%10192=4179%:%
%:%10193=4180%:%
%:%10194=4180%:%
%:%10195=4181%:%
%:%10196=4181%:%
%:%10197=4182%:%
%:%10198=4182%:%
%:%10199=4183%:%
%:%10200=4183%:%
%:%10201=4184%:%
%:%10202=4184%:%
%:%10203=4185%:%
%:%10204=4185%:%
%:%10205=4186%:%
%:%10206=4186%:%
%:%10207=4187%:%
%:%10208=4187%:%
%:%10209=4188%:%
%:%10210=4188%:%
%:%10211=4189%:%
%:%10212=4189%:%
%:%10213=4190%:%
%:%10219=4190%:%
%:%10222=4191%:%
%:%10223=4192%:%
%:%10224=4192%:%
%:%10225=4193%:%
%:%10226=4194%:%
%:%10227=4195%:%
%:%10234=4196%:%
%:%10235=4196%:%
%:%10236=4197%:%
%:%10237=4197%:%
%:%10238=4198%:%
%:%10239=4198%:%
%:%10240=4199%:%
%:%10241=4199%:%
%:%10242=4200%:%
%:%10243=4200%:%
%:%10244=4201%:%
%:%10245=4201%:%
%:%10246=4202%:%
%:%10247=4202%:%
%:%10248=4203%:%
%:%10249=4203%:%
%:%10250=4203%:%
%:%10251=4204%:%
%:%10252=4204%:%
%:%10253=4205%:%
%:%10254=4205%:%
%:%10255=4206%:%
%:%10256=4206%:%
%:%10257=4207%:%
%:%10258=4207%:%
%:%10259=4208%:%
%:%10260=4208%:%
%:%10261=4209%:%
%:%10262=4209%:%
%:%10264=4211%:%
%:%10265=4212%:%
%:%10266=4212%:%
%:%10267=4213%:%
%:%10268=4213%:%
%:%10269=4214%:%
%:%10270=4214%:%
%:%10271=4215%:%
%:%10272=4215%:%
%:%10273=4215%:%
%:%10274=4216%:%
%:%10275=4217%:%
%:%10276=4217%:%
%:%10277=4218%:%
%:%10278=4218%:%
%:%10279=4219%:%
%:%10280=4219%:%
%:%10281=4219%:%
%:%10282=4220%:%
%:%10283=4221%:%
%:%10284=4221%:%
%:%10285=4222%:%
%:%10286=4222%:%
%:%10287=4223%:%
%:%10288=4223%:%
%:%10289=4224%:%
%:%10290=4225%:%
%:%10291=4225%:%
%:%10292=4226%:%
%:%10293=4226%:%
%:%10294=4226%:%
%:%10295=4227%:%
%:%10296=4227%:%
%:%10297=4227%:%
%:%10298=4228%:%
%:%10299=4228%:%
%:%10300=4229%:%
%:%10301=4229%:%
%:%10302=4230%:%
%:%10303=4230%:%
%:%10304=4231%:%
%:%10305=4232%:%
%:%10306=4232%:%
%:%10307=4233%:%
%:%10308=4233%:%
%:%10309=4233%:%
%:%10310=4234%:%
%:%10311=4234%:%
%:%10312=4235%:%
%:%10313=4235%:%
%:%10314=4236%:%
%:%10315=4236%:%
%:%10316=4236%:%
%:%10317=4237%:%
%:%10318=4237%:%
%:%10319=4237%:%
%:%10320=4238%:%
%:%10321=4238%:%
%:%10322=4239%:%
%:%10323=4239%:%
%:%10324=4240%:%
%:%10325=4240%:%
%:%10326=4240%:%
%:%10327=4241%:%
%:%10328=4241%:%
%:%10329=4242%:%
%:%10330=4242%:%
%:%10331=4242%:%
%:%10332=4243%:%
%:%10333=4243%:%
%:%10334=4244%:%
%:%10335=4244%:%
%:%10336=4245%:%
%:%10337=4245%:%
%:%10338=4246%:%
%:%10339=4246%:%
%:%10340=4247%:%
%:%10341=4247%:%
%:%10342=4248%:%
%:%10343=4248%:%
%:%10344=4249%:%
%:%10345=4249%:%
%:%10346=4250%:%
%:%10347=4250%:%
%:%10348=4251%:%
%:%10354=4251%:%
%:%10357=4252%:%
%:%10358=4253%:%
%:%10359=4253%:%
%:%10360=4254%:%
%:%10361=4255%:%
%:%10362=4255%:%
%:%10363=4256%:%
%:%10364=4257%:%
%:%10367=4258%:%
%:%10371=4258%:%
%:%10372=4258%:%
%:%10373=4259%:%
%:%10374=4259%:%
%:%10375=4260%:%
%:%10376=4260%:%
%:%10377=4261%:%
%:%10378=4261%:%
%:%10379=4262%:%
%:%10385=4262%:%
%:%10388=4263%:%
%:%10389=4264%:%
%:%10390=4264%:%
%:%10391=4265%:%
%:%10392=4266%:%
%:%10399=4267%:%
%:%10400=4267%:%
%:%10401=4268%:%
%:%10402=4268%:%
%:%10403=4269%:%
%:%10404=4269%:%
%:%10405=4270%:%
%:%10406=4270%:%
%:%10407=4271%:%
%:%10408=4271%:%
%:%10409=4272%:%
%:%10410=4272%:%
%:%10411=4273%:%
%:%10412=4273%:%
%:%10413=4274%:%
%:%10414=4274%:%
%:%10415=4275%:%
%:%10416=4275%:%
%:%10417=4276%:%
%:%10418=4276%:%
%:%10419=4277%:%
%:%10420=4277%:%
%:%10421=4278%:%
%:%10422=4278%:%
%:%10423=4279%:%
%:%10424=4279%:%
%:%10425=4280%:%
%:%10426=4280%:%
%:%10427=4281%:%
%:%10428=4281%:%
%:%10429=4282%:%
%:%10430=4282%:%
%:%10431=4283%:%
%:%10432=4283%:%
%:%10433=4284%:%
%:%10434=4284%:%
%:%10435=4285%:%
%:%10436=4285%:%
%:%10437=4286%:%
%:%10438=4286%:%
%:%10439=4286%:%
%:%10440=4287%:%
%:%10441=4287%:%
%:%10442=4288%:%
%:%10443=4288%:%
%:%10444=4289%:%
%:%10445=4289%:%
%:%10446=4290%:%
%:%10447=4290%:%
%:%10448=4291%:%
%:%10449=4291%:%
%:%10450=4292%:%
%:%10456=4292%:%
%:%10459=4293%:%
%:%10460=4294%:%
%:%10461=4294%:%
%:%10464=4295%:%
%:%10468=4295%:%
%:%10469=4295%:%
%:%10474=4295%:%
%:%10477=4296%:%
%:%10478=4297%:%
%:%10479=4297%:%
%:%10482=4298%:%
%:%10486=4298%:%
%:%10487=4298%:%
%:%10492=4298%:%
%:%10495=4299%:%
%:%10496=4300%:%
%:%10497=4300%:%
%:%10498=4301%:%
%:%10499=4302%:%
%:%10506=4303%:%
%:%10507=4303%:%
%:%10508=4304%:%
%:%10509=4304%:%
%:%10510=4305%:%
%:%10511=4305%:%
%:%10512=4306%:%
%:%10513=4306%:%
%:%10514=4307%:%
%:%10515=4307%:%
%:%10516=4308%:%
%:%10517=4308%:%
%:%10518=4309%:%
%:%10519=4309%:%
%:%10520=4310%:%
%:%10521=4310%:%
%:%10522=4311%:%
%:%10523=4311%:%
%:%10524=4312%:%
%:%10525=4312%:%
%:%10526=4313%:%
%:%10527=4313%:%
%:%10528=4314%:%
%:%10529=4314%:%
%:%10530=4315%:%
%:%10531=4315%:%
%:%10532=4316%:%
%:%10533=4316%:%
%:%10534=4317%:%
%:%10535=4317%:%
%:%10536=4318%:%
%:%10537=4318%:%
%:%10538=4319%:%
%:%10539=4319%:%
%:%10540=4320%:%
%:%10541=4320%:%
%:%10542=4321%:%
%:%10543=4321%:%
%:%10544=4322%:%
%:%10545=4322%:%
%:%10546=4323%:%
%:%10547=4323%:%
%:%10548=4324%:%
%:%10549=4324%:%
%:%10550=4325%:%
%:%10551=4325%:%
%:%10552=4326%:%
%:%10553=4326%:%
%:%10554=4327%:%
%:%10555=4327%:%
%:%10556=4328%:%
%:%10557=4328%:%
%:%10558=4329%:%
%:%10559=4329%:%
%:%10560=4330%:%
%:%10561=4330%:%
%:%10562=4331%:%
%:%10563=4331%:%
%:%10564=4332%:%
%:%10565=4332%:%
%:%10566=4333%:%
%:%10567=4333%:%
%:%10568=4334%:%
%:%10569=4334%:%
%:%10570=4335%:%
%:%10571=4335%:%
%:%10572=4336%:%
%:%10573=4337%:%
%:%10574=4338%:%
%:%10575=4338%:%
%:%10576=4339%:%
%:%10577=4339%:%
%:%10578=4340%:%
%:%10579=4341%:%
%:%10580=4342%:%
%:%10581=4343%:%
%:%10582=4343%:%
%:%10583=4344%:%
%:%10584=4344%:%
%:%10585=4345%:%
%:%10586=4345%:%
%:%10587=4346%:%
%:%10588=4346%:%
%:%10591=4349%:%
%:%10592=4350%:%
%:%10593=4351%:%
%:%10594=4351%:%
%:%10595=4352%:%
%:%10596=4353%:%
%:%10597=4354%:%
%:%10598=4355%:%
%:%10599=4355%:%
%:%10600=4356%:%
%:%10601=4356%:%
%:%10602=4357%:%
%:%10603=4358%:%
%:%10604=4359%:%
%:%10605=4359%:%
%:%10606=4360%:%
%:%10607=4360%:%
%:%10614=4367%:%
%:%10615=4368%:%
%:%10616=4368%:%
%:%10617=4369%:%
%:%10618=4369%:%
%:%10619=4370%:%
%:%10620=4370%:%
%:%10621=4371%:%
%:%10622=4371%:%
%:%10623=4372%:%
%:%10624=4372%:%
%:%10625=4373%:%
%:%10626=4374%:%
%:%10627=4375%:%
%:%10628=4375%:%
%:%10629=4376%:%
%:%10630=4376%:%
%:%10631=4377%:%
%:%10632=4377%:%
%:%10633=4378%:%
%:%10634=4379%:%
%:%10635=4380%:%
%:%10636=4381%:%
%:%10637=4381%:%
%:%10638=4382%:%
%:%10639=4382%:%
%:%10640=4383%:%
%:%10641=4384%:%
%:%10642=4385%:%
%:%10648=4385%:%
%:%10651=4386%:%
%:%10652=4387%:%
%:%10653=4387%:%
%:%10654=4388%:%
%:%10655=4389%:%
%:%10657=4391%:%
%:%10664=4392%:%
%:%10665=4392%:%
%:%10666=4393%:%
%:%10667=4393%:%
%:%10668=4394%:%
%:%10669=4394%:%
%:%10670=4395%:%
%:%10671=4396%:%
%:%10672=4396%:%
%:%10673=4396%:%
%:%10674=4397%:%
%:%10675=4398%:%
%:%10676=4399%:%
%:%10677=4399%:%
%:%10678=4400%:%
%:%10679=4400%:%
%:%10680=4401%:%
%:%10681=4401%:%
%:%10682=4402%:%
%:%10683=4402%:%
%:%10684=4403%:%
%:%10685=4403%:%
%:%10686=4404%:%
%:%10687=4404%:%
%:%10688=4405%:%
%:%10689=4405%:%
%:%10690=4406%:%
%:%10691=4407%:%
%:%10692=4407%:%
%:%10693=4408%:%
%:%10694=4408%:%
%:%10695=4409%:%
%:%10696=4410%:%
%:%10697=4410%:%
%:%10698=4411%:%
%:%10699=4411%:%
%:%10700=4411%:%
%:%10701=4412%:%
%:%10702=4412%:%
%:%10703=4413%:%
%:%10704=4413%:%
%:%10705=4414%:%
%:%10711=4414%:%
%:%10714=4415%:%
%:%10715=4416%:%
%:%10716=4416%:%
%:%10717=4417%:%
%:%10718=4418%:%
%:%10719=4419%:%
%:%10726=4420%:%
%:%10727=4420%:%
%:%10728=4421%:%
%:%10729=4421%:%
%:%10730=4422%:%
%:%10731=4423%:%
%:%10732=4424%:%
%:%10733=4424%:%
%:%10734=4425%:%
%:%10735=4425%:%
%:%10736=4426%:%
%:%10737=4426%:%
%:%10738=4427%:%
%:%10739=4427%:%
%:%10740=4428%:%
%:%10741=4429%:%
%:%10742=4429%:%
%:%10743=4430%:%
%:%10744=4431%:%
%:%10745=4431%:%
%:%10746=4432%:%
%:%10747=4432%:%
%:%10748=4433%:%
%:%10749=4434%:%
%:%10750=4434%:%
%:%10751=4435%:%
%:%10752=4435%:%
%:%10753=4436%:%
%:%10754=4436%:%
%:%10755=4437%:%
%:%10756=4437%:%
%:%10757=4438%:%
%:%10758=4438%:%
%:%10759=4439%:%
%:%10760=4440%:%
%:%10761=4440%:%
%:%10762=4441%:%
%:%10763=4441%:%
%:%10764=4442%:%
%:%10765=4442%:%
%:%10766=4443%:%
%:%10767=4443%:%
%:%10768=4444%:%
%:%10769=4445%:%
%:%10770=4445%:%
%:%10771=4446%:%
%:%10772=4446%:%
%:%10773=4447%:%
%:%10774=4447%:%
%:%10775=4448%:%
%:%10776=4449%:%
%:%10777=4449%:%
%:%10778=4450%:%
%:%10779=4450%:%
%:%10780=4451%:%
%:%10781=4452%:%
%:%10782=4452%:%
%:%10783=4453%:%
%:%10784=4454%:%
%:%10785=4455%:%
%:%10786=4455%:%
%:%10787=4456%:%
%:%10788=4457%:%
%:%10789=4458%:%
%:%10790=4458%:%
%:%10791=4459%:%
%:%10792=4460%:%
%:%10793=4460%:%
%:%10794=4461%:%
%:%10795=4461%:%
%:%10796=4462%:%
%:%10797=4462%:%
%:%10798=4463%:%
%:%10799=4463%:%
%:%10800=4464%:%
%:%10801=4464%:%
%:%10802=4465%:%
%:%10803=4465%:%
%:%10804=4465%:%
%:%10805=4466%:%
%:%10806=4467%:%
%:%10807=4467%:%
%:%10808=4468%:%
%:%10809=4468%:%
%:%10810=4469%:%
%:%10811=4469%:%
%:%10812=4470%:%
%:%10813=4470%:%
%:%10814=4471%:%
%:%10815=4471%:%
%:%10816=4472%:%
%:%10817=4472%:%
%:%10818=4473%:%
%:%10819=4473%:%
%:%10820=4474%:%
%:%10821=4474%:%
%:%10822=4475%:%
%:%10823=4475%:%
%:%10824=4476%:%
%:%10830=4476%:%
%:%10833=4477%:%
%:%10834=4478%:%
%:%10835=4478%:%
%:%10836=4479%:%
%:%10837=4480%:%
%:%10838=4481%:%
%:%10841=4482%:%
%:%10845=4482%:%
%:%10846=4482%:%
%:%10847=4483%:%
%:%10848=4483%:%
%:%10853=4483%:%
%:%10856=4484%:%
%:%10857=4485%:%
%:%10858=4485%:%
%:%10859=4486%:%
%:%10860=4487%:%
%:%10861=4488%:%
%:%10862=4489%:%
%:%10869=4490%:%
%:%10870=4490%:%
%:%10871=4491%:%
%:%10872=4491%:%
%:%10873=4492%:%
%:%10874=4492%:%
%:%10875=4492%:%
%:%10876=4493%:%
%:%10877=4494%:%
%:%10878=4495%:%
%:%10879=4495%:%
%:%10880=4496%:%
%:%10881=4496%:%
%:%10882=4497%:%
%:%10883=4498%:%
%:%10884=4498%:%
%:%10885=4499%:%
%:%10886=4499%:%
%:%10887=4500%:%
%:%10888=4500%:%
%:%10889=4500%:%
%:%10890=4501%:%
%:%10891=4501%:%
%:%10892=4502%:%
%:%10893=4502%:%
%:%10894=4503%:%
%:%10895=4503%:%
%:%10896=4503%:%
%:%10897=4504%:%
%:%10898=4504%:%
%:%10899=4505%:%
%:%10900=4505%:%
%:%10901=4506%:%
%:%10902=4506%:%
%:%10903=4506%:%
%:%10904=4507%:%
%:%10905=4507%:%
%:%10906=4508%:%
%:%10907=4508%:%
%:%10908=4509%:%
%:%10909=4509%:%
%:%10910=4510%:%
%:%10911=4510%:%
%:%10912=4511%:%
%:%10913=4511%:%
%:%10914=4511%:%
%:%10915=4512%:%
%:%10916=4513%:%
%:%10917=4514%:%
%:%10918=4514%:%
%:%10919=4515%:%
%:%10920=4515%:%
%:%10921=4516%:%
%:%10922=4516%:%
%:%10923=4517%:%
%:%10924=4517%:%
%:%10925=4518%:%
%:%10926=4519%:%
%:%10927=4520%:%
%:%10928=4520%:%
%:%10929=4521%:%
%:%10930=4521%:%
%:%10931=4522%:%
%:%10932=4522%:%
%:%10933=4523%:%
%:%10934=4523%:%
%:%10935=4523%:%
%:%10936=4524%:%
%:%10937=4524%:%
%:%10938=4525%:%
%:%10939=4525%:%
%:%10940=4526%:%
%:%10941=4527%:%
%:%10947=4527%:%
%:%10950=4528%:%
%:%10951=4529%:%
%:%10952=4529%:%
%:%10953=4530%:%
%:%10954=4531%:%
%:%10955=4532%:%
%:%10956=4533%:%
%:%10963=4534%:%
%:%10964=4534%:%
%:%10965=4535%:%
%:%10966=4535%:%
%:%10967=4536%:%
%:%10968=4537%:%
%:%10969=4538%:%
%:%10970=4538%:%
%:%10971=4539%:%
%:%10972=4539%:%
%:%10973=4540%:%
%:%10974=4540%:%
%:%10975=4541%:%
%:%10976=4541%:%
%:%10977=4542%:%
%:%10978=4543%:%
%:%10979=4543%:%
%:%10980=4544%:%
%:%10981=4545%:%
%:%10982=4545%:%
%:%10983=4546%:%
%:%10984=4546%:%
%:%10985=4547%:%
%:%10986=4548%:%
%:%10987=4548%:%
%:%10988=4549%:%
%:%10989=4549%:%
%:%10990=4550%:%
%:%10991=4550%:%
%:%10992=4551%:%
%:%10993=4551%:%
%:%10994=4552%:%
%:%10995=4552%:%
%:%10996=4553%:%
%:%10997=4554%:%
%:%10998=4554%:%
%:%10999=4555%:%
%:%11000=4555%:%
%:%11001=4556%:%
%:%11002=4556%:%
%:%11003=4557%:%
%:%11004=4557%:%
%:%11005=4558%:%
%:%11006=4558%:%
%:%11007=4559%:%
%:%11008=4560%:%
%:%11009=4560%:%
%:%11010=4561%:%
%:%11011=4561%:%
%:%11012=4562%:%
%:%11013=4562%:%
%:%11014=4563%:%
%:%11015=4564%:%
%:%11016=4564%:%
%:%11017=4565%:%
%:%11018=4565%:%
%:%11019=4566%:%
%:%11020=4567%:%
%:%11021=4567%:%
%:%11022=4568%:%
%:%11023=4569%:%
%:%11024=4570%:%
%:%11025=4570%:%
%:%11026=4571%:%
%:%11027=4572%:%
%:%11028=4572%:%
%:%11029=4573%:%
%:%11030=4573%:%
%:%11031=4574%:%
%:%11032=4574%:%
%:%11036=4578%:%
%:%11037=4579%:%
%:%11038=4579%:%
%:%11039=4580%:%
%:%11040=4581%:%
%:%11041=4582%:%
%:%11042=4582%:%
%:%11043=4583%:%
%:%11044=4584%:%
%:%11045=4584%:%
%:%11046=4585%:%
%:%11047=4586%:%
%:%11048=4586%:%
%:%11049=4587%:%
%:%11050=4587%:%
%:%11051=4588%:%
%:%11052=4588%:%
%:%11053=4589%:%
%:%11054=4590%:%
%:%11055=4590%:%
%:%11056=4591%:%
%:%11057=4592%:%
%:%11058=4592%:%
%:%11059=4593%:%
%:%11060=4593%:%
%:%11061=4594%:%
%:%11062=4595%:%
%:%11063=4596%:%
%:%11064=4596%:%
%:%11065=4597%:%
%:%11066=4598%:%
%:%11067=4598%:%
%:%11068=4599%:%
%:%11069=4599%:%
%:%11070=4600%:%
%:%11071=4600%:%
%:%11072=4601%:%
%:%11073=4602%:%
%:%11074=4602%:%
%:%11075=4603%:%
%:%11076=4603%:%
%:%11077=4604%:%
%:%11078=4605%:%
%:%11079=4606%:%
%:%11080=4606%:%
%:%11081=4606%:%
%:%11082=4607%:%
%:%11083=4608%:%
%:%11084=4608%:%
%:%11085=4609%:%
%:%11086=4609%:%
%:%11087=4610%:%
%:%11088=4610%:%
%:%11089=4611%:%
%:%11090=4611%:%
%:%11091=4612%:%
%:%11092=4612%:%
%:%11093=4613%:%
%:%11094=4613%:%
%:%11095=4614%:%
%:%11096=4614%:%
%:%11097=4615%:%
%:%11098=4615%:%
%:%11099=4616%:%
%:%11100=4616%:%
%:%11101=4617%:%
%:%11107=4617%:%
%:%11110=4618%:%
%:%11111=4619%:%
%:%11112=4619%:%
%:%11113=4620%:%
%:%11114=4621%:%
%:%11115=4622%:%
%:%11116=4623%:%
%:%11123=4624%:%
%:%11124=4624%:%
%:%11125=4625%:%
%:%11126=4625%:%
%:%11127=4626%:%
%:%11128=4627%:%
%:%11129=4628%:%
%:%11130=4628%:%
%:%11131=4629%:%
%:%11132=4629%:%
%:%11133=4630%:%
%:%11134=4630%:%
%:%11135=4631%:%
%:%11136=4631%:%
%:%11137=4632%:%
%:%11138=4633%:%
%:%11139=4633%:%
%:%11140=4634%:%
%:%11141=4635%:%
%:%11142=4635%:%
%:%11143=4636%:%
%:%11144=4636%:%
%:%11145=4637%:%
%:%11146=4638%:%
%:%11147=4638%:%
%:%11148=4639%:%
%:%11149=4639%:%
%:%11150=4640%:%
%:%11151=4640%:%
%:%11152=4641%:%
%:%11153=4641%:%
%:%11154=4642%:%
%:%11155=4642%:%
%:%11156=4643%:%
%:%11157=4644%:%
%:%11158=4644%:%
%:%11159=4645%:%
%:%11160=4645%:%
%:%11161=4646%:%
%:%11162=4646%:%
%:%11163=4647%:%
%:%11164=4647%:%
%:%11165=4648%:%
%:%11166=4649%:%
%:%11167=4649%:%
%:%11168=4650%:%
%:%11169=4650%:%
%:%11170=4651%:%
%:%11171=4651%:%
%:%11172=4652%:%
%:%11173=4653%:%
%:%11174=4653%:%
%:%11175=4654%:%
%:%11176=4654%:%
%:%11177=4655%:%
%:%11178=4656%:%
%:%11179=4656%:%
%:%11180=4657%:%
%:%11181=4658%:%
%:%11182=4659%:%
%:%11183=4659%:%
%:%11184=4660%:%
%:%11185=4661%:%
%:%11186=4661%:%
%:%11187=4662%:%
%:%11188=4662%:%
%:%11189=4663%:%
%:%11190=4663%:%
%:%11191=4664%:%
%:%11192=4665%:%
%:%11193=4665%:%
%:%11194=4666%:%
%:%11195=4666%:%
%:%11196=4667%:%
%:%11197=4667%:%
%:%11198=4667%:%
%:%11199=4668%:%
%:%11200=4669%:%
%:%11201=4669%:%
%:%11202=4670%:%
%:%11203=4670%:%
%:%11204=4671%:%
%:%11205=4671%:%
%:%11206=4672%:%
%:%11207=4672%:%
%:%11208=4673%:%
%:%11209=4673%:%
%:%11210=4674%:%
%:%11211=4674%:%
%:%11212=4675%:%
%:%11213=4675%:%
%:%11214=4676%:%
%:%11215=4676%:%
%:%11216=4677%:%
%:%11222=4677%:%
%:%11225=4678%:%
%:%11226=4679%:%
%:%11227=4679%:%
%:%11228=4680%:%
%:%11229=4681%:%
%:%11230=4682%:%
%:%11233=4683%:%
%:%11237=4683%:%
%:%11238=4683%:%
%:%11239=4684%:%
%:%11240=4685%:%
%:%11241=4685%:%
%:%11246=4685%:%
%:%11249=4686%:%
%:%11250=4687%:%
%:%11251=4687%:%
%:%11252=4688%:%
%:%11253=4689%:%
%:%11260=4690%:%
%:%11261=4690%:%
%:%11262=4691%:%
%:%11263=4691%:%
%:%11264=4692%:%
%:%11265=4692%:%
%:%11266=4693%:%
%:%11267=4694%:%
%:%11268=4694%:%
%:%11269=4695%:%
%:%11270=4695%:%
%:%11271=4695%:%
%:%11272=4696%:%
%:%11273=4696%:%
%:%11274=4697%:%
%:%11275=4697%:%
%:%11276=4698%:%
%:%11282=4698%:%
%:%11285=4699%:%
%:%11286=4700%:%
%:%11287=4700%:%
%:%11290=4701%:%
%:%11294=4701%:%
%:%11295=4701%:%
%:%11296=4702%:%
%:%11297=4703%:%
%:%11298=4704%:%
%:%11303=4704%:%
%:%11306=4705%:%
%:%11307=4706%:%
%:%11308=4706%:%
%:%11309=4707%:%
%:%11310=4708%:%
%:%11311=4709%:%
%:%11318=4710%:%
%:%11319=4710%:%
%:%11320=4711%:%
%:%11321=4711%:%
%:%11322=4712%:%
%:%11323=4713%:%
%:%11324=4713%:%
%:%11325=4714%:%
%:%11326=4714%:%
%:%11327=4715%:%
%:%11328=4715%:%
%:%11329=4716%:%
%:%11330=4716%:%
%:%11331=4717%:%
%:%11332=4717%:%
%:%11333=4718%:%
%:%11334=4718%:%
%:%11335=4719%:%
%:%11336=4719%:%
%:%11337=4720%:%
%:%11338=4720%:%
%:%11339=4721%:%
%:%11340=4721%:%
%:%11341=4722%:%
%:%11342=4722%:%
%:%11343=4723%:%
%:%11344=4723%:%
%:%11345=4723%:%
%:%11346=4724%:%
%:%11347=4724%:%
%:%11348=4725%:%
%:%11349=4725%:%
%:%11350=4726%:%
%:%11351=4726%:%
%:%11352=4726%:%
%:%11353=4727%:%
%:%11354=4727%:%
%:%11355=4728%:%
%:%11356=4728%:%
%:%11357=4729%:%
%:%11358=4729%:%
%:%11359=4730%:%
%:%11360=4730%:%
%:%11361=4731%:%
%:%11362=4732%:%
%:%11363=4732%:%
%:%11364=4733%:%
%:%11365=4733%:%
%:%11366=4734%:%
%:%11367=4734%:%
%:%11368=4735%:%
%:%11369=4735%:%
%:%11370=4735%:%
%:%11371=4736%:%
%:%11372=4737%:%
%:%11373=4737%:%
%:%11374=4738%:%
%:%11375=4738%:%
%:%11376=4739%:%
%:%11377=4739%:%
%:%11378=4739%:%
%:%11379=4740%:%
%:%11380=4741%:%
%:%11381=4741%:%
%:%11382=4742%:%
%:%11383=4742%:%
%:%11384=4743%:%
%:%11385=4743%:%
%:%11386=4744%:%
%:%11387=4744%:%
%:%11388=4745%:%
%:%11389=4745%:%
%:%11390=4746%:%
%:%11391=4746%:%
%:%11392=4747%:%
%:%11393=4748%:%
%:%11394=4748%:%
%:%11395=4749%:%
%:%11396=4749%:%
%:%11397=4750%:%
%:%11398=4750%:%
%:%11399=4751%:%
%:%11400=4751%:%
%:%11401=4752%:%
%:%11402=4752%:%
%:%11403=4753%:%
%:%11404=4753%:%
%:%11405=4754%:%
%:%11406=4754%:%
%:%11407=4755%:%
%:%11408=4755%:%
%:%11409=4756%:%
%:%11410=4756%:%
%:%11411=4757%:%
%:%11412=4757%:%
%:%11413=4757%:%
%:%11414=4758%:%
%:%11415=4758%:%
%:%11416=4759%:%
%:%11417=4759%:%
%:%11418=4760%:%
%:%11419=4760%:%
%:%11420=4761%:%
%:%11421=4761%:%
%:%11422=4762%:%
%:%11423=4762%:%
%:%11424=4762%:%
%:%11425=4763%:%
%:%11426=4764%:%
%:%11427=4764%:%
%:%11428=4765%:%
%:%11429=4765%:%
%:%11430=4765%:%
%:%11431=4766%:%
%:%11432=4766%:%
%:%11433=4767%:%
%:%11434=4767%:%
%:%11435=4768%:%
%:%11436=4768%:%
%:%11437=4768%:%
%:%11438=4769%:%
%:%11439=4769%:%
%:%11440=4769%:%
%:%11441=4770%:%
%:%11442=4770%:%
%:%11443=4770%:%
%:%11444=4771%:%
%:%11445=4771%:%
%:%11446=4772%:%
%:%11447=4772%:%
%:%11448=4773%:%
%:%11449=4773%:%
%:%11450=4774%:%
%:%11451=4774%:%
%:%11452=4775%:%
%:%11453=4775%:%
%:%11454=4776%:%
%:%11455=4776%:%
%:%11456=4777%:%
%:%11457=4777%:%
%:%11458=4778%:%
%:%11459=4778%:%
%:%11460=4779%:%
%:%11461=4779%:%
%:%11462=4780%:%
%:%11463=4780%:%
%:%11464=4781%:%
%:%11465=4781%:%
%:%11466=4782%:%
%:%11467=4782%:%
%:%11468=4782%:%
%:%11469=4783%:%
%:%11470=4784%:%
%:%11471=4784%:%
%:%11472=4785%:%
%:%11473=4786%:%
%:%11474=4787%:%
%:%11475=4787%:%
%:%11476=4788%:%
%:%11477=4789%:%
%:%11478=4789%:%
%:%11479=4790%:%
%:%11480=4790%:%
%:%11481=4791%:%
%:%11482=4791%:%
%:%11483=4792%:%
%:%11484=4792%:%
%:%11485=4793%:%
%:%11486=4793%:%
%:%11487=4793%:%
%:%11488=4794%:%
%:%11489=4794%:%
%:%11490=4795%:%
%:%11491=4795%:%
%:%11492=4796%:%
%:%11493=4796%:%
%:%11494=4797%:%
%:%11495=4797%:%
%:%11496=4798%:%
%:%11497=4798%:%
%:%11498=4799%:%
%:%11499=4799%:%
%:%11500=4799%:%
%:%11501=4800%:%
%:%11502=4800%:%
%:%11503=4801%:%
%:%11504=4801%:%
%:%11505=4802%:%
%:%11506=4802%:%
%:%11507=4803%:%
%:%11508=4803%:%
%:%11509=4804%:%
%:%11510=4804%:%
%:%11511=4805%:%
%:%11512=4805%:%
%:%11513=4806%:%
%:%11514=4806%:%
%:%11515=4807%:%
%:%11516=4807%:%
%:%11517=4808%:%
%:%11518=4808%:%
%:%11519=4809%:%
%:%11525=4809%:%
%:%11528=4810%:%
%:%11529=4811%:%
%:%11530=4811%:%
%:%11533=4812%:%
%:%11537=4812%:%
%:%11538=4812%:%
%:%11539=4813%:%
%:%11540=4814%:%
%:%11541=4815%:%
%:%11546=4815%:%
%:%11549=4816%:%
%:%11550=4817%:%
%:%11551=4817%:%
%:%11552=4818%:%
%:%11553=4819%:%
%:%11556=4820%:%
%:%11560=4820%:%
%:%11561=4820%:%
%:%11566=4820%:%
%:%11569=4821%:%
%:%11570=4822%:%
%:%11571=4822%:%
%:%11572=4823%:%
%:%11575=4824%:%
%:%11579=4824%:%
%:%11580=4824%:%
%:%11585=4824%:%
%:%11588=4825%:%
%:%11589=4826%:%
%:%11590=4826%:%
%:%11591=4827%:%
%:%11594=4828%:%
%:%11598=4828%:%
%:%11599=4828%:%
%:%11600=4829%:%
%:%11601=4829%:%
%:%11602=4830%:%
%:%11603=4830%:%
%:%11604=4831%:%
%:%11605=4831%:%
%:%11606=4832%:%
%:%11607=4832%:%
%:%11612=4832%:%
%:%11615=4833%:%
%:%11616=4834%:%
%:%11617=4834%:%
%:%11618=4835%:%
%:%11619=4836%:%
%:%11626=4837%:%
%:%11627=4837%:%
%:%11628=4838%:%
%:%11629=4838%:%
%:%11630=4839%:%
%:%11631=4839%:%
%:%11632=4840%:%
%:%11633=4840%:%
%:%11634=4841%:%
%:%11635=4841%:%
%:%11636=4842%:%
%:%11637=4842%:%
%:%11638=4843%:%
%:%11639=4843%:%
%:%11640=4844%:%
%:%11641=4844%:%
%:%11642=4845%:%
%:%11643=4845%:%
%:%11644=4846%:%
%:%11645=4847%:%
%:%11646=4847%:%
%:%11647=4848%:%
%:%11648=4848%:%
%:%11649=4849%:%
%:%11650=4849%:%
%:%11651=4850%:%
%:%11652=4850%:%
%:%11653=4851%:%
%:%11659=4851%:%
%:%11662=4852%:%
%:%11663=4853%:%
%:%11664=4853%:%
%:%11665=4854%:%
%:%11666=4855%:%
%:%11667=4856%:%
%:%11674=4857%:%
%:%11675=4857%:%
%:%11676=4858%:%
%:%11677=4858%:%
%:%11678=4859%:%
%:%11679=4859%:%
%:%11680=4860%:%
%:%11681=4860%:%
%:%11682=4861%:%
%:%11683=4861%:%
%:%11684=4862%:%
%:%11685=4862%:%
%:%11686=4863%:%
%:%11687=4863%:%
%:%11688=4864%:%
%:%11689=4864%:%
%:%11690=4865%:%
%:%11691=4865%:%
%:%11692=4866%:%
%:%11693=4866%:%
%:%11694=4867%:%
%:%11695=4867%:%
%:%11696=4868%:%
%:%11697=4868%:%
%:%11698=4869%:%
%:%11699=4869%:%
%:%11700=4870%:%
%:%11701=4870%:%
%:%11702=4871%:%
%:%11703=4871%:%
%:%11704=4872%:%
%:%11705=4872%:%
%:%11706=4873%:%
%:%11707=4873%:%
%:%11708=4874%:%
%:%11709=4874%:%
%:%11710=4875%:%
%:%11711=4875%:%
%:%11712=4876%:%
%:%11713=4876%:%
%:%11714=4876%:%
%:%11715=4877%:%
%:%11716=4877%:%
%:%11717=4878%:%
%:%11718=4878%:%
%:%11719=4879%:%
%:%11720=4879%:%
%:%11721=4880%:%
%:%11722=4881%:%
%:%11723=4881%:%
%:%11724=4882%:%
%:%11725=4883%:%
%:%11726=4883%:%
%:%11727=4884%:%
%:%11728=4884%:%
%:%11729=4885%:%
%:%11730=4886%:%
%:%11731=4886%:%
%:%11732=4887%:%
%:%11733=4887%:%
%:%11734=4888%:%
%:%11735=4888%:%
%:%11736=4889%:%
%:%11737=4889%:%
%:%11738=4890%:%
%:%11739=4890%:%
%:%11740=4891%:%
%:%11741=4891%:%
%:%11742=4892%:%
%:%11748=4892%:%
%:%11751=4893%:%
%:%11752=4894%:%
%:%11753=4894%:%
%:%11754=4895%:%
%:%11755=4896%:%
%:%11756=4897%:%
%:%11763=4898%:%
%:%11764=4898%:%
%:%11765=4899%:%
%:%11766=4899%:%
%:%11767=4900%:%
%:%11768=4900%:%
%:%11769=4901%:%
%:%11770=4901%:%
%:%11771=4902%:%
%:%11772=4902%:%
%:%11773=4902%:%
%:%11774=4903%:%
%:%11775=4904%:%
%:%11776=4905%:%
%:%11777=4905%:%
%:%11778=4906%:%
%:%11779=4906%:%
%:%11780=4907%:%
%:%11781=4907%:%
%:%11782=4907%:%
%:%11783=4908%:%
%:%11784=4908%:%
%:%11785=4909%:%
%:%11786=4909%:%
%:%11787=4910%:%
%:%11793=4910%:%
%:%11796=4911%:%
%:%11797=4912%:%
%:%11798=4912%:%
%:%11799=4913%:%
%:%11800=4914%:%
%:%11807=4915%:%
%:%11808=4915%:%
%:%11809=4916%:%
%:%11810=4916%:%
%:%11811=4917%:%
%:%11812=4917%:%
%:%11813=4918%:%
%:%11814=4918%:%
%:%11815=4919%:%
%:%11816=4919%:%
%:%11817=4920%:%
%:%11818=4920%:%
%:%11819=4921%:%
%:%11820=4921%:%
%:%11821=4922%:%
%:%11822=4922%:%
%:%11823=4923%:%
%:%11824=4923%:%
%:%11825=4924%:%
%:%11826=4924%:%
%:%11827=4925%:%
%:%11828=4925%:%
%:%11829=4925%:%
%:%11830=4926%:%
%:%11831=4926%:%
%:%11832=4927%:%
%:%11833=4927%:%
%:%11834=4928%:%
%:%11840=4928%:%
%:%11843=4929%:%
%:%11844=4930%:%
%:%11845=4930%:%
%:%11846=4931%:%
%:%11847=4932%:%
%:%11854=4933%:%
%:%11855=4933%:%
%:%11856=4934%:%
%:%11857=4934%:%
%:%11858=4935%:%
%:%11859=4935%:%
%:%11860=4936%:%
%:%11861=4936%:%
%:%11862=4937%:%
%:%11863=4937%:%
%:%11864=4938%:%
%:%11865=4938%:%
%:%11866=4939%:%
%:%11867=4939%:%
%:%11868=4940%:%
%:%11869=4940%:%
%:%11870=4941%:%
%:%11871=4941%:%
%:%11872=4942%:%
%:%11873=4942%:%
%:%11874=4943%:%
%:%11875=4943%:%
%:%11876=4943%:%
%:%11877=4944%:%
%:%11878=4944%:%
%:%11879=4945%:%
%:%11880=4945%:%
%:%11881=4946%:%
%:%11887=4946%:%
%:%11890=4947%:%
%:%11891=4948%:%
%:%11892=4948%:%
%:%11893=4949%:%
%:%11894=4950%:%
%:%11897=4951%:%
%:%11901=4951%:%
%:%11902=4951%:%
%:%11903=4952%:%
%:%11904=4953%:%
%:%11905=4953%:%
%:%11910=4953%:%
%:%11913=4954%:%
%:%11914=4955%:%
%:%11915=4955%:%
%:%11916=4956%:%
%:%11919=4957%:%
%:%11923=4957%:%
%:%11924=4957%:%
%:%11929=4957%:%
%:%11932=4958%:%
%:%11933=4959%:%
%:%11934=4959%:%
%:%11935=4960%:%
%:%11936=4961%:%
%:%11939=4962%:%
%:%11943=4962%:%
%:%11944=4962%:%
%:%11945=4963%:%
%:%11946=4963%:%
%:%11947=4964%:%
%:%11952=4964%:%
%:%11955=4965%:%
%:%11956=4966%:%
%:%11957=4966%:%
%:%11958=4967%:%
%:%11959=4968%:%
%:%11962=4969%:%
%:%11966=4969%:%
%:%11967=4969%:%
%:%11968=4970%:%
%:%11969=4970%:%
%:%11974=4970%:%
%:%11977=4971%:%
%:%11978=4972%:%
%:%11979=4972%:%
%:%11980=4973%:%
%:%11981=4974%:%
%:%11988=4975%:%
%:%11989=4975%:%
%:%11990=4976%:%
%:%11991=4976%:%
%:%11992=4977%:%
%:%11993=4977%:%
%:%11994=4978%:%
%:%11995=4978%:%
%:%11996=4979%:%
%:%11997=4979%:%
%:%11998=4980%:%
%:%11999=4980%:%
%:%12000=4981%:%
%:%12001=4981%:%
%:%12002=4982%:%
%:%12003=4983%:%
%:%12009=4983%:%
%:%12012=4984%:%
%:%12013=4985%:%
%:%12014=4985%:%
%:%12015=4986%:%
%:%12016=4987%:%
%:%12017=4988%:%
%:%12018=4989%:%
%:%12025=4990%:%
%:%12026=4990%:%
%:%12027=4991%:%
%:%12028=4991%:%
%:%12029=4992%:%
%:%12030=4993%:%
%:%12031=4993%:%
%:%12032=4994%:%
%:%12033=4994%:%
%:%12034=4995%:%
%:%12035=4995%:%
%:%12036=4996%:%
%:%12037=4997%:%
%:%12038=4997%:%
%:%12039=4998%:%
%:%12040=4998%:%
%:%12041=4999%:%
%:%12042=4999%:%
%:%12043=5000%:%
%:%12044=5001%:%
%:%12045=5001%:%
%:%12046=5002%:%
%:%12047=5002%:%
%:%12048=5003%:%
%:%12049=5003%:%
%:%12051=5005%:%
%:%12052=5006%:%
%:%12053=5006%:%
%:%12054=5007%:%
%:%12055=5007%:%
%:%12056=5008%:%
%:%12057=5008%:%
%:%12058=5009%:%
%:%12059=5009%:%
%:%12060=5010%:%
%:%12061=5010%:%
%:%12062=5010%:%
%:%12064=5012%:%
%:%12065=5013%:%
%:%12066=5013%:%
%:%12067=5014%:%
%:%12068=5014%:%
%:%12069=5015%:%
%:%12070=5016%:%
%:%12071=5016%:%
%:%12072=5017%:%
%:%12073=5017%:%
%:%12074=5018%:%
%:%12075=5018%:%
%:%12076=5019%:%
%:%12077=5019%:%
%:%12078=5019%:%
%:%12079=5020%:%
%:%12080=5021%:%
%:%12081=5021%:%
%:%12082=5022%:%
%:%12083=5022%:%
%:%12084=5023%:%
%:%12085=5023%:%
%:%12086=5024%:%
%:%12087=5024%:%
%:%12088=5025%:%
%:%12089=5025%:%
%:%12091=5027%:%
%:%12092=5028%:%
%:%12093=5028%:%
%:%12094=5029%:%
%:%12095=5029%:%
%:%12096=5030%:%
%:%12097=5030%:%
%:%12098=5031%:%
%:%12099=5031%:%
%:%12100=5032%:%
%:%12101=5032%:%
%:%12102=5032%:%
%:%12103=5033%:%
%:%12104=5033%:%
%:%12105=5034%:%
%:%12106=5034%:%
%:%12107=5035%:%
%:%12113=5035%:%
%:%12116=5036%:%
%:%12117=5037%:%
%:%12118=5037%:%
%:%12119=5038%:%
%:%12120=5039%:%
%:%12121=5040%:%
%:%12122=5041%:%
%:%12125=5042%:%
%:%12129=5042%:%
%:%12130=5042%:%
%:%12131=5043%:%
%:%12132=5043%:%
%:%12137=5043%:%
%:%12140=5044%:%
%:%12141=5045%:%
%:%12142=5045%:%
%:%12143=5046%:%
%:%12144=5047%:%
%:%12145=5048%:%
%:%12152=5049%:%
%:%12153=5049%:%
%:%12154=5050%:%
%:%12155=5050%:%
%:%12156=5051%:%
%:%12157=5052%:%
%:%12158=5052%:%
%:%12159=5053%:%
%:%12160=5053%:%
%:%12161=5054%:%
%:%12162=5054%:%
%:%12163=5055%:%
%:%12164=5055%:%
%:%12165=5056%:%
%:%12166=5056%:%
%:%12167=5057%:%
%:%12168=5057%:%
%:%12169=5058%:%
%:%12170=5058%:%
%:%12171=5059%:%
%:%12172=5059%:%
%:%12173=5060%:%
%:%12174=5060%:%
%:%12175=5061%:%
%:%12176=5061%:%
%:%12177=5062%:%
%:%12178=5062%:%
%:%12179=5063%:%
%:%12180=5063%:%
%:%12181=5064%:%
%:%12182=5064%:%
%:%12183=5065%:%
%:%12184=5065%:%
%:%12185=5066%:%
%:%12186=5066%:%
%:%12187=5067%:%
%:%12188=5067%:%
%:%12189=5068%:%
%:%12190=5068%:%
%:%12191=5069%:%
%:%12192=5069%:%
%:%12193=5070%:%
%:%12194=5070%:%
%:%12195=5070%:%
%:%12196=5071%:%
%:%12197=5071%:%
%:%12198=5072%:%
%:%12199=5072%:%
%:%12200=5073%:%
%:%12201=5073%:%
%:%12202=5073%:%
%:%12203=5074%:%
%:%12204=5074%:%
%:%12205=5075%:%
%:%12206=5075%:%
%:%12207=5076%:%
%:%12208=5076%:%
%:%12209=5077%:%
%:%12210=5077%:%
%:%12211=5078%:%
%:%12212=5078%:%
%:%12213=5079%:%
%:%12214=5079%:%
%:%12215=5080%:%
%:%12216=5080%:%
%:%12217=5081%:%
%:%12218=5081%:%
%:%12219=5082%:%
%:%12220=5082%:%
%:%12221=5083%:%
%:%12222=5083%:%
%:%12223=5084%:%
%:%12224=5084%:%
%:%12225=5085%:%
%:%12226=5085%:%
%:%12227=5086%:%
%:%12228=5086%:%
%:%12229=5087%:%
%:%12230=5087%:%
%:%12232=5089%:%
%:%12233=5090%:%
%:%12234=5090%:%
%:%12235=5091%:%
%:%12236=5091%:%
%:%12237=5092%:%
%:%12238=5092%:%
%:%12239=5093%:%
%:%12240=5094%:%
%:%12241=5094%:%
%:%12242=5094%:%
%:%12243=5095%:%
%:%12244=5096%:%
%:%12245=5096%:%
%:%12246=5097%:%
%:%12247=5098%:%
%:%12248=5098%:%
%:%12249=5099%:%
%:%12250=5099%:%
%:%12251=5099%:%
%:%12252=5100%:%
%:%12253=5101%:%
%:%12254=5101%:%
%:%12255=5102%:%
%:%12256=5102%:%
%:%12257=5103%:%
%:%12258=5103%:%
%:%12259=5104%:%
%:%12260=5104%:%
%:%12261=5105%:%
%:%12262=5105%:%
%:%12263=5106%:%
%:%12264=5106%:%
%:%12265=5107%:%
%:%12266=5107%:%
%:%12267=5108%:%
%:%12268=5108%:%
%:%12269=5109%:%
%:%12270=5109%:%
%:%12271=5110%:%
%:%12272=5110%:%
%:%12273=5111%:%
%:%12274=5111%:%
%:%12275=5112%:%
%:%12276=5112%:%
%:%12277=5113%:%
%:%12278=5113%:%
%:%12279=5114%:%
%:%12280=5114%:%
%:%12281=5115%:%
%:%12282=5115%:%
%:%12283=5116%:%
%:%12284=5116%:%
%:%12285=5117%:%
%:%12286=5117%:%
%:%12287=5118%:%
%:%12288=5119%:%
%:%12289=5119%:%
%:%12290=5120%:%
%:%12291=5120%:%
%:%12292=5120%:%
%:%12293=5121%:%
%:%12294=5121%:%
%:%12295=5122%:%
%:%12296=5122%:%
%:%12297=5123%:%
%:%12298=5123%:%
%:%12299=5124%:%
%:%12300=5124%:%
%:%12301=5124%:%
%:%12302=5125%:%
%:%12303=5125%:%
%:%12304=5126%:%
%:%12305=5127%:%
%:%12306=5127%:%
%:%12307=5128%:%
%:%12308=5128%:%
%:%12309=5129%:%
%:%12310=5129%:%
%:%12311=5130%:%
%:%12312=5130%:%
%:%12313=5131%:%
%:%12314=5131%:%
%:%12315=5131%:%
%:%12316=5132%:%
%:%12317=5132%:%
%:%12318=5133%:%
%:%12319=5133%:%
%:%12320=5134%:%
%:%12321=5134%:%
%:%12322=5135%:%
%:%12323=5135%:%
%:%12324=5136%:%
%:%12325=5136%:%
%:%12326=5137%:%
%:%12327=5137%:%
%:%12328=5137%:%
%:%12329=5138%:%
%:%12330=5139%:%
%:%12331=5139%:%
%:%12332=5140%:%
%:%12333=5140%:%
%:%12334=5140%:%
%:%12335=5141%:%
%:%12336=5141%:%
%:%12337=5142%:%
%:%12338=5142%:%
%:%12339=5143%:%
%:%12340=5143%:%
%:%12341=5143%:%
%:%12342=5144%:%
%:%12343=5144%:%
%:%12344=5144%:%
%:%12345=5145%:%
%:%12346=5145%:%
%:%12347=5145%:%
%:%12348=5146%:%
%:%12349=5146%:%
%:%12350=5147%:%
%:%12351=5147%:%
%:%12352=5148%:%
%:%12353=5148%:%
%:%12354=5148%:%
%:%12355=5149%:%
%:%12356=5149%:%
%:%12357=5150%:%
%:%12358=5150%:%
%:%12359=5151%:%
%:%12360=5151%:%
%:%12361=5152%:%
%:%12362=5152%:%
%:%12363=5153%:%
%:%12364=5153%:%
%:%12365=5154%:%
%:%12366=5154%:%
%:%12367=5155%:%
%:%12368=5155%:%
%:%12369=5156%:%
%:%12370=5156%:%
%:%12371=5157%:%
%:%12372=5157%:%
%:%12373=5158%:%
%:%12374=5158%:%
%:%12375=5159%:%
%:%12376=5159%:%
%:%12377=5159%:%
%:%12378=5160%:%
%:%12379=5161%:%
%:%12380=5161%:%
%:%12381=5162%:%
%:%12382=5162%:%
%:%12383=5163%:%
%:%12384=5163%:%
%:%12385=5164%:%
%:%12386=5164%:%
%:%12387=5165%:%
%:%12388=5166%:%
%:%12389=5166%:%
%:%12390=5167%:%
%:%12391=5167%:%
%:%12392=5168%:%
%:%12393=5168%:%
%:%12394=5169%:%
%:%12395=5169%:%
%:%12396=5170%:%
%:%12397=5170%:%
%:%12398=5170%:%
%:%12399=5171%:%
%:%12400=5171%:%
%:%12401=5172%:%
%:%12402=5173%:%
%:%12403=5173%:%
%:%12404=5174%:%
%:%12405=5174%:%
%:%12406=5175%:%
%:%12407=5175%:%
%:%12408=5176%:%
%:%12409=5177%:%
%:%12410=5177%:%
%:%12411=5178%:%
%:%12412=5179%:%
%:%12413=5180%:%
%:%12414=5180%:%
%:%12415=5181%:%
%:%12416=5181%:%
%:%12417=5182%:%
%:%12418=5182%:%
%:%12419=5183%:%
%:%12420=5183%:%
%:%12421=5184%:%
%:%12422=5184%:%
%:%12423=5185%:%
%:%12424=5185%:%
%:%12425=5186%:%
%:%12426=5186%:%
%:%12427=5186%:%
%:%12428=5187%:%
%:%12429=5187%:%
%:%12430=5188%:%
%:%12431=5188%:%
%:%12432=5188%:%
%:%12433=5189%:%
%:%12434=5190%:%
%:%12435=5190%:%
%:%12436=5191%:%
%:%12437=5191%:%
%:%12438=5192%:%
%:%12439=5192%:%
%:%12440=5192%:%
%:%12441=5193%:%
%:%12442=5194%:%
%:%12443=5194%:%
%:%12444=5195%:%
%:%12445=5195%:%
%:%12446=5196%:%
%:%12447=5197%:%
%:%12448=5197%:%
%:%12449=5198%:%
%:%12450=5198%:%
%:%12451=5199%:%
%:%12452=5199%:%
%:%12453=5200%:%
%:%12454=5200%:%
%:%12455=5201%:%
%:%12456=5201%:%
%:%12457=5202%:%
%:%12458=5203%:%
%:%12459=5203%:%
%:%12460=5204%:%
%:%12461=5204%:%
%:%12462=5205%:%
%:%12463=5205%:%
%:%12464=5206%:%
%:%12465=5206%:%
%:%12466=5207%:%
%:%12467=5207%:%
%:%12468=5208%:%
%:%12469=5208%:%
%:%12470=5209%:%
%:%12471=5209%:%
%:%12472=5210%:%
%:%12478=5210%:%
%:%12481=5211%:%
%:%12482=5212%:%
%:%12483=5212%:%
%:%12484=5213%:%
%:%12485=5214%:%
%:%12486=5215%:%
%:%12487=5215%:%
%:%12488=5216%:%
%:%12489=5217%:%
%:%12490=5218%:%
%:%12497=5219%:%
%:%12498=5219%:%
%:%12499=5220%:%
%:%12500=5220%:%
%:%12501=5221%:%
%:%12502=5221%:%
%:%12503=5222%:%
%:%12504=5222%:%
%:%12505=5223%:%
%:%12506=5223%:%
%:%12507=5224%:%
%:%12508=5224%:%
%:%12509=5225%:%
%:%12510=5225%:%
%:%12511=5226%:%
%:%12517=5226%:%
%:%12520=5227%:%
%:%12521=5228%:%
%:%12522=5228%:%
%:%12523=5229%:%
%:%12524=5230%:%
%:%12525=5231%:%
%:%12532=5232%:%
%:%12533=5232%:%
%:%12534=5233%:%
%:%12535=5233%:%
%:%12536=5234%:%
%:%12537=5234%:%
%:%12538=5235%:%
%:%12539=5235%:%
%:%12540=5236%:%
%:%12541=5236%:%
%:%12542=5237%:%
%:%12543=5237%:%
%:%12544=5238%:%
%:%12545=5238%:%
%:%12546=5239%:%
%:%12552=5239%:%
%:%12555=5240%:%
%:%12556=5241%:%
%:%12557=5241%:%
%:%12560=5242%:%
%:%12564=5242%:%
%:%12565=5242%:%
%:%12570=5242%:%
%:%12573=5243%:%
%:%12574=5244%:%
%:%12575=5244%:%
%:%12576=5245%:%
%:%12577=5246%:%
%:%12578=5247%:%
%:%12579=5248%:%
%:%12582=5249%:%
%:%12586=5249%:%
%:%12587=5249%:%
%:%12588=5250%:%
%:%12589=5250%:%
%:%12590=5251%:%
%:%12591=5251%:%
%:%12592=5252%:%
%:%12593=5252%:%
%:%12594=5253%:%
%:%12595=5253%:%
%:%12596=5254%:%
%:%12597=5254%:%
%:%12598=5255%:%
%:%12599=5255%:%
%:%12600=5256%:%
%:%12601=5256%:%
%:%12602=5257%:%
%:%12603=5257%:%
%:%12604=5258%:%
%:%12605=5258%:%
%:%12606=5259%:%
%:%12607=5259%:%
%:%12608=5260%:%
%:%12609=5260%:%
%:%12610=5261%:%
%:%12611=5261%:%
%:%12612=5262%:%
%:%12618=5262%:%
%:%12621=5263%:%
%:%12622=5264%:%
%:%12623=5264%:%
%:%12624=5265%:%
%:%12625=5266%:%
%:%12626=5267%:%
%:%12627=5267%:%
%:%12630=5270%:%
%:%12637=5271%:%
%:%12638=5271%:%
%:%12639=5272%:%
%:%12640=5272%:%
%:%12641=5273%:%
%:%12642=5273%:%
%:%12643=5274%:%
%:%12644=5274%:%
%:%12645=5275%:%
%:%12646=5275%:%
%:%12647=5276%:%
%:%12648=5276%:%
%:%12649=5277%:%
%:%12650=5277%:%
%:%12651=5278%:%
%:%12652=5278%:%
%:%12653=5279%:%
%:%12654=5279%:%
%:%12655=5280%:%
%:%12656=5280%:%
%:%12657=5281%:%
%:%12658=5281%:%
%:%12659=5282%:%
%:%12660=5283%:%
%:%12661=5283%:%
%:%12662=5284%:%
%:%12663=5284%:%
%:%12664=5285%:%
%:%12665=5286%:%
%:%12666=5286%:%
%:%12667=5287%:%
%:%12668=5287%:%
%:%12669=5287%:%
%:%12670=5288%:%
%:%12671=5288%:%
%:%12672=5289%:%
%:%12678=5289%:%
%:%12681=5290%:%
%:%12682=5291%:%
%:%12683=5291%:%
%:%12684=5292%:%
%:%12685=5293%:%
%:%12688=5296%:%
%:%12691=5297%:%
%:%12695=5297%:%
%:%12696=5297%:%
%:%12697=5298%:%
%:%12698=5298%:%
%:%12703=5298%:%
%:%12708=5299%:%
%:%12713=5300%:%